(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{948:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(20),o=n.n(c),i=n(979),s=n(985),l=n(319),u=n(26),d=n(320),b=n(980),j=n(452),p=n(86),f=n(446),O=n(13),h=n(245),m=n(506),g=n(449),x=n(515),v=n.n(x),y=n(978),C=n(2),P=Object(d.a)({title:{color:"#999999"}}),S=function(e){var t=P();return Object(C.jsx)("div",{children:Object(C.jsxs)(y.a,{children:[Object(C.jsx)(p.a,{className:t.title,component:"h1",variant:"h5",children:e.title}),Object(C.jsx)(l.a,{paddingTop:2,children:e.children})]})})},k=n(996),F=n(37),w=n(111),T=n.n(w),I=n(112),A=n(110),R=n(27),D=n(28),E=n(125),L=n.n(E),B=n(503),N=n.n(B),M=function(){function e(t,n){Object(R.a)(this,e),this.http=t,this.resource=n,this.cancelList=null}return Object(D.a)(e,[{key:"list",value:function(e){this.cancelList&&this.cancelList.cancel("list cancelled"),this.cancelList=L.a.CancelToken.source();var t={cancelToken:this.cancelList.token};return e&&e.queryParams&&(t.params=e.queryParams),this.http.get(this.resource,t)}},{key:"get",value:function(e){return this.http.get("".concat(this.resource,"/").concat(e))}},{key:"create",value:function(e){var t=this.makeSendData(e);return this.http.post(this.resource,t)}},{key:"update",value:function(e,t,n){var r=t;this.containsFile(t)&&(r=this.getFormData(t));var a=n||{},c=a.http,o=a.config;return n&&c&&c.usePost?this.http.post("".concat(this.resource,"/").concat(e),r,o):this.http.put("".concat(this.resource,"/").concat(e),r,o)}},{key:"partialUpdate",value:function(e,t,n){var r=t;this.containsFile(t)&&(r=this.getFormData(t));var a=n||{},c=a.http,o=a.config;return n&&c&&c.usePost?this.http.post("".concat(this.resource,"/").concat(e),r,o):this.http.patch("".concat(this.resource,"/").concat(e),r,o)}},{key:"deleteCollection",value:function(e){var t={};return e&&(t.params=e),this.http.delete("".concat(this.resource),t)}},{key:"isCancelRequest",value:function(e){return L.a.isCancel(e)}},{key:"makeSendData",value:function(e){return this.containsFile(e)?this.getFormData(e):e}},{key:"containsFile",value:function(e){return 0!==Object.values(e).filter((function(e){return e instanceof File})).length}},{key:"getFormData",value:function(e){return N.a.serialize(e,{booleansAsIntegers:!0})}}]),e}(),q=n(41),V=L.a.create({baseURL:"http://localhost:8000/api"}),U=[V];var _,z=new M(V,"categories"),G=n(137),W=n(498),Y=n(143),H=n(146),X="#ffffff",Q="#055052",Z="#ededed",K="#459ac4",J={primary:{main:"#79aec8",contrastText:X},secondary:{main:"#4db5ab",contrastText:X,dark:Q},background:{default:Z},error:{main:Y.a.A400,contrastText:X},success:{main:H.a[500],contrastText:X}},$=Object(G.a)({palette:J,overrides:{MUIDataTable:{paper:{boxShadow:"none"}},MUIDataTableToolbar:{root:{minHeight:"58px",backgroundColor:null===(_=J.background)||void 0===_?void 0:_.default},icon:{color:J.primary.main,"&:hover, &:active, &:focus":{color:Q}},iconActive:{color:Q,"&:hover, &:active, &:focus":{color:Q}}},MUIDataTableHeadCell:{fixedHeader:{paddingTop:8,paddingBottom:8,backgroundColor:J.primary.main,color:X,"&{aria-sort}":K},sortActive:{color:X},sortAction:{alignItems:"center"},sortLabelRoot:{"& svg":{color:X+" !important"}}},MUIDataTableSelectCell:{headerCell:{backgroundColor:J.primary.main,"& span":{color:X+" !important"}}},MUIDataTableBodyCell:{root:{color:J.secondary.main,"&:hover, &:active, &:focus":{color:J.secondary.main}}},MUIDataTableToolbarSelect:{title:{color:J.secondary.main},iconButton:{color:J.secondary.main}},MUIDataTableBodyRow:{root:{"&:nth-child(odd)":{backgroundColor:Z}}},MUIDataTablePagination:{root:{color:J.secondary.main}},MUIDataTableFilterList:{root:{marginBottom:"16px"}}}}),ee=Object(G.a)({palette:{primary:$.palette.success,secondary:$.palette.error}}),te=function(){return Object(C.jsx)(i.a,{theme:ee,children:Object(C.jsx)(W.a,{label:"Yes",color:"primary"})})},ne=function(){return Object(C.jsx)(i.a,{theme:ee,children:Object(C.jsx)(W.a,{label:"No",color:"secondary"})})},re=n(7),ae=n(504),ce=n.n(ae),oe=n(59),ie=n(21),se=n(243),le=n(453),ue=n(326),de=n.n(ue),be=n(327),je=n.n(be),pe=Object(d.a)((function(e){return{main:{display:"flex",flex:"1 0 auto"},searchIcon:{color:e.palette.text.secondary,marginTop:"10px",marginRight:"8px"},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"MUIDataTableSearch"}),fe=function(e){var t=e.options,n=e.searchText,a=e.onSearch,c=e.onHide,o=e.debounceTime,i=e.reset,s=pe(),l=Object(r.useState)(n),u=Object(O.a)(l,2),d=u[0],b=u[1],j=d;Object(r.useEffect)((function(){i&&(c(),b(""),a(""))}),[b,i,a,c]);var p=function(e){a(e)};p=Object(r.useCallback)(Object(oe.debounce)(p,o),[]),i&&(j=n);return Object(C.jsx)(se.a,{appear:!0,in:!0,timeout:300,children:Object(C.jsxs)("div",{className:s.main,children:[Object(C.jsx)(de.a,{className:s.searchIcon}),Object(C.jsx)(le.a,Object(re.a)({className:s.searchText,autoFocus:!0,InputProps:{"data-test-id":t.textLabels.toolbar.search},inputProps:{"aria-label":t.textLabels.toolbar.search},value:j||"",onKeyDown:function(e){"Escape"===e.key&&c()},onChange:function(e){var t=e.target.value;b(t),p(t)},fullWidth:!0,placeholder:t.searchPlaceholder},t.searchProps?t.searchProps:{})),Object(C.jsx)(h.a,{className:s.clearIcon,onClick:c,children:Object(C.jsx)(je.a,{})})]})})},Oe=function(e){var t,n,r,a=Object(oe.cloneDeep)(Object(ie.a)()),c=Object(oe.merge)({options:Object(oe.cloneDeep)((n=e.reset,r=e.debouncedTimeSearch,{print:!1,download:!1,responsive:"standard",textLabels:{body:{}},customSearchRender:function(e,t,a,c){return Object(C.jsx)(fe,{searchText:e,onSearch:t,onHide:a,options:c,debounceTime:r,reset:n})}}))},e,{columns:(t=e.columns,function(e){e.forEach((function(e,t){e.width&&(a.overrides.MUIDataTableHeadCell.fixedHeader["&:nth-child("+(t+2)+")"]={width:e.width})}))}(t),t.map((function(e){return Object(oe.omit)(e,"width")})))});!function(){var e,t,n,r,a;(null===(e=c.options)||void 0===e||null===(t=e.textLabels)||void 0===t?void 0:t.body).noMatch=!0===c.loading?"Loading...":null===(n=c.options)||void 0===n||null===(r=n.textLabels)||void 0===r||null===(a=r.body)||void 0===a?void 0:a.noMatch}();var o=Object(oe.omit)(c,"isLoading");return Object(C.jsx)(i.a,{theme:a,children:Object(C.jsx)(ce.a,Object(re.a)({},o))})};function he(e){return function(t){var n=Object(oe.cloneDeep)(t),r='&[data-testid^="MuiDataTableBodyCell-'.concat(e,'"]');return n.overrides.MUIDataTableBodyCell.root[r]={paddingTop:"0px",paddingBottom:"0px"},n}}var me,ge=n(36),xe=n(95),ve=n.n(xe),ye=n(442),Ce=n(1005),Pe=Object(d.a)((function(e){return{iconButton:e.overrides.MUIDataTableToolbar.icon}})),Se=function(e){var t=Pe();return Object(C.jsx)(ye.a,{title:"Clean search",children:Object(C.jsx)(h.a,{className:t.iconButton,onClick:e.handleClick,children:Object(C.jsx)(Ce.a,{})})})},ke=n(150),Fe=Object(ke.createActions)({setSearch:["payload"],setPage:["payload"],setPerPage:["payload"],setOrder:["payload"],setReset:["payload"],updateExtraFilter:["payload"]}),we=Fe.Types,Te=Fe.Creators,Ie={search:"",reset:!1,pagination:{page:1,per_page:15},order:{direction:"desc",name:""}};var Ae=Object(ke.createReducer)(Ie,(me={},Object(u.a)(me,we.SET_SEARCH,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(re.a)(Object(re.a)({},e),{},{search:t.payload.search,pagination:Object(re.a)(Object(re.a)({},e.pagination),{},{page:1}),reset:!1})})),Object(u.a)(me,we.SET_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(re.a)(Object(re.a)({},e),{},{pagination:Object(re.a)(Object(re.a)({},e.pagination),{},{page:t.payload.page}),reset:!1})})),Object(u.a)(me,we.SET_PER_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(re.a)(Object(re.a)({},e),{},{pagination:Object(re.a)(Object(re.a)({},e.pagination),{},{per_page:t.payload.per_page}),reset:!1})})),Object(u.a)(me,we.SET_ORDER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(re.a)(Object(re.a)({},e),{},{pagination:Object(re.a)(Object(re.a)({},e.pagination),{},{page:1}),order:{name:t.payload.order.name,direction:t.payload.order.direction},reset:!1})})),Object(u.a)(me,we.SET_RESET,(function(){var e=arguments.length>1?arguments[1]:void 0;return Object(re.a)(Object(re.a)({},e.payload.state),{},{reset:!0})})),Object(u.a)(me,we.UPDATE_EXTRA_FILTER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(re.a)(Object(re.a)({},e),{},{extraFilter:Object(re.a)(Object(re.a)({},e.extraFilter),t.payload)})})),me)),Re=n(1010),De=n(18),Ee=n(24);function Le(e){var t=Object(De.f)(),n=Object(De.g)(),a=n.search,c=n.pathname,o=n.state,i=e.rowsPerPage,s=e.rowsPerPageOptions,l=e.extraFilter,u=e.columns,d=Object(r.useMemo)((function(){return Ee.d().shape(Object(re.a)({search:Ee.e().transform((function(e){return e||void 0})).default(""),pagination:Ee.d().shape({page:Ee.c().transform((function(e){return isNaN(e)||parseInt(e)<1?void 0:e})).default(1),per_page:Ee.c().transform((function(e){return isNaN(e)||!s.includes(parseInt(e))?void 0:e})).default(i)}),order:Ee.d().shape({sort:Ee.e().nullable().transform((function(e){return u.filter((function(e){return!e.options||!1!==e.options.sort})).map((function(e){return e.name})).includes(e)?e:void 0})).default(null),dir:Ee.e().nullable().transform((function(e){return e&&["asc","desc"].includes(e.toLowerCase())?e:void 0})).default(null)})},l&&{extraFilter:l.createValidationSchema()}))}),[s,i,u,l]),b=Object(r.useMemo)((function(){var e=new URLSearchParams(n.search.substring(1));return d.cast(Object(re.a)({search:e.get("search"),pagination:{page:e.get("page"),per_page:e.get("per_page")},order:{name:e.get("sort"),direction:e.get("dir")}},l&&{extraFilter:l.getStateFromURL(e)}))}),[n.search,l,d]),j=Object(r.useCallback)((function(e){var t=e;return e&&void 0!==e.value&&(t=e.value),t}),[]),p=Object(r.useCallback)((function(e,t){var n=j(e.search);return Object(re.a)(Object(re.a)(Object(re.a)(Object(re.a)(Object(re.a)({},n&&""!==n&&{search:n}),1!==e.pagination.page&&{page:e.pagination.page}),15!==e.pagination.per_page&&{per_page:e.pagination.per_page}),e.order.name&&{sort:e.order.name,dir:e.order.direction}),t&&t.formatSearchParams(e))}),[j]),f=b,h=Object(r.useReducer)(Ae,f),m=Object(O.a)(h,2),g=m[0],x=m[1],v=new Be(Object(re.a)(Object(re.a)({},e),{},{state:g,dispatch:x,schema:d})),y=Object(Re.a)(g,e.debounceTime),C=Object(O.a)(y,1)[0],P=Object(r.useState)(0),S=Object(O.a)(P,2),k=S[0],F=S[1];return Object(r.useEffect)((function(){t.replace({pathname:c,search:"?"+new URLSearchParams(p(b,l)),state:b})}),[t,c,p,b,l]),Object(r.useEffect)((function(){var e={pathname:c,search:"?"+new URLSearchParams(p(C,l)),state:Object(re.a)(Object(re.a)({},C),{},{search:j(C.search)})},n=o,r=C;Object(oe.isEqual)(n,r)||t.push(e)}),[t,c,a,p,o,j,C,l]),v.state=g,v.applyOrderInColumns(),{columns:v.columns,cleanSearchText:j,filterManager:v,filterState:g,debouncedFilterState:C,dispatch:x,totalRecords:k,setTotalRecords:F}}var Be=function(){function e(t){Object(R.a)(this,e),this.schema=void 0,this.state=void 0,this.dispatch=void 0,this.columns=void 0,this.rowsPerPage=void 0;var n=t.schema,r=t.columns,a=t.rowsPerPage,c=t.dispatch,o=t.state;this.schema=n,this.columns=r,this.rowsPerPage=a,this.dispatch=c,this.state=o}return Object(D.a)(e,[{key:"changeSearch",value:function(e){this.dispatch(Te.setSearch({search:e||""}))}},{key:"changePage",value:function(e){this.dispatch(Te.setPage({page:e+1}))}},{key:"changeRowsPerPage",value:function(e){this.dispatch(Te.setPerPage({per_page:e}))}},{key:"changeColumnSort",value:function(e,t){this.dispatch(Te.setOrder({order:{name:e,direction:t}}))}},{key:"changeExtraFilter",value:function(e){this.dispatch(Te.updateExtraFilter(e))}},{key:"resetFilter",value:function(){var e=Object(re.a)(Object(re.a)({},this.schema.cast({})),{},{search:""});this.dispatch(Te.setReset({state:e}))}},{key:"applyOrderInColumns",value:function(){var e=this;this.columns=this.columns.map((function(t){return t.name===e.state.order.name?Object(re.a)(Object(re.a)({},t),{},{options:Object(re.a)(Object(re.a)({},t.options),{},{sortDirection:e.state.order.direction})}):t}))}}]),e}(),Ne=Object(r.createContext)(!1),Me=[15,25,50],qe=[{name:"id",label:"Id",width:"30%",options:{filter:!1,sort:!1}},{name:"name",label:"Name",width:"43%",options:{filter:!1}},{name:"is_active",label:"Active?",width:"4%",options:{filterOptions:{names:["Yes","No"]},customBodyRender:function(e,t,n){return e?Object(C.jsx)(te,{}):Object(C.jsx)(ne,{})}}},{name:"created_at",label:"Created at",width:"10%",options:{filter:!1,customBodyRender:function(e,t,n){return Object(C.jsx)("span",{children:Object(I.a)(Object(A.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"Actions",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,n){return Object(C.jsx)(h.a,{color:"secondary",component:F.b,to:"/categories/"+t.rowData[0]+"/edit",children:Object(C.jsx)(ve.a,{fontSize:"inherit"})})}}}],Ve=function(){var e=Object(ge.b)().enqueueSnackbar,t=Object(r.useState)([]),n=Object(O.a)(t,2),a=n[0],c=n[1],o=Object(r.useContext)(Ne),s=Le({columns:qe,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:Me}),l=s.filterManager,u=s.cleanSearchText,d=s.filterState,b=s.totalRecords,j=s.setTotalRecords,p=s.debouncedFilterState;return Object(r.useEffect)((function(){z.list({queryParams:{search:u(p.search),page:p.pagination.page,per_page:p.pagination.per_page,sort:p.order.name,dir:p.order.direction}}).then((function(e){var t=e.data;j(t.meta.total),c(t.data)})).catch((function(t){z.isCancelRequest(t)||e("Cannot retrieve information",{variant:"error"})}))}),[p.search,p.pagination.page,p.pagination.per_page,p.order,j,e,u]),Object(C.jsx)(i.a,{theme:he(qe.length-1),children:Object(C.jsx)(Oe,{debouncedTimeSearch:300,loading:o,columns:qe,data:a,reset:d.reset,title:"",options:{sortOrder:d.order,serverSide:!0,searchText:d.search,page:d.pagination.page-1,rowsPerPage:d.pagination.per_page,rowsPerPageOptions:Me,count:b,customToolbar:function(){return Object(C.jsx)(Se,{handleClick:function(){return l.resetFilter()}})},onSearchChange:function(e){return l.changeSearch(e)},onChangePage:function(e){return l.changePage(e)},onChangeRowsPerPage:function(e){return l.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return l.changeColumnSort(e,t)}}})})},Ue=function(){return Object(C.jsxs)(S,{title:"List Categories",children:[Object(C.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(C.jsx)(k.a,{title:"Add Category",color:"secondary",size:"small",component:F.b,to:"categories/create",children:Object(C.jsx)(T.a,{})})}),Object(C.jsx)(l.a,{children:Object(C.jsx)(Ve,{})})]})},_e=n(15),ze=n.n(_e),Ge=n(33),We=new M(V,"genres"),Ye=[{name:"id",label:"Id",width:"30%",options:{filter:!1,sort:!1}},{name:"name",label:"Name",width:"20%",options:{filter:!1}},{name:"categories",label:"categories",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,n){var r=[];return e.forEach((function(e){r.push(e.name)})),Object(C.jsx)("span",{children:r.join(", ")})}}},{name:"is_active",label:"Active?",width:"4%",options:{filterOptions:{names:["Yes","No"]},customBodyRender:function(e,t,n){return e?Object(C.jsx)(te,{}):Object(C.jsx)(ne,{})}}},{name:"created_at",label:"Created at",width:"10%",options:{filter:!1,customBodyRender:function(e,t,n){return Object(C.jsx)("span",{children:Object(I.a)(Object(A.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"Actions",width:"13%",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return Object(C.jsx)(h.a,{color:"secondary",component:F.b,to:"/genres/"+t.rowData[0]+"/edit",children:Object(C.jsx)(ve.a,{fontSize:"inherit"})})}}}],He=[15,25,50],Xe=function(){var e=Object(ge.b)().enqueueSnackbar,t=Object(r.useState)([]),n=Object(O.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(!1),s=Object(O.a)(o,2),l=s[0],d=s[1],b=Object(r.useRef)(!0),j=Object(r.useMemo)((function(){return{createValidationSchema:function(){return Ee.d().shape({categories:Ee.b().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(re.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")}):void 0},getStateFromURL:function(e){return{categories:e.get("categories")}}}}),[]),p=Le({columns:Ye,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:He,extraFilter:j}),f=p.filterManager,h=p.filterState,m=p.debouncedFilterState,g=p.totalRecords,x=p.cleanSearchText,v=p.setTotalRecords,y=Ye.findIndex((function(e){return"categories"===e.name})),P=Ye[y],S=h.extraFilter&&h.extraFilter.categories;P.options.filterList=S||[];var k=Ye.map((function(e){return[]}));S&&(k[y]=S),Object(r.useEffect)((function(){var t=!0;return Object(Ge.a)(ze.a.mark((function n(){var r,a;return ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,z.list({queryParams:{all:""}});case 3:r=n.sent,a=r.data,t&&(P.options.filterOptions.names=a.data.map((function(e){return e.name}))),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0),e("Cannot retrieve information",{variant:"error"});case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))(),function(){t=!1}}),[P.options,e]);var F=Object(r.useCallback)(Object(Ge.a)(ze.a.mark((function t(){var n,r;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,We.list({queryParams:Object(re.a)({search:x(m.search),page:m.pagination.page,per_page:m.pagination.per_page,sort:m.order.name,dir:m.order.direction},m.extraFilter&&m.extraFilter.categories&&{categories:m.extraFilter.categories.join(",")})});case 4:n=t.sent,r=n.data,b.current&&(c(r.data),v(r.meta.total)),t.next=15;break;case 9:if(t.prev=9,t.t0=t.catch(1),console.error(t.t0),!We.isCancelRequest(t.t0)){t.next=14;break}return t.abrupt("return");case 14:e("Cannot retrieve information",{variant:"error"});case 15:return t.prev=15,d(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,9,15,18]])}))),[x,m.extraFilter,m.order.direction,m.order.name,m.pagination.page,m.pagination.per_page,m.search,e,v]);return Object(r.useEffect)((function(){return b.current=!0,F(),function(){b.current=!1}}),[m.pagination.page,m.pagination.per_page,m.order,F]),Object(C.jsx)(i.a,{theme:he(Ye.length-1),children:Object(C.jsx)(Oe,{title:"",columns:Ye,data:a,loading:l,reset:h.reset,debouncedTimeSearch:300,options:{sortOrder:h.order,serverSide:!0,searchText:h.search,page:h.pagination.page-1,rowsPerPage:h.pagination.per_page,rowsPerPageOptions:He,count:g,onFilterChange:function(e,t,n){var r=Ye.findIndex((function(t){return t.name===e}));f.changeExtraFilter(Object(u.a)({},e,t[r].length?t[r]:null))},customToolbar:function(){return Object(C.jsx)(Se,{handleClick:function(){return f.resetFilter()}})},onSearchChange:function(e){return f.changeSearch(e)},onChangePage:function(e){return f.changePage(e)},onChangeRowsPerPage:function(e){return f.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return f.changeColumnSort(e,t)}}})})},Qe=function(){return Object(C.jsxs)(S,{title:"List Genres",children:[Object(C.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(C.jsx)(k.a,{title:"Add Genre",color:"secondary",size:"small",component:F.b,to:"genres/create",children:Object(C.jsx)(T.a,{})})}),Object(C.jsx)(l.a,{children:Object(C.jsx)(Xe,{})})]})},Ze={1:"Director",2:"Actor"},Ke={thumb_file:"Thumbnail",banner_file:"Banner",trailer_file:"Trailer",video_file:"Principal"},Je=new M(V,"cast_members"),$e=Object.values(Ze),et=[{name:"id",label:"Id",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Name",width:"40%",options:{filter:!1}},{name:"type",label:"Type",width:"7%",options:{filterOptions:{names:$e},customBodyRender:function(e,t,n){return Ze[e]}}},{name:"created_at",label:"Created at",width:"10%",options:{filter:!1,customBodyRender:function(e,t,n){return Object(C.jsx)("span",{children:Object(I.a)(Object(A.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"Actions",width:"13%",options:{filter:!1,sort:!1,customBodyRender:function(e,t,n){return Object(C.jsx)(h.a,{color:"secondary",component:F.b,to:"/members/"+t.rowData[0]+"/edit",children:Object(C.jsx)(ve.a,{fontSize:"inherit"})})}}}],tt=[15,25,50],nt=function(){var e=Object(ge.b)().enqueueSnackbar,t=Object(r.useState)([]),n=Object(O.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(!1),s=Object(O.a)(o,2),l=s[0],d=s[1],b=Object(r.useRef)(!0),j=Object(r.useMemo)((function(){return{createValidationSchema:function(){return Ee.d().shape({type:Ee.e().nullable().transform((function(e){return e&&$e.includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(re.a)({},e.extraFilter.type&&{type:e.extraFilter.type}):void 0},getStateFromURL:function(e){return{type:e.get("type")}}}}),[]),p=Le({columns:et,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:tt,extraFilter:j}),f=p.filterManager,h=p.filterState,m=p.debouncedFilterState,g=p.cleanSearchText,x=p.totalRecords,v=p.setTotalRecords,y=et.findIndex((function(e){return"type"===e.name})),P=et[y],S=h.extraFilter&&h.extraFilter.type;P.options.filterList=S?[S]:[];var k=et.map((function(e){return[]}));S&&(k[y]=[S]);var F=Object(r.useCallback)(Object(Ge.a)(ze.a.mark((function t(){var n,r;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,Je.list({queryParams:Object(re.a)({search:g(m.search),page:m.pagination.page,per_page:m.pagination.per_page,sort:m.order.name,dir:m.order.direction},m.extraFilter&&m.extraFilter.type&&{type:Object(oe.invert)(Ze)[m.extraFilter.type]})});case 4:n=t.sent,r=n.data,b.current&&(c(r.data),v(r.meta.total)),t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(1),!Je.isCancelRequest(t.t0)){t.next=13;break}return t.abrupt("return");case 13:e("Cannot retrieve information",{variant:"error"});case 14:return t.prev=14,d(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,9,14,17]])}))),[g,m.extraFilter,m.order.direction,m.order.name,m.pagination.page,m.pagination.per_page,m.search,e,v]);return Object(r.useEffect)((function(){return b.current=!0,F(),function(){b.current=!1}}),[m.pagination.page,m.pagination.per_page,m.order,F]),Object(C.jsx)(i.a,{theme:he(et.length-1),children:Object(C.jsx)(Oe,{title:"",columns:et,data:a,loading:l,debouncedTimeSearch:300,options:{sortOrder:h.order,serverSide:!0,searchText:h.search,page:h.pagination.page-1,rowsPerPage:h.pagination.per_page,rowsPerPageOptions:tt,count:x,onFilterChange:function(e,t,n){var r=et.findIndex((function(t){return t.name===e}));f.changeExtraFilter(Object(u.a)({},e,t[r].length?t[r][0]:null))},customToolbar:function(){return Object(C.jsx)(Se,{handleClick:function(){return f.resetFilter()}})},onSearchChange:function(e){return f.changeSearch(e)},onChangePage:function(e){return f.changePage(e)},onChangeRowsPerPage:function(e){return f.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return f.changeColumnSort(e,t)}}})})},rt=function(){return Object(C.jsxs)(S,{title:"List CastMembers",children:[Object(C.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(C.jsx)(k.a,{title:"Add Cast Member",color:"secondary",size:"small",component:F.b,to:"members/create",children:Object(C.jsx)(T.a,{})})}),Object(C.jsx)(l.a,{children:Object(C.jsx)(nt,{})})]})},at=new M(V,"videos"),ct=function(){var e=Object(r.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)({data:[]}),o=Object(O.a)(c,2),i=o[0],s=o[1];return Object(r.useEffect)((function(){i.data.length&&a(!0)}),[i]),{openDeleteDialog:n,setOpenDeleteDialog:a,rowsToDelete:i,setRowsToDelete:s}},ot=n(986),it=n(991),st=n(989),lt=n(990),ut=n(988),dt=function(e){var t=e.open,n=e.handleClose;return Object(C.jsxs)(ot.a,{open:t,onClose:function(){return n(!1)},children:[Object(C.jsx)(it.a,{children:"Delete register"}),Object(C.jsx)(st.a,{children:Object(C.jsx)(lt.a,{children:"Do you really want to remove this registry(s)?"})}),Object(C.jsxs)(ut.a,{children:[Object(C.jsx)(f.a,{onClick:function(){return n(!1)},color:"primary",children:"Cancel"}),Object(C.jsx)(f.a,{onClick:function(){return n(!0)},color:"primary",autoFocus:!0,children:"Delete"})]})]})},bt=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"title",label:"Title",width:"20%",options:{filter:!1}},{name:"genres",label:"Genres",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,n){return e.map((function(e){return e.name})).join(", ")}}},{name:"categories",label:"Categories",width:"12%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,n){return e.map((function(e){return e.name})).join(", ")}}},{name:"created_at",label:"Created at",width:"10%",options:{filter:!1,customBodyRender:function(e,t,n){return Object(C.jsx)("span",{children:Object(I.a)(Object(A.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"Actions",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return Object(C.jsx)(h.a,{color:"secondary",component:F.b,to:"/videos/".concat(t.rowData[0],"/edit"),children:Object(C.jsx)(ve.a,{})})}}}],jt=[15,25,50],pt=function(){var e=Object(ge.b)(),t=Object(r.useRef)(!0),n=Object(r.useState)([]),a=Object(O.a)(n,2),c=a[0],o=a[1],s=Object(r.useContext)(Ne),l=ct(),u=l.openDeleteDialog,d=l.setOpenDeleteDialog,b=l.rowsToDelete,j=l.setRowsToDelete,p=Le({columns:bt,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:jt}),f=p.filterManager,h=p.filterState,m=p.debouncedFilterState,g=p.totalRecords,x=p.cleanSearchText,v=p.setTotalRecords,y=Object(r.useCallback)(Object(Ge.a)(ze.a.mark((function n(){var r,a;return ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,at.list({queryParams:{search:x(m.search),page:m.pagination.page,per_page:m.pagination.per_page,sort:m.order.name,dir:m.order.direction}});case 3:r=n.sent,a=r.data,t.current&&(o(a.data),v(a.meta.total),u&&d(!1)),n.next=14;break;case 8:if(n.prev=8,n.t0=n.catch(0),console.error(n.t0),!at.isCancelRequest(n.t0)){n.next=13;break}return n.abrupt("return");case 13:e.enqueueSnackbar("Cannot loading informations",{variant:"error"});case 14:case"end":return n.stop()}}),n,null,[[0,8]])}))),[x,m.order.direction,m.order.name,m.pagination.page,m.pagination.per_page,m.search,u,d,v,e]);return Object(r.useEffect)((function(){return t.current=!0,y(),function(){t.current=!1}}),[m.pagination.page,m.pagination.per_page,m.order,y]),Object(C.jsxs)(i.a,{theme:he(bt.length-1),children:[Object(C.jsx)(dt,{open:u,handleClose:function(t){if(t){var n=b.data.map((function(e){return c[e.index].id})).join(",");at.deleteCollection({ids:n}).then((function(t){if(e.enqueueSnackbar("Registries removed",{variant:"success"}),b.data.length===h.pagination.per_page&&h.pagination.page>1){var n=h.pagination.page-2;f.changePage(n)}else y()})).catch((function(t){console.error(t),e.enqueueSnackbar("Cannot remove registries",{variant:"error"})}))}else d(!1)}}),Object(C.jsx)(Oe,{title:"",columns:bt,data:c,reset:h.reset,loading:s,debouncedTimeSearch:300,options:{serverSide:!0,searchText:h.search,page:h.pagination.page-1,rowsPerPage:h.pagination.per_page,rowsPerPageOptions:jt,count:g,customToolbar:function(){return Object(C.jsx)(Se,{handleClick:function(){return f.resetFilter()}})},onSearchChange:function(e){return f.changeSearch(e)},onChangePage:function(e){return f.changePage(e)},onChangeRowsPerPage:function(e){return f.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return f.changeColumnSort(e,t)},onRowsDelete:function(e,t){return j(e),!1}}})]})},ft=function(){return Object(C.jsxs)(S,{title:"List Videos",children:[Object(C.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(C.jsx)(k.a,{title:"Add Video",color:"secondary",size:"small",component:F.b,to:"videos/create",children:Object(C.jsx)(T.a,{})})}),Object(C.jsx)(l.a,{children:Object(C.jsx)(pt,{})})]})},Ot=n(447),ht=n(496),mt=n(38),gt=n(113),xt=Object(d.a)((function(e){return{submit:{margin:e.spacing(1)}}})),vt=function(e){var t=xt(),n={variant:"contained",color:"secondary",disabled:!!e.disabledButtons,className:t.submit};return Object(C.jsxs)(l.a,{dir:"ltf",children:[Object(C.jsx)(f.a,Object(re.a)(Object(re.a)({},n),{},{onClick:e.handleSave,children:"Save"})),Object(C.jsx)(f.a,Object(re.a)(Object(re.a)({type:"submit"},n),{},{children:"Save and continue editing"}))]})},yt=n(264),Ct=n(997),Pt=Object(d.a)((function(e){return{gridItem:{padding:e.spacing(1,0)}}})),St=function(e){var t=Pt(),n=e.GridContainerProps,r=e.GridItemProps,a=Object(yt.a)(e,["GridContainerProps","GridItemProps"]);return Object(C.jsx)("form",Object(re.a)(Object(re.a)({},a),{},{children:Object(C.jsx)(Ct.a,Object(re.a)(Object(re.a)({container:!0},n),{},{children:Object(C.jsx)(Ct.a,Object(re.a)(Object(re.a)({item:!0},r),{},{className:t.gridItem,children:e.children}))}))}))},kt=Ee.d().shape({name:Ee.e().label("Name").required().max(25).label("Name")}),Ft=function(){var e=Object(De.h)().id,t=Object(ge.b)().enqueueSnackbar,n=Object(r.useContext)(Ne),a=Object(De.f)(),c=Object(mt.e)({defaultValues:{name:"",description:"",is_active:!0},resolver:Object(gt.a)(kt)}),o=c.handleSubmit,i=c.getValues,s=c.control,l=c.reset,u=c.watch,d=c.setValue,b=c.trigger,j=c.formState.errors;function p(n,r){(e?z.update(e,n):z.create(n)).then((function(n){var c=n.data;t("Category save successful",{variant:"success"}),r?e?a.replace("/categories/".concat(c.data.id,"/edit")):a.push("/categories/".concat(c.data.id,"/edit")):a.push("/categories")})).catch((function(e){t(e.message,{variant:"success"})}))}return Object(r.useEffect)((function(){e&&z.get(e).then((function(e){var t=e.data;l(t.data)})).catch((function(){a.push("/categories"),t("Category not found",{variant:"error"})}))}),[e,l,t,a]),Object(C.jsxs)(St,{GridItemProps:{xs:12,md:6},onSubmit:o(p),children:[Object(C.jsx)(mt.a,{control:s,render:function(e){var t=e.field;return Object(C.jsx)(le.a,Object(re.a)(Object(re.a)({},t),{},{type:"text",label:"Name",fullWidth:!0,variant:"outlined",margin:"normal",disabled:n,error:!!j.name,helperText:j.name&&j.name.message,InputLabelProps:{shrink:!0}}))},name:"name"}),Object(C.jsx)(mt.a,{control:s,render:function(e){var t=e.field;return Object(C.jsx)(le.a,Object(re.a)(Object(re.a)({},t),{},{name:"description",label:"Description",variant:"outlined",value:t.value||"",disabled:n,multiline:!0,fullWidth:!0,rows:4,InputLabelProps:{shrink:!0}}))},name:"description"}),Object(C.jsx)(mt.a,{name:"is_active",control:s,render:function(e){var t=e.field;return Object(C.jsx)(Ot.a,{control:Object(C.jsx)(ht.a,Object(re.a)(Object(re.a)({},t),{},{checked:u("is_active"),disabled:n,onChange:function(e){d("is_active",!i().is_active)}})),label:"Active?"})}}),Object(C.jsx)(vt,{disabledButtons:n,handleSave:Object(Ge.a)(ze.a.mark((function e(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:j.name||p(i(),null);case 3:case"end":return e.stop()}}),e)})))})]})},wt=function(){var e=Object(De.h)().id;return Object(C.jsx)(S,{title:e?"Edit Category":"Create Category",children:Object(C.jsx)(Ft,{})})},Tt=function(){var e=Object(De.h)().id,t=Object(ge.b)().enqueueSnackbar,n=Object(r.useState)(!1),a=Object(O.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)([]),s=Object(O.a)(i,2),l=s[0],u=s[1],d=Object(r.useState)([]),b=Object(O.a)(d,2),j=b[0],p=b[1],f=Object(De.f)(),h=Ee.d().shape({name:Ee.e().label("Name").required().max(25).label("Name"),categories_id:Ee.a().required()}),m=Object(mt.e)({defaultValues:{name:"",is_active:!0,categories_id:[]},resolver:Object(gt.a)(h)}),x=m.handleSubmit,v=m.getValues,y=m.control,P=m.reset,S=m.trigger,k=m.watch,F=m.setValue,w=m.formState.errors;function T(n,r){o(!0),(e?We.update(e,n):We.create(n)).then((function(n){var a=n.data;o(!1),t("Genre save successful",{variant:"success"}),r?e?f.replace("/genres/".concat(a.data.id,"/edit")):f.push("/genres/".concat(a.data.id,"/edit")):f.push("/genres")})).catch((function(e){o(!1),t(e.message,{variant:"error"})}))}Object(r.useEffect)((function(){z.list({queryParams:{all:""}}).then((function(e){var t=e.data;p(t.data)})).catch((function(){f.push("/genres"),t("Fail to retrieve list of categories",{variant:"error"})}))}),[t,f]),Object(r.useEffect)((function(){e&&(o(!0),We.get(e).then((function(e){var t=e.data;o(!1);var n=t.data.categories.map((function(e){return e.id})),r={name:t.data.name,is_active:t.data.is_active,categories_id:n};u(n),P(r)})).catch((function(e){o(!1),f.push("/genres"),t("Genre not found",{variant:"error"})})))}),[t,f,e,P,F]);var I=function(e){e.persist(),u(e.target.value),F("categories_id",e.target.value)};return Object(C.jsxs)("form",{onSubmit:x(T),children:[Object(C.jsx)(mt.a,{control:y,render:function(e){var t=e.field;return Object(C.jsx)(le.a,Object(re.a)(Object(re.a)({},t),{},{type:"text",label:"Name",fullWidth:!0,variant:"outlined",margin:"normal",disabled:c,error:!!w.name,helperText:w.name&&w.name.message,InputLabelProps:{shrink:!0}}))},name:"name"}),Object(C.jsx)(mt.a,{control:y,render:function(e){var t=e.field;return Object(C.jsxs)(le.a,Object(re.a)(Object(re.a)({},t),{},{select:!0,fullWidth:!0,label:"Categories",variant:"outlined",SelectProps:{defaultValue:[],multiple:!0,value:l,onChange:I},children:[Object(C.jsx)(g.a,{value:"first",disabled:!0,children:Object(C.jsx)("em",{children:"Select Category"})}),j.map((function(e,t){return Object(C.jsx)(g.a,{value:e.id,children:e.name},t)}))]}))},name:"categories_id"}),Object(C.jsx)(mt.a,{name:"is_active",control:y,render:function(e){var t=e.field;return Object(C.jsx)(Ot.a,{control:Object(C.jsx)(ht.a,Object(re.a)(Object(re.a)({},t),{},{checked:k("is_active"),disabled:c,onChange:function(e){F("is_active",!v().is_active)}})),label:"Active?"})}}),Object(C.jsx)(vt,{disabledButtons:c,handleSave:Object(Ge.a)(ze.a.mark((function e(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:w.name||w.categories_id||T(v(),null);case 3:case"end":return e.stop()}}),e)})))})]})},It=function(){var e=Object(De.h)().id;return Object(C.jsx)(S,{title:e?"Edit Genre":"Create Genre",children:Object(C.jsx)(Tt,{})})},At=n(31),Rt=n(998),Dt=n(981),Et=n(983),Lt=n(1007),Bt=n(321),Nt=n(960),Mt=n(450),qt=n(959),Vt=Object(d.a)({root:{width:"36px",height:"36px",fontSize:"1.2em",color:"#fff",borderRadius:"#4px",display:"flex",alignItems:"center",justifyContent:"center"}}),Ut={L:"#39B549",10:"#20A3D4",12:"#E79738",14:"#E35E00",16:"#d00003",18:"#000000"},_t=function(e){var t=Vt();return Object(C.jsx)(p.a,{className:t.root,style:{backgroundColor:Ut[e.rating]},children:e.rating})},zt=[{value:"L",control:Object(C.jsx)(Lt.a,{color:"primary"}),label:Object(C.jsx)(_t,{rating:"L"}),labelPlacement:"top"},{value:"10",control:Object(C.jsx)(Lt.a,{color:"primary"}),label:Object(C.jsx)(_t,{rating:"10"}),labelPlacement:"top"},{value:"12",control:Object(C.jsx)(Lt.a,{color:"primary"}),label:Object(C.jsx)(_t,{rating:"12"}),labelPlacement:"top"},{value:"14",control:Object(C.jsx)(Lt.a,{color:"primary"}),label:Object(C.jsx)(_t,{rating:"14"}),labelPlacement:"top"},{value:"16",control:Object(C.jsx)(Lt.a,{color:"primary"}),label:Object(C.jsx)(_t,{rating:"16"}),labelPlacement:"top"},{value:"18",control:Object(C.jsx)(Lt.a,{color:"primary"}),label:Object(C.jsx)(_t,{rating:"18"}),labelPlacement:"top"}],Gt=function(e){var t=e.value,n=e.setValue,r=e.error,a=e.disabled;return Object(C.jsxs)(Bt.a,Object(re.a)(Object(re.a)({error:void 0!==r,disabled:!0===a},e.FormControlProps),{},{children:[Object(C.jsx)(Nt.a,{component:"legend",children:"Classification"}),Object(C.jsx)(l.a,{paddingTop:1,children:Object(C.jsx)(Mt.a,{name:"rating",onChange:function(e){n(e.target.value)},value:t,row:!0,children:zt.map((function(e,t){return Object(C.jsx)(Ot.a,Object(re.a)({},e),t)}))})}),r&&Object(C.jsx)(qt.a,{children:r.message})]}))},Wt=n(511),Yt=n.n(Wt),Ht=n(999),Xt=r.forwardRef((function(e,t){var n=Object(r.useRef)(),a=Object(r.useState)(""),c=Object(O.a)(a,2),o=c[0],i=c[1],s=Object(re.a)(Object(re.a)({variant:"outlined"},e.TextFieldProps),{},{InputProps:Object(re.a)(Object(re.a)({},e.TextFieldProps&&e.TextFieldProps.InputProps&&Object(re.a)({},e.TextFieldProps.InputProps)),{},{readOnly:!0,endAdornment:Object(C.jsx)(Ht.a,{position:"end",children:e.ButtonFile})}),value:o}),l=Object(re.a)(Object(re.a)({},e.InputFileProps),{},{hidden:!0,ref:n,onChange:function(t){var n=t.target.files;n.length&&i(Array.from(n).map((function(e){return e.name})).join(", ")),e.InputFileProps&&e.InputFileProps.onChange&&e.InputFileProps.onChange(t)}});return Object(r.useImperativeHandle)(t,(function(){return{openWindow:function(){return n.current.click()},clear:function(){return i("")}}})),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("input",Object(re.a)({type:"file"},l)),Object(C.jsx)(le.a,Object(re.a)({},s))]})})),Qt=r.forwardRef((function(e,t){var n=Object(r.useRef)(),a=e.accept,c=e.label,o=e.setValue,i=e.error,s=e.disabled;return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return n.current.clear()}}})),Object(C.jsx)(Bt.a,Object(re.a)(Object(re.a)({error:void 0!==i,disabled:!0===s,fullWidth:!0,margin:"normal"},e.FormControlProps),{},{children:Object(C.jsx)(Xt,{ref:n,TextFieldProps:{label:c,InputLabelProps:{shrink:!0},style:{backgroundColor:"#ffffff"}},InputFileProps:{accept:a,onChange:function(e){var t=e.target.files;t.length&&o(t[0])}},ButtonFile:Object(C.jsx)(f.a,{endIcon:Object(C.jsx)(Yt.a,{}),variant:"contained",color:"primary",onClick:function(){return n.current.openWindow()},children:"Add"})})}))})),Zt=n(1006),Kt=n(984),Jt=r.forwardRef((function(e,t){var n=e.AutocompleteProps,a=e.debounceTime,c=void 0===a?300:a,o=e.fetchOptions,i=n,s=i.freeSolo,l=void 0!==s&&s,u=i.onOpen,d=i.onClose,b=i.onInputChange,j=Object(r.useState)(!1),p=Object(O.a)(j,2),f=p[0],h=p[1],m=Object(r.useState)(""),g=Object(O.a)(m,2),x=g[0],v=g[1],y=Object(Re.a)(x,c),P=Object(O.a)(y,1)[0],S=Object(r.useState)(!1),k=Object(O.a)(S,2),F=k[0],w=k[1],T=Object(r.useState)([]),I=Object(O.a)(T,2),A=I[0],R=I[1],D=Object(re.a)({margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0}},e.TextFieldProps&&Object(re.a)({},e.TextFieldProps)),E=Object(re.a)(Object(re.a)({loadingText:"Loading...",noOptionsText:"No items found"},n&&Object(re.a)({},n)),{},{open:f,options:A,loading:F,inputValue:x,onOpen:function(){h(!0),u&&u()},onClose:function(){h(!1),d&&d()},onInputChange:function(e,t){v(t),b&&b()},renderInput:function(e){return Object(C.jsx)(le.a,Object(re.a)(Object(re.a)(Object(re.a)({},e),D),{},{InputProps:Object(re.a)(Object(re.a)({},e.InputProps),{},{endAdornment:Object(C.jsxs)(C.Fragment,{children:[F&&Object(C.jsx)(Kt.a,{color:"inherit",size:20}),e.InputProps.endAdornment]})})}))}});return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){v(""),R([])}}})),Object(r.useEffect)((function(){f||l||R([])}),[f,l]),Object(r.useEffect)((function(){if(f&&""!==P||!l){var e=!0;return Object(Ge.a)(ze.a.mark((function t(){var n;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!0),t.prev=1,t.next=4,o(P);case 4:n=t.sent,e&&R(n);case 6:return t.prev=6,w(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[1,,6,9]])})))(),function(){e=!1}}}),[l,P,f,o]),Object(C.jsx)(Zt.a,Object(re.a)({},E))})),$t=n(262),en=Object(d.a)((function(e){return Object($t.a)({root:{backgroundColor:"#f1f1f1",borderRadius:"4px",padding:e.spacing(1,1),color:e.palette.secondary.main}})})),tn=function(e){var t=en();return Object(C.jsx)(Ct.a,Object(re.a)(Object(re.a)({container:!0,wrap:"wrap",className:t.root},e),{},{children:e.children}))},nn=n(122),rn=n.n(nn),an=function(e){var t=e.onDelete,n=e.children,r=Object(yt.a)(e,["onDelete","children"]);return Object(C.jsx)(Ct.a,Object(re.a)(Object(re.a)({item:!0},r),{},{children:Object(C.jsxs)(Ct.a,{container:!0,alignItems:"center",spacing:3,children:[Object(C.jsx)(Ct.a,{item:!0,xs:1,children:Object(C.jsx)(h.a,{size:"small",color:"inherit",onClick:t,children:Object(C.jsx)(rn.a,{})})}),Object(C.jsx)(Ct.a,{item:!0,xs:10,md:11,children:n})]})}))},cn=function(){var e=Object(ge.b)().enqueueSnackbar;return Object(r.useCallback)(function(){var t=Object(Ge.a)(ze.a.mark((function t(n){var r,a;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n;case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 8:throw t.prev=8,t.t0=t.catch(0),console.error(t.t0),L.a.isCancel(t.t0)||e("Cannot load information",{variant:"error"}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e])},on=function(e,t){var n=Object(ge.b)();return{addItem:function(r){r&&""!==r&&(e.find((function(e){return e.id===r.id}))?n.enqueueSnackbar("Item already Add",{variant:"info"}):(e.unshift(r),t(e)))},removeItem:function(n){var r=e.findIndex((function(e){return e.id===n.id}));-1!==r&&(e.splice(r,1),t(e))}}};function sn(e,t){return e.filter((function(e){return 0!==e.categories.filter((function(e){return e.id===t.id})).length}))}var ln=r.forwardRef((function(e,t){var n=e.genres,a=e.setGenres,c=e.categories,o=e.setCategories,i=e.error,s=e.disabled,l=cn(),u=on(n,a),d=u.addItem,b=u.removeItem,j=on(c,o).removeItem,f=Object(r.useRef)(),O=Object(ie.a)(),h=Object(r.useCallback)((function(e){return l(We.list({queryParams:{search:e,all:""}})).then((function(e){return e.data}))}),[l]);return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return f.current.clear()}}})),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Jt,{fetchOptions:h,ref:f,AutocompleteProps:{options:[],clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return d(t)},disabled:s},TextFieldProps:{label:"Genres",error:void 0!==i}}),Object(C.jsx)(qt.a,{style:{height:O.spacing(3)},children:"Choose video genres"}),Object(C.jsxs)(Bt.a,Object(re.a)(Object(re.a)({margin:"normal",fullWidth:!0,error:void 0!==i,disabled:!0===s},e.FormControlProps),{},{children:[Object(C.jsx)(tn,{children:n.map((function(e,t){return Object(C.jsx)(an,{onDelete:function(){c.filter((function(t){var r=sn(n,t);return 1===r.length&&r[0].id===e.id})).forEach((function(e){return j(e)})),b(e)},xs:12,children:Object(C.jsx)(p.a,{noWrap:!0,children:e.name})},t)}))}),i&&Object(C.jsx)(qt.a,{children:i.message})]}))]})})),un=n(140),dn=Object(d.a)((function(e){return{genresSubtitle:{color:un.a[800],fontSize:"0.8rem"}}})),bn=r.forwardRef((function(e,t){var n=e.categories,a=e.setCategories,c=e.genres,o=e.error,i=e.disabled,s=dn(),l=cn(),u=on(n,a),d=u.addItem,b=u.removeItem,j=Object(r.useRef)(),f=Object(ie.a)(),O=Object(r.useCallback)((function(e){return l(z.list({queryParams:{genres:c.map((function(e){return e.id})).join(","),all:""}})).then((function(e){return e.data}))}),[l,c]);return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return j.current.clear()}}})),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Jt,{fetchOptions:O,ref:j,AutocompleteProps:{autoSelect:!0,options:[],clearOnEscape:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return d(t)},disabled:!0===i||!c.length},TextFieldProps:{label:"Categories",error:void 0!==o}}),Object(C.jsx)(qt.a,{style:{height:f.spacing(3)},children:"Choose at lease one category of each genre"}),Object(C.jsxs)(Bt.a,Object(re.a)(Object(re.a)({margin:"normal",fullWidth:!0,error:void 0!==o,disabled:!0===i},e.FormControlProps),{},{children:[Object(C.jsx)(tn,{children:n.map((function(e,t){var n=sn(c,e).map((function(e){return e.name})).join(",");return Object(C.jsxs)(an,{onDelete:function(){return b(e)},xs:12,children:[Object(C.jsx)(p.a,{noWrap:!0,children:e.name}),Object(C.jsxs)(p.a,{noWrap:!0,className:s.genresSubtitle,children:["Genres: ",n]})]},t)}))}),o&&Object(C.jsx)(qt.a,{children:o.message})]}))]})})),jn=r.forwardRef((function(e,t){var n=e.castMembers,a=e.setCastMembers,c=e.error,o=e.disabled,i=cn(),s=on(n,a),l=s.addItem,u=s.removeItem,d=Object(r.useRef)(),b=Object(r.useCallback)((function(e){return i(Je.list({queryParams:{search:e,all:""}})).then((function(e){return e.data}))}),[i]);return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return d.current.clear()}}})),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Jt,{ref:d,fetchOptions:b,AutocompleteProps:{options:[],clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return l(t)},disabled:o},TextFieldProps:{label:"Elenco",error:void 0!==c}}),Object(C.jsxs)(Bt.a,Object(re.a)(Object(re.a)({margin:"normal",fullWidth:!0,error:void 0!==c,disabled:!0===o},e.FormControlProps),{},{children:[Object(C.jsx)(tn,{children:n.map((function(e,t){return Object(C.jsx)(an,{onDelete:function(){u(e)},xs:6,children:Object(C.jsx)(p.a,{noWrap:!0,children:e.name})},t)}))}),c&&Object(C.jsx)(qt.a,{children:c.message})]}))]})})),pn=function(e,t){var n=Object(ge.b)().enqueueSnackbar;Object(r.useEffect)((function(){var r=0!==Object.keys(t).length;e>0&&r&&n("Invalid form. check the red fields.",{variant:"error"})}),[e,t,n])},fn=n(982),On=n(518),hn=n(961),mn=n(182),gn=n.n(mn),xn=n(261),vn=n.n(xn),yn=n(512),Cn=n.n(yn),Pn=n(962),Sn=n(1002),kn=n(448),Fn=n(992),wn=n(260),Tn=n.n(wn),In=n(519);function An(e){return 1===e.progress||Rn(e)}function Rn(e){return Dn(e)?e.files.some((function(e){return e.error})):void 0!==e.error}function Dn(e){return"video"in e}var En,Ln=Object(d.a)({progressContainer:{position:"relative"},progress:{position:"absolute",left:0},progressBackground:{color:un.a[300]}}),Bn=function(e){var t=e.uploadOrFile,n=e.size,r=Ln(),a=Rn(t);return Object(C.jsx)(In.a,{in:t.progress<1,timeout:{enter:100,exit:2e3},children:Object(C.jsxs)("div",{className:r.progressContainer,children:[Object(C.jsx)(Kt.a,{variant:"determinate",value:100,className:r.progressBackground,size:n}),Object(C.jsx)(Kt.a,{className:r.progress,variant:"determinate",value:a?0:100*t.progress,size:n})]})})},Nn=n(1003),Mn=n(258),qn=n.n(Mn),Vn=n(259),Un=n.n(Vn),_n=n(78),zn=n(189),Gn=n.n(zn),Wn=Object(ke.createActions)({addUpload:["payload"],removeUpload:["payload"],updateProgress:["payload"],setUploadError:["payload"]}),Yn=Wn.Types,Hn=Wn.Creators,Xn={uploads:[]},Qn=Object(ke.createReducer)(Xn,(En={},Object(u.a)(En,Yn.ADD_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0;if(!t.payload.files.length)return e;var n=Jn(e,t.payload.video.id);if(-1!==n&&e.uploads[n].progress<1)return e;var r=-1===n?e.uploads:Gn()(e.uploads,{$splice:[[n,1]]});return{uploads:[].concat(Object(At.a)(r),[{video:t.payload.video,progress:0,files:t.payload.files.map((function(e){return{fileField:e.fileField,filename:e.file.name,progress:0}}))}])}})),Object(u.a)(En,Yn.REMOVE_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0,n=e.uploads.filter((function(e){return e.video.id!==t.payload.id}));if(n.length===e.uploads.length)return e;return{uploads:n}})),Object(u.a)(En,Yn.UPDATE_PROGRESS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0,n=t.payload.video.id,r=t.payload.fileField,a=Zn(e,n,r),c=a.indexUpload,o=a.indexFile;if("undefined"===typeof c)return e;var i=e.uploads[c],s=i.files[o];if(s.progress===t.payload.progress)return e;var l=Gn()(e.uploads,Object(u.a)({},c,{$apply:function(e){var n=Gn()(e.files,Object(u.a)({},o,{$set:Object(re.a)(Object(re.a)({},s),{},{progress:t.payload.progress})})),r=Kn(n);return Object(re.a)(Object(re.a)({},e),{},{progress:r,files:n})}}));return{uploads:l}})),Object(u.a)(En,Yn.SET_UPLOAD_ERROR,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0,n=t.payload.video.id,r=t.payload.fileField,a=Zn(e,n,r),c=a.indexUpload,o=a.indexFile;if("undefined"===typeof c)return e;var i=e.uploads[c],s=i.files[o],l=Gn()(e.uploads,Object(u.a)({},c,{files:Object(u.a)({},o,{$set:Object(re.a)(Object(re.a)({},s),{},{error:t.payload.error,progress:1})})}));return{uploads:l}})),En));function Zn(e,t,n){var r=Jn(e,t);if(-1===r)return{};var a=function(e,t){return e.findIndex((function(e){return e.fileField===t}))}(e.uploads[r].files,n);return-1===a?{}:{indexUpload:r,indexFile:a}}function Kn(e){var t=e.length;return t?e.reduce((function(e,t){return e+t.progress}),0)/t:0}function Jn(e,t){return e.uploads.findIndex((function(e){return e.video.id===t}))}var $n=Object(d.a)((function(e){return{successIcon:{color:e.palette.success.main},errorIcon:{color:e.palette.error.main}}})),er=function(e){var t=e.upload,n=e.hover,a=$n(),c=Object(_n.b)(),o=Rn(t),i=Object(r.useState)(!1),s=Object(O.a)(i,2),l=s[0],u=s[1],d=Object(Re.a)(l,2500),b=Object(O.a)(d,1)[0];return Object(r.useEffect)((function(){u(An(t))}),[t]),b?Object(C.jsx)(In.a,{in:l,timeout:{enter:1e3},children:Object(C.jsxs)(Nn.a,{children:[Object(C.jsxs)("span",{hidden:n,children:[1===t.progress&&!o&&Object(C.jsx)(h.a,{className:a.successIcon,edge:"end",children:Object(C.jsx)(qn.a,{})}),o&&Object(C.jsx)(h.a,{className:a.errorIcon,edge:"end",children:Object(C.jsx)(Un.a,{})})]}),Object(C.jsx)("span",{hidden:!n,children:Object(C.jsx)(h.a,{color:"primary",edge:"end",onClick:function(){return c(Hn.removeUpload({id:t.video.id}))},children:Object(C.jsx)(rn.a,{})})})]})}):null},tr=Object(d.a)((function(e){return{listItem:{paddingTop:"7px",paddingBottom:"7px",height:"53px"},movieIcon:{color:e.palette.error.main,minWidth:"40px"},listItemText:{marginLeft:"6px",marginRight:"24px",color:e.palette.text.secondary}}})),nr=function(e){var t=e.upload,n=tr(),a=Rn(t),c=Object(r.useState)(!1),o=Object(O.a)(c,2),i=o[0],s=o[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ye.a,{disableFocusListener:!0,disableTouchListener:!0,title:a?"Cannot upload, click for details":"",placement:"left",children:Object(C.jsxs)(Pn.a,{className:n.listItem,button:!0,onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(C.jsx)(Sn.a,{className:n.movieIcon,children:Object(C.jsx)(Tn.a,{})}),Object(C.jsx)(kn.a,{className:n.listItemText,primary:Object(C.jsx)(p.a,{noWrap:!0,variant:"subtitle2",color:"inherit",children:t.video.title})}),Object(C.jsx)(Bn,{size:30,uploadOrFile:t}),Object(C.jsx)(er,{upload:t,hover:i})]})}),Object(C.jsx)(Fn.a,{component:"li"})]})},rr=Object(d.a)((function(e){return{card:{width:450},cardActionRoot:{padding:"8px 8px 8px 16px",backgroundColor:e.palette.primary.main},title:{fontWeight:"bold",color:e.palette.primary.contrastText},icons:{marginLeft:"auto !important",color:e.palette.primary.contrastText},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},list:{paddingTop:0,paddingBottom:0}}})),ar=r.forwardRef((function(e,t){var n=e.id,a=rr(),c=Object(ge.b)().closeSnackbar,o=Object(r.useState)(!0),i=Object(O.a)(o,2),s=i[0],l=i[1],d=Object(_n.c)((function(e){return e.upload.uploads})),b=function(e){return e.filter((function(e){return!An(e)})).length}(d);return Object(C.jsxs)(Dt.a,{ref:t,className:a.card,children:[Object(C.jsxs)(fn.a,{classes:{root:a.cardActionRoot},children:[Object(C.jsxs)(p.a,{variant:"subtitle2",className:a.title,children:["Fazendo upload de ",b," v\xeddeo(s)"]}),Object(C.jsxs)("div",{className:a.icons,children:[Object(C.jsx)(h.a,{color:"inherit",onClick:function(){return l(!s)},className:Cn()(a.expand,Object(u.a)({},a.expandOpen,!s)),children:Object(C.jsx)(vn.a,{})}),Object(C.jsx)(h.a,{color:"inherit",onClick:function(){return c(n)},children:Object(C.jsx)(gn.a,{})})]})]}),Object(C.jsx)(On.a,{in:s,children:Object(C.jsx)(hn.a,{className:a.list,children:d.map((function(e,t){return Object(C.jsx)(nr,{upload:e},t)}))})})]})})),cr=Object(d.a)((function(e){return{cardUpload:{borderRadius:"4px",backgroundColor:"#f5f5f5",margin:e.spacing(2,0)},cardOpened:{borderRadius:"4px",backgroundColor:"#f5f5f5"},cardContentOpened:{paddingBottom:e.spacing(2)+"px !important"}}})),or=Ee.d().shape({title:Ee.e().label("Title").required().max(255),description:Ee.e().label("Synopsis").required(),year_launched:Ee.c().label("Year Launched").required().min(1980),duration:Ee.c().label("Duration").required().min(1),cast_members:Ee.a().label("Casts").required(),genres:Ee.a().label("Genres").required().test({message:"Each Genre Must be chosen at least by one selected category",test:function(e){var t=this;return e.every((function(e){return 0!==e.categories.filter((function(e){return t.parent.categories.map((function(e){return e.id})).includes(e.id)})).length}))}}),categories:Ee.a().label("Categories").required(),rating:Ee.e().label("Classification").required()}),ir=function(){var e=Object(mt.e)({defaultValues:{title:"",description:"",rating:"",thumb_file:"",banner_file:"",trailer_file:"",video_file:"",year_launched:0,duration:0,opened:!1,genres:[],cast_members:[],categories:[]},resolver:Object(gt.a)(or)}),t=e.handleSubmit,n=e.getValues,a=e.control,c=e.watch,o=e.trigger,i=e.reset,s=e.setError,l=e.setValue,u=e.formState,d=u.errors,b=u.submitCount;pn(b,d);var j=Object.keys(Ke),f=Object(De.h)().id,h=Object(ge.b)().enqueueSnackbar,m=Object(De.f)(),g=cr(),x=Object(r.useState)(null),v=Object(O.a)(x,2),y=v[0],P=v[1],S=Object(r.useContext)(Ne),k=Object(ie.a)(),F=Object(Rt.a)(k.breakpoints.up("md")),w=Object(r.useRef)(),T=Object(r.useRef)(),I=Object(r.useRef)(),A=Object(r.useRef)(Object(oe.zipObject)(j,j.map((function(){return Object(r.createRef)()})))),R=Object(_n.b)(),D=Object(r.useCallback)((function(e){Object.keys(A.current).forEach((function(e){return A.current[e].current.clear()})),w.current.clear(),T.current.clear(),I.current.clear(),i(e)}),[i]);function E(e,t){var r=Object(oe.omit)(e,[].concat(Object(At.a)(j),["cast_members","genres","categories"]));r.cast_members_id=e.cast_members.map((function(e){return e.id})),r.categories_id=e.categories.map((function(e){return e.id})),r.genres_id=e.genres.map((function(e){return e.id})),(y?at.update(y.id,r):at.create(r)).then((function(e){var r=e.data;h("Video save successful",{variant:"success"}),function(e){var t=j.filter((function(e){return n()[e]})).map((function(e){return{fileField:e,file:n()[e]}}));if(!t.length)return;R(Hn.addUpload({video:e,files:t})),h("",{key:"snackbar-upload",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){var n=e;return Object(C.jsx)(ar,{id:n})}})}(r.data),t?f?m.replace("/videos/".concat(r.data.id,"/edit")):m.push("/videos/".concat(r.data.id,"/edit")):m.push("/videos")})).catch((function(e){h(e.message,{variant:"success"})}))}return Object(r.useEffect)((function(){f&&at.get(f).then((function(e){var t=e.data;P(t.data),D(t.data)})).catch((function(){m.push("/videos"),h("Video not found",{variant:"error"})}))}),[D,f,i,h,m]),Object(C.jsxs)(St,{GridItemProps:{xs:12},onSubmit:t(E),children:[Object(C.jsxs)(Ct.a,{container:!0,spacing:5,children:[Object(C.jsxs)(Ct.a,{item:!0,xs:12,md:6,children:[Object(C.jsx)(mt.a,{control:a,render:function(e){var t=e.field;return Object(C.jsx)(le.a,Object(re.a)(Object(re.a)({},t),{},{type:"text",label:"Title",fullWidth:!0,variant:"outlined",margin:"normal",disabled:S,error:!!d.title,helperText:d.title&&d.title.message,InputLabelProps:{shrink:!0}}))},name:"title"}),Object(C.jsx)(mt.a,{control:a,render:function(e){var t=e.field;return Object(C.jsx)(le.a,Object(re.a)(Object(re.a)({},t),{},{label:"Synopsis",variant:"outlined",value:t.value||"",disabled:S,multiline:!0,fullWidth:!0,rows:4,error:!!d.description,helperText:d.description&&d.description.message,InputLabelProps:{shrink:!0}}))},name:"description"}),Object(C.jsxs)(Ct.a,{container:!0,spacing:1,children:[Object(C.jsx)(Ct.a,{item:!0,xs:6,children:Object(C.jsx)(mt.a,{control:a,render:function(e){var t=e.field;return Object(C.jsx)(le.a,Object(re.a)(Object(re.a)({},t),{},{type:"number",label:"Year Launched",fullWidth:!0,variant:"outlined",margin:"normal",disabled:S,error:!!d.year_launched,helperText:d.year_launched&&d.year_launched.message,InputLabelProps:{shrink:!0}}))},name:"year_launched"})}),Object(C.jsx)(Ct.a,{item:!0,xs:6,children:Object(C.jsx)(mt.a,{control:a,render:function(e){var t=e.field;return Object(C.jsx)(le.a,Object(re.a)(Object(re.a)({},t),{},{type:"number",label:"Duration",fullWidth:!0,variant:"outlined",margin:"normal",disabled:S,error:!!d.duration,helperText:d.duration&&d.duration.message,InputLabelProps:{shrink:!0}}))},name:"duration"})})]}),Object(C.jsx)(jn,{ref:w,castMembers:c("cast_members"),setCastMembers:function(e){return l("cast_members",e)},error:d.cast_members,disabled:S}),Object(C.jsx)("br",{}),Object(C.jsxs)(Ct.a,{container:!0,spacing:2,children:[Object(C.jsx)(Ct.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(ln,{ref:T,genres:c("genres"),setGenres:function(e){return l("genres",e)},categories:c("categories"),setCategories:function(e){return l("categories",e)},error:d.genres,disabled:S})}),Object(C.jsx)(Ct.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(bn,{ref:I,categories:c("categories"),setCategories:function(e){return l("categories",e)},genres:c("genres"),error:d.categories,disabled:S})})]})]}),Object(C.jsxs)(Ct.a,{item:!0,xs:12,md:6,children:[Object(C.jsx)(Gt,{value:c("rating"),setValue:function(e){l("rating",e)},error:d.rating,FormControlProps:{margin:F?"none":"normal"},disabled:S}),Object(C.jsx)("br",{}),Object(C.jsx)(Dt.a,{className:g.cardUpload,children:Object(C.jsxs)(Et.a,{children:[Object(C.jsx)(p.a,{color:"primary",variant:"h6",children:"Images"}),Object(C.jsx)(Qt,{ref:A.current.thumb_file,accept:"image/*",label:"Thumb",setValue:function(e){return l("thumb_file",e)}}),Object(C.jsx)(Qt,{ref:A.current.banner_file,accept:"image/*",label:"Banner",setValue:function(e){return l("banner_file",e)}})]})}),Object(C.jsx)(Dt.a,{className:g.cardUpload,children:Object(C.jsxs)(Et.a,{children:[Object(C.jsx)(p.a,{color:"primary",variant:"h6",children:"Videos"}),Object(C.jsx)(Qt,{ref:A.current.trailer_file,accept:"video/mp4",label:"Trailer",setValue:function(e){return l("trailer_file",e)}}),Object(C.jsx)(Qt,{ref:A.current.video_file,accept:"video/mp4",label:"Principal",setValue:function(e){l("video_file",e)}})]})}),Object(C.jsx)("br",{}),Object(C.jsx)(Dt.a,{className:g.cardOpened,children:Object(C.jsx)(Et.a,{className:g.cardContentOpened,children:Object(C.jsx)(Ot.a,{control:Object(C.jsx)(ht.a,{name:"opened",color:"primary",onChange:function(){return l("opened",!n().opened)},checked:c("opened"),disabled:S}),label:Object(C.jsx)(p.a,{color:"primary",variant:"subtitle2",children:"show this video on launch section."}),labelPlacement:"end"})})})]})]}),Object(C.jsx)(vt,{disabledButtons:S,handleSave:Object(Ge.a)(ze.a.mark((function e(){var t,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:n().cast_members.length||s("cast_members",{type:"required",message:"Field Required"}),(null===(t=n())||void 0===t?void 0:t.categories.length)||s("categories",{type:"required",message:"Field Required"}),(null===(r=n())||void 0===r?void 0:r.genres.length)||s("genres",{type:"required",message:"Field Required"}),d.title||E(n(),null);case 6:case"end":return e.stop()}}),e)})))})]})},sr=function(){var e=Object(De.h)().id;return Object(C.jsx)(S,{title:e?"Edit Video":"Create Video",children:Object(C.jsx)(ir,{})})},lr=function(){var e=Object(De.h)().id,t=Object(ge.b)().enqueueSnackbar,n=Object(r.useState)(!1),a=Object(O.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)("1"),s=Object(O.a)(i,2),l=s[0],u=s[1],d=Object(De.f)(),b=Ee.d().shape({name:Ee.e().label("Name").required().max(25).label("Name")}),j=Object(mt.e)({defaultValues:{name:"",type:1},resolver:Object(gt.a)(b)}),p=j.handleSubmit,f=j.getValues,h=j.control,m=j.trigger,g=j.reset,x=j.setValue,v=j.formState.errors;function y(n,r){o(!0),(e?Je.update(e,n):Je.create(n)).then((function(n){var a=n.data;o(!1),t("Member save successful",{variant:"success"}),r?e?d.replace("/members/".concat(a.data.id,"/edit")):d.push("/members/".concat(a.data.id,"/edit")):d.push("/members")})).catch((function(e){o(!1),t(e.message,{variant:"error"})}))}Object(r.useEffect)((function(){e&&(o(!0),Je.get(e).then((function(e){var t=e.data;o(!1);var n={name:t.data.name,type:t.data.type};u(n.type.toString()),g(n)})).catch((function(e){o(!1),d.push("/genres"),t("Genre not found",{variant:"error"})})))}),[t,d,e,g,x]);var P=function(e){e.persist(),x("type",e.target.value),u(e.target.value)};return Object(C.jsxs)("form",{onSubmit:p(y),children:[Object(C.jsx)(mt.a,{control:h,render:function(e){var t=e.field;return Object(C.jsx)(le.a,Object(re.a)(Object(re.a)({},t),{},{type:"text",label:"Name",fullWidth:!0,variant:"outlined",margin:"normal",disabled:c,error:!!v.name,helperText:v.name&&v.name.message,InputLabelProps:{shrink:!0}}))},name:"name"}),Object(C.jsx)(mt.a,{name:"type",control:h,render:function(e){var t=e.field;return Object(C.jsxs)(Mt.a,Object(re.a)(Object(re.a)({},t),{},{value:l.toString(),defaultValue:l.toString(),row:!0,"aria-label":"type",onChange:P,children:[Object(C.jsx)(Ot.a,{value:"1",disabled:c,control:Object(C.jsx)(Lt.a,{}),label:"Director"}),Object(C.jsx)(Ot.a,{value:"2",disabled:c,control:Object(C.jsx)(Lt.a,{}),label:"Actor"})]}))}}),Object(C.jsx)(vt,{disabledButtons:c,handleSave:Object(Ge.a)(ze.a.mark((function e(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:v.name||y(f(),null);case 3:case"end":return e.stop()}}),e)})))})]})},ur=function(){var e=Object(De.h)().id;return Object(C.jsx)(S,{title:e?"Edit Member":"Create Member",children:Object(C.jsx)(lr,{})})},dr=function(e){return Object(C.jsx)(S,{title:"Dashboard"})},br=n(993),jr=n(995),pr=n(994),fr=Object(d.a)((function(e){return{successIcon:{color:e.palette.success.main,marginLeft:e.spacing(1)},errorIcon:{color:e.palette.error.main,marginLeft:e.spacing(1)},divider:{height:"20px",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}})),Or=function(e){var t=e.uploadOrFile,n=fr(),a=Object(_n.b)(),c=Object(r.useState)(!1),o=Object(O.a)(c,2),i=o[0],s=o[1],l=Object(Re.a)(i,2500),u=Object(O.a)(l,1)[0],d=Rn(t),b=t.video?t.video.id:"",j=Dn(t);return Object(r.useEffect)((function(){s(An(t))}),[t]),u?Object(C.jsx)(In.a,{in:!0,timeout:{enter:1e3},children:Object(C.jsxs)(C.Fragment,{children:[1===t.progress&&!d&&Object(C.jsx)(qn.a,{className:n.successIcon}),d&&Object(C.jsx)(Un.a,{className:n.errorIcon}),j&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Fn.a,{className:n.divider,orientation:"vertical"}),Object(C.jsx)(h.a,{onClick:function(){return a(Hn.removeUpload({id:b}))},children:Object(C.jsx)(rn.a,{color:"primary"})}),Object(C.jsx)(h.a,{component:F.b,to:"/videos/".concat(b,"/edit"),children:Object(C.jsx)(ve.a,{color:"primary"})})]})]})}):null},hr=(n(514),Object(d.a)((function(e){return{gridTitle:{display:"flex",color:"#999999"},icon:{color:e.palette.error.main,minWidth:"40px"}}}))),mr=function(e){var t=e.uploadOrFile,n=hr();return Object(C.jsx)(Pn.a,{children:Object(C.jsxs)(Ct.a,{container:!0,alignItems:"center",children:[Object(C.jsxs)(Ct.a,{className:n.gridTitle,item:!0,xs:12,md:9,children:[Object(C.jsx)(Tn.a,{className:n.icon}),Object(C.jsx)(p.a,{color:"inherit",children:e.children})]}),Object(C.jsx)(Ct.a,{item:!0,xs:12,md:3,children:Object(C.jsxs)(Ct.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-end",children:[Object(C.jsx)(Bn,{size:48,uploadOrFile:t}),Object(C.jsx)(Or,{uploadOrFile:t})]})})]})})},gr=Object(d.a)((function(e){return{panelSummary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},expandedIcon:{color:e.palette.primary.contrastText}}})),xr=[{name:"dashboard",label:"Dashboard",path:"/",component:dr,exact:!0},{name:"categories.list",label:"List categories",path:"/categories",component:Ue,exact:!0},{name:"categories.create",label:"Create categories",path:"/categories/create",component:wt,exact:!0},{name:"categories.edit",label:"Edit categories",path:"/categories/:id/edit",component:wt,exact:!0},{name:"members.list",label:"List Members",path:"/members",component:rt,exact:!0},{name:"members.create",label:"List Members",path:"/members/create",component:ur,exact:!0},{name:"members.edit",label:"Edit Members",path:"/members/:id/edit",component:ur,exact:!0},{name:"genres.list",label:"List Genres",path:"/genres",component:Qe,exact:!0},{name:"genres.create",label:"List Genres",path:"/genres/create",component:It,exact:!0},{name:"genres.edit",label:"Edit Genres",path:"/genres/:id/edit",component:It,exact:!0},{name:"videos.list",label:"List Videos",path:"/videos",component:ft,exact:!0},{name:"videos.create",label:"List Videos",path:"/videos/create",component:sr,exact:!0},{name:"videos.edit",label:"Edit Videos",path:"/videos/:id/edit",component:sr,exact:!0},{name:"uploads",label:"Uploads",path:"/uploads",component:function(){var e=gr(),t=Object(_n.c)((function(e){return e.upload.uploads}));return Object(C.jsx)(S,{title:"Uploads",children:t.map((function(t,n){return Object(C.jsx)(Dt.a,{elevation:5,children:Object(C.jsxs)(Et.a,{children:[Object(C.jsx)(mr,{uploadOrFile:t,children:t.video.title}),Object(C.jsxs)(br.a,{style:{margin:0},children:[Object(C.jsx)(jr.a,{className:e.panelSummary,expandIcon:Object(C.jsx)(vn.a,{className:e.expandedIcon}),children:Object(C.jsx)(p.a,{children:"Ver detalhes"})}),Object(C.jsx)(pr.a,{style:{padding:"0px"},children:Object(C.jsx)(Ct.a,{item:!0,xs:12,children:Object(C.jsx)(hn.a,{dense:!0,style:{padding:"0px"},children:t.files.map((function(e,t){return Object(C.jsxs)(a.a.Fragment,{children:[Object(C.jsx)(Fn.a,{}),Object(C.jsx)(mr,{uploadOrFile:e,children:"".concat(Ke[e.fileField]," - ").concat(e.filename)})]},t)}))})})})]})]})},n)}))})},exact:!0}],vr={dashboard:"Dashboard","categories.list":"Categories","genres.list":"Genres","members.list":"Cast Members","videos.list":"Videos",uploads:"Uploads"},yr=xr.filter((function(e){return Object.keys(vr).includes(e.name)})),Cr=function(){var e=Object(r.useState)(null),t=Object(O.a)(e,2),n=t[0],a=t[1],c=function(){return a(null)};return Object(C.jsxs)(r.Fragment,{children:[Object(C.jsx)(h.a,{edge:"start",color:"inherit","aria-label":"Open drawer","aria-controls":"menu-appbar","aria-haspopup":!0,onClick:function(e){return a(e.currentTarget)},children:Object(C.jsx)(v.a,{})}),Object(C.jsx)(m.a,{open:!!n,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:c,anchorEl:n,id:"menu-appbar",children:Object.keys(vr).map((function(e,t){var n=yr.find((function(t){return t.name===e}));return Object(C.jsx)(g.a,{component:F.b,to:n.path,onClick:c,children:vr[e]},t)}))})]})},Pr=Object(d.a)((function(e){return{toolbar:{backgroundColor:"black"},title:{flexGrow:1,textAlign:"center"},logo:Object(u.a)({width:100},e.breakpoints.up("sm"),{width:170})}})),Sr=function(){var e=Pr();return Object(C.jsx)(b.a,{children:Object(C.jsxs)(j.a,{className:e.toolbar,children:[Object(C.jsx)(Cr,{}),Object(C.jsx)(p.a,{className:e.title,children:Object(C.jsx)("img",{alt:"Codeflix",src:"data:image/png;base64,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",className:e.logo})}),Object(C.jsx)(f.a,{color:"inherit",children:" Login "})]})})},kr=function(e){return Object(C.jsx)(De.c,{children:xr.map((function(e,t){return Object(C.jsx)(De.a,{path:e.path,component:e.component,exact:!0===e.exact},t)}))})},Fr=n(1001),wr=n(1008),Tr=n(516),Ir=n.n(Tr),Ar={};xr.forEach((function(e){return Ar[e.path]=e.label}));var Rr=Object(d.a)((function(e){return Object($t.a)({root:{},linkRouter:{color:e.palette.secondary.main,"&:focus, &:active":{color:e.palette.secondary.main},"&:hover":{color:e.palette.secondary.dark}}})})),Dr=function(e){return Object(C.jsx)(Fr.a,Object(re.a)(Object(re.a)({},e),{},{component:F.b}))};function Er(){var e=Rr();return Object(C.jsx)(y.a,{className:e.root,children:Object(C.jsx)(l.a,{paddingTop:2,paddingBottom:1,children:Object(C.jsx)(De.a,{children:function(t){return function(t){var n=t.pathname.split("/").filter((function(e){return e}));return n.unshift("/"),Object(C.jsx)(wr.a,{"aria-label":"breadcrumb",children:n.map((function(t,r){var a=r===n.length-1,c="".concat(n.slice(0,r+1).join("/").replace("//","/")),o=Object.keys(Ar).find((function(e){return new Ir.a(e).match(c)}));return void 0!==o&&(a?Object(C.jsx)(p.a,{color:"textPrimary",children:Ar[o]},c):Object(C.jsx)(Dr,{color:"inherit",to:c,className:e.linkRouter,children:Ar[c]},c))}))})}(t.location)}})})})}var Lr=function(e){var t,n={children:e.children,autoHideDuration:3e3,maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"top"},preventDuplicate:!0,ref:function(e){return t=e},action:function(e){return Object(C.jsx)(h.a,{color:"inherit",style:{fontSize:20},onClick:function(){return t.closeSnackbar(e)},children:Object(C.jsx)(gn.a,{})})}},r=Object(re.a)(Object(re.a)({},n),e);return Object(C.jsx)(ge.a,Object(re.a)(Object(re.a)({},r),{},{children:e.children}))},Br=function(e){var t=Object(r.useState)(!1),n=Object(O.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(0),i=Object(O.a)(o,2),s=i[0],l=i[1];function u(){l((function(e){return e-1}))}return Object(r.useMemo)((function(){var e=!0,t=function(e,t){var n,r=[],a=Object(q.a)(U);try{for(a.s();!(n=a.n()).done;){var c=n.value.interceptors.request.use(e,t);r.push(c)}}catch(o){a.e(o)}finally{a.f()}return r}((function(t){return e&&!t.headers.hasOwnProperty("x-ignore-loading")&&(c(!0),l((function(e){return e+1}))),t})),n=function(e,t){var n,r=[],a=Object(q.a)(U);try{for(a.s();!(n=a.n()).done;){var c=n.value.interceptors.response.use(e,t);r.push(c)}}catch(o){a.e(o)}finally{a.f()}return r}((function(t){return e&&!t.headers.hasOwnProperty("x-ignore-loading")&&u(),t}),(function(t){var n;return console.log(t),e&&!(null===t||void 0===t||null===(n=t.headers)||void 0===n?void 0:n.hasOwnProperty("x-ignore-loading"))&&u(),Promise.reject(t)}));return function(){e=!1,t.forEach((function(e,t){return U[t].interceptors.request.eject(e)})),function(e){e.forEach((function(e,t){return U[t].interceptors.response.eject(e)}))}(n)}}),[]),Object(r.useEffect)((function(){s||c(!1)}),[s]),Object(C.jsx)(Ne.Provider,{value:a,children:e.children})},Nr=n(1e3);function Mr(e){return Object(re.a)(Object(re.a)({},e),{},{palette:Object(re.a)(Object(re.a)({},e.palette),{},{primary:e.palette.error,type:"dark"})})}var qr=function(){var e=Object(r.useContext)(Ne);return Object(C.jsx)(i.a,{theme:Mr,children:Object(C.jsx)(In.a,{in:e,children:Object(C.jsx)(Nr.a,{color:"primary",style:{position:"fixed",width:"100%",zIndex:9999}})})})},Vr=function(){return Object(C.jsx)(a.a.Fragment,{children:Object(C.jsx)(Br,{children:Object(C.jsx)(i.a,{theme:$,children:Object(C.jsxs)(Lr,{children:[Object(C.jsx)(s.a,{}),Object(C.jsxs)(F.a,{basename:"/admin",children:[Object(C.jsx)(qr,{}),Object(C.jsx)(Sr,{}),Object(C.jsxs)(l.a,{paddingTop:"70px",children:[Object(C.jsx)(Er,{}),Object(C.jsx)(kr,{})]})]})]})})})})},Ur=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1011)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},_r=n(114),zr=n(188),Gr=n(87),Wr=ze.a.mark(Hr),Yr=ze.a.mark(Xr);function Hr(){var e,t,n,r,a,c,o;return ze.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Gr.a)(Yn.ADD_UPLOAD);case 2:e=i.sent;case 3:return i.next=6,Object(Gr.f)(e);case 6:return t=i.sent,n=t.payload,i.t0=console,i.next=11,Object(Gr.e)((function(e){return e}));case 11:i.t1=i.sent,i.t0.log.call(i.t0,i.t1),r=Object(q.a)(n.files),i.prev=14,r.s();case 16:if((a=r.n()).done){i.next=30;break}return c=a.value,i.prev=18,i.next=21,Object(Gr.c)(Xr,{video:n.video,fileInfo:c});case 21:o=i.sent,console.log(o),i.next=28;break;case 25:i.prev=25,i.t2=i.catch(18),console.log(i.t2);case 28:i.next=16;break;case 30:i.next=35;break;case 32:i.prev=32,i.t3=i.catch(14),r.e(i.t3);case 35:return i.prev=35,r.f(),i.finish(35);case 38:console.log(n),i.next=3;break;case 41:case"end":return i.stop()}}),Wr,null,[[14,32,35,38],[18,25]])}function Xr(e){var t,n,r,a,c,o;return ze.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.video,n=e.fileInfo,i.next=3,Object(Gr.c)(Qr,{id:t.id,fileInfo:n});case 3:r=i.sent;case 4:return i.prev=5,i.next=8,Object(Gr.f)(r);case 8:if(a=i.sent,c=a.progress,!(o=a.response)){i.next=13;break}return i.abrupt("return",o);case 13:return i.next=15,Object(Gr.d)(Hn.updateProgress({video:t,fileField:n.fileField,progress:c}));case 15:i.next=22;break;case 17:return i.prev=17,i.t0=i.catch(5),i.next=21,Object(Gr.d)(Hn.setUploadError({video:t,fileField:n.fileField,error:i.t0}));case 21:throw i.t0;case 22:i.next=4;break;case 24:case"end":return i.stop()}}),Yr,null,[[5,17]])}function Qr(e){var t=e.id,n=e.fileInfo;return Object(zr.c)((function(e){at.partialUpdate(t,Object(u.a)({_method:"PATCH"},n.fileField,n.file),{http:{usePost:!0},config:{headers:{"x-ignore-loading":!0},onUploadProgress:function(t){if(t.lengthComputable){var n=t.loaded/t.total;console.log(n),e({progress:n})}}}}).then((function(t){return e({response:t})})).catch((function(t){return e(t)})).finally((function(){return e(zr.a)}));return function(){}}))}var Zr=ze.a.mark(Kr);function Kr(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gr.b)([Hr()]);case 2:case"end":return e.stop()}}),Zr)}var Jr=Object(zr.b)(),$r=Object(_r.d)(Object(_r.b)({upload:Qn}),Object(_r.a)(Jr));Jr.run(Kr);var ea=$r;o.a.render(Object(C.jsx)(_n.a,{store:ea,children:Object(C.jsx)(Vr,{})}),document.getElementById("root")),Ur()}},[[948,1,2]]]);
//# sourceMappingURL=main.34223cf9.chunk.js.map