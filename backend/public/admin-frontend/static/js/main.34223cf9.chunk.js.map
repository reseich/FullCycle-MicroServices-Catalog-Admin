{"version":3,"sources":["components/Page.tsx","util/http/httpResource.ts","util/http/index.tsx","util/http/categoryHttp.ts","theme.ts","components/Badge.tsx","components/Table/DebouncedTableSearch.js","components/Table/index.tsx","components/Table/FilterResetButton.tsx","store/filter/index.ts","hooks/useFilter.ts","components/loading/LoadingContext.tsx","pages/category/Table.tsx","pages/category/PageList.tsx","util/http/genreHttp.ts","pages/genre/Table.tsx","pages/genre/PageList.tsx","util/models.ts","util/http/memberHttp.ts","pages/member/Table.tsx","pages/member/PageList.tsx","util/http/videosHttp.ts","hooks/useDeleteCollection.tsx","components/DeleteDialog.tsx","pages/video/Table.tsx","pages/video/PageList.tsx","components/SubmitActions.tsx","components/DefaultForm.tsx","pages/category/Form.tsx","pages/category/PageForm.tsx","pages/genre/Form.tsx","pages/genre/PageForm.tsx","components/Rating.tsx","pages/video/Form/RatingField.tsx","components/InputFile.tsx","pages/video/Form/UploadField.tsx","components/AsyncAutoComplete.tsx","components/GridSelected.tsx","components/GridSelectedItem.tsx","hooks/useHttpHandled.tsx","hooks/useCollectionManager.tsx","util/model-filters.tsx","pages/video/Form/GenreField.tsx","pages/video/Form/CategoryField.tsx","pages/video/Form/CastMemberField.tsx","hooks/useSnackbarFormError.tsx","store/upload/getters.ts","components/UploadProgress.tsx","store/upload/index.ts","components/SnackbarUpload/UploadAction.tsx","components/SnackbarUpload/UploadItem.tsx","components/SnackbarUpload/index.tsx","pages/video/Form/index.tsx","pages/video/PageForm.tsx","pages/member/Form.tsx","pages/member/PageForm.tsx","pages/Dashboard.tsx","pages/uploads/UploadAction.tsx","pages/uploads/UploadItem.tsx","pages/uploads/index.tsx","routes/index.tsx","components/Navbar/Menu.tsx","components/Navbar/index.tsx","assets/images/logo.png","routes/AppRouter.tsx","components/Breadcrumb.tsx","components/SnackbarProvider.tsx","components/loading/LoadingProvider.tsx","components/Spinner.tsx","App.tsx","reportWebVitals.ts","store/upload/sagas.ts","store/root-saga.ts","store/index.ts","index.tsx"],"names":["useStyles","makeStyles","title","color","Page","props","classes","Container","Typography","className","component","variant","Box","paddingTop","children","HttpResource","http","resource","cancelList","options","this","cancel","axios","CancelToken","source","config","cancelToken","token","queryParams","params","get","id","data","sendData","makeSendData","post","containsFile","getFormData","usePost","put","patch","delete","error","isCancel","Object","values","filter","el","File","length","object","serialize","booleansAsIntegers","httpVideo","create","baseURL","process","instances","customColors","palette","primary","main","contrastText","secondary","dark","background","default","red","A400","success","green","theme","createMuiTheme","overrides","MUIDataTable","paper","boxShadow","MUIDataTableToolbar","root","minHeight","backgroundColor","icon","iconActive","MUIDataTableHeadCell","fixedHeader","paddingBottom","sortActive","sortAction","alignItems","sortLabelRoot","MUIDataTableSelectCell","headerCell","MUIDataTableBodyCell","MUIDataTableToolbarSelect","iconButton","MUIDataTableBodyRow","MUIDataTablePagination","MUIDataTableFilterList","marginBottom","badgeTheme","BadgeYes","Chip","label","BadgeNo","display","flex","searchIcon","text","marginTop","marginRight","searchText","clearIcon","name","DebouncedTableSearch","onSearch","onHide","debounceTime","reset","useState","setText","value","useEffect","dispatchOnSearch","myValue","useCallback","debounce","Grow","appear","in","timeout","TextField","autoFocus","InputProps","textLabels","toolbar","search","inputProps","onKeyDown","event","key","onChange","newValue","target","fullWidth","placeholder","searchPlaceholder","searchProps","IconButton","onClick","Table","columns","debounceSearchTime","cloneDeep","useTheme","newProps","merge","debouncedTimeSearch","print","download","responsive","body","customSearchRender","handleSearch","hideSearch","forEach","column","width","setColumnsWidth","map","omit","noMatch","loading","applyLoading","originalProps","makeActionStyles","copyTheme","selector","FilterResetButton","Tooltip","handleClick","ClearAll","createActions","setSearch","setPage","setPerPage","setOrder","setReset","updateExtraFilter","Types","Creators","INITIAL_STATE","pagination","page","per_page","order","direction","reducer","createReducer","SET_SEARCH","state","action","payload","SET_PAGE","SET_PER_PAGE","SET_ORDER","SET_RESET","UPDATE_EXTRA_FILTER","extraFilter","useFilter","history","useHistory","location","useLocation","locationSearch","locationPathname","pathname","locationState","rowsPerPage","rowsPerPageOptions","schema","useMemo","yup","shape","transform","undefined","isNaN","parseInt","includes","sort","nullable","dir","toLowerCase","createValidationSchema","stateFromUrl","URLSearchParams","substring","cast","getStateFromURL","cleanSearchText","newText","formatSearchParams","useReducer","filterState","dispatch","filterManager","FilterManager","useDebounce","debouncedFilterState","totalRecords","setTotalRecords","replace","newLocation","oldState","nextState","isEqual","push","applyOrderInColumns","changedColumn","sortDirection","LoadingContext","createContext","columnsDefinitions","filterOptions","names","customBodyRender","tableMeta","updateValue","format","parseIso","Link","to","rowData","fontSize","enqueueSnackbar","useSnackbar","setData","useContext","categoryHttp","list","then","meta","total","catch","isCancelRequest","sortOrder","serverSide","count","customToolbar","resetFilter","onSearchChange","changeSearch","onChangePage","changePage","onChangeRowsPerPage","changeRowsPerPage","onColumnSortChange","changeColumnSort","PageList","Fab","size","filterType","result","category","join","setLoading","subscribed","useRef","categories","split","debouncedState","indexColumnCategories","findIndex","c","columnCategories","categoriesFilterValue","filterList","serverSideFilterList","isSubscribed","a","all","console","getData","genreHttp","current","onFilterChange","type","columnIndex","changeExtraFilter","CastMemberTypeMap","1","2","VideoFileFieldsMap","castMemberNames","indexColumnType","columnType","typeFilterValue","memberHttp","invert","perPage","useDeleteCollection","openDeleteDialog","setOpenDeleteDialog","rowsToDelete","setRowsToDelete","DeleteDialog","open","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","columnsDefinition","parseISO","snackbar","videoHttp","confirmed","ids","index","deleteCollection","response","onRowsDelete","rowsDeleted","newTableData","submit","margin","spacing","SubmitActions","buttonProps","disabled","disabledButtons","handleSave","gridItem","padding","DefaultForm","GridContainerProps","GridItemProps","other","Grid","container","item","validationSchema","required","max","Form","useParams","useForm","defaultValues","description","is_active","resolver","yupResolver","handleSubmit","getValues","control","watch","setValue","trigger","errors","formState","onSubmit","formData","update","message","xs","md","render","field","helperText","InputLabelProps","shrink","multiline","rows","FormControlLabel","Checkbox","checked","e","PageForm","selectedCategory","setSelectedCategory","setCategories","categories_id","selCat","element","filterData","err","handleFieldChange","persist","select","SelectProps","defaultValue","multiple","MenuItem","height","borderRadius","justifyContent","backgroundColors","Rating","style","rating","ratings","Radio","labelPlacement","RatingField","FormControl","FormControlProps","FormLabel","RadioGroup","row","FormHelperText","InputFile","React","ref","fileRef","filename","setFilename","textFieldProps","TextFieldProps","readOnly","endAdornment","InputAdornment","position","ButtonFile","inputFileProps","InputFileProps","hidden","files","Array","from","file","useImperativeHandle","openWindow","click","clear","UploadField","accept","endIcon","AsyncAutocomplete","AutocompleteProps","fetchOptions","freeSolo","onOpen","onInputChange","setOpen","setSearchText","debouncedSearchText","setOptions","autocompleteProps","loadingText","noOptionsText","inputValue","renderInput","CircularProgress","Autocomplete","createStyles","GridSelected","wrap","GridSelectedItem","onDelete","useHttpHandled","request","useCollectionManager","collection","setCollection","addItem","find","i","unshift","removeItem","splice","getGenresFromCategory","genres","genre","cat","GenreField","setGenres","autocompleteHttp","removeCategory","autocompleteRef","clearOnEscape","getOptionLabel","option","getOptionSelected","genresFromCategory","noWrap","genresSubtitle","grey","CategoryField","autoSelect","CastMemberField","castMembers","setCastMembers","castMemberHttp","castMember","useSnackbarFormError","submitCount","hasError","keys","isFinished","obj","progress","isUploadType","some","progressContainer","left","progressBackground","UploadProgress","uploadOrFile","Fade","enter","exit","addUpload","removeUpload","updateProgress","setUploadError","uploads","ADD_UPLOAD","findIndexUpload","video","$splice","fileField","REMOVE_UPLOAD","upload","UPDATE_PROGRESS","videoId","findIndexUploadAndFile","indexUpload","indexFile","$apply","$set","calculateGlobalProgress","SET_UPLOAD_ERROR","findIndexFile","countFiles","reduce","sum","successIcon","errorIcon","UploadAction","hover","useDispatch","show","setShow","debouncedShow","ListItemSecondaryAction","edge","listItem","movieIcon","minWidth","listItemText","marginLeft","UploadItem","itemHover","setItemHover","disableFocusListener","disableTouchListener","placement","ListItem","button","onMouseOver","onMouseLeave","ListItemIcon","ListItemText","Divider","card","cardActionRoot","fontWeight","icons","expand","transition","transitions","duration","shortest","expandOpen","SnackbarUpload","closeSnackbar","expanded","setExpanded","useSelector","totalInProgress","countInProgress","Card","CardActions","classnames","Collapse","List","cardUpload","cardOpened","cardContentOpened","year_launched","min","cast_members","test","every","v","parent","Index","thumb_file","banner_file","trailer_file","video_file","opened","setError","fileFields","setVideo","isGreaterMd","useMediaQuery","breakpoints","up","castMemberRef","genreRef","categoryRef","uploadsRef","zipObject","createRef","resetForm","cast_member","anchorOrigin","vertical","horizontal","content","uploadFiles","CardContent","setType","toString","aria-label","Dashboard","divider","activeActions","orientation","gridTitle","justify","panelSummary","expandedIcon","routes","path","exact","categoryList","categoryForm","membersList","membersForm","genreList","genreForm","videoList","videoForm","elevation","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","dense","Fragment","listRoutes","menuRoutes","route","Menu","anchorEl","setAnchorEl","aria-controls","aria-haspopup","currentTarget","getContentAnchorEl","transformOrigin","routeName","flexGrow","textAlign","logo","Navbar","AppBar","Toolbar","alt","src","AppRouter","breadcrumbNameMap","linkRouter","LinkRouter","RouterLink","Breadcrumb","pathNames","x","Breadcrumbs","last","slice","RouteParser","match","makeBreadcrumb","SnackbarProvider","snackbarProviderRef","defaultProps","autoHideDuration","maxSnack","preventDuplicate","LoadingProvider","countRequest","setCountRequest","decrementCountRequest","prevCountRequest","requestIds","onFulfilled","onRejected","interceptors","use","addGlobalRequestInterceptor","headers","hasOwnProperty","responseIds","addGlobalResponseInterceptor","log","Promise","reject","eject","removeGlobalResponseInterceptor","Provider","makeLocalTheme","Spinner","LinearProgress","zIndex","App","CssBaseline","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","uploadWatcherSaga","uploadFile","actionChannel","newFilesChannel","take","fileInfo","call","f","sendUpload","channel","eventChannel","emitter","partialUpdate","_method","onUploadProgress","progressEvent","lengthComputable","loaded","finally","END","rootSaga","sagaMiddleware","createSagaMiddleware","store","createStore","combineReducers","applyMiddleware","run","ReactDOM","document","getElementById"],"mappings":"sSAGIA,EAAYC,YAAW,CACvBC,MAAO,CACHC,MAAO,aAOFC,EAA4B,SAACC,GACtC,IAAMC,EAAUN,IAEhB,OACI,8BACI,eAACO,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAYC,UAAWH,EAAQJ,MAAOQ,UAAW,KAAMC,QAAS,KAAhE,SACKN,EAAMH,QAEX,cAACU,EAAA,EAAD,CAAKC,WAAY,EAAjB,SACKR,EAAMS,iB,yGC0EZC,E,WA/EX,WAAsBC,EAA+BC,GAAgB,yBAA/CD,OAA8C,KAAfC,WAAe,KAF5DC,WAAuC,K,wCAK/C,SAAcC,GACNC,KAAKF,YACLE,KAAKF,WAAWG,OAAO,kBAE3BD,KAAKF,WAAaI,IAAMC,YAAYC,SAEpC,IAAMC,EAA6B,CAC/BC,YAAaN,KAAKF,WAAWS,OAMjC,OAHIR,GAAWA,EAAQS,cACnBH,EAAOI,OAASV,EAAQS,aAErBR,KAAKJ,KAAKc,IAAOV,KAAKH,SAAUQ,K,iBAG3C,SAAaM,GACT,OAAOX,KAAKJ,KAAKc,IAAV,UAAoBV,KAAKH,SAAzB,YAAqCc,M,oBAGhD,SAAgBC,GACZ,IAAIC,EAAWb,KAAKc,aAAaF,GACjC,OAAOZ,KAAKJ,KAAKmB,KAAQf,KAAKH,SAAUgB,K,oBAG5C,SAAgBF,EAASC,EAAWb,GAChC,IAAIc,EAAWD,EACXZ,KAAKgB,aAAaJ,KAClBC,EAAWb,KAAKiB,YAAYL,IAHmG,MAK3Gb,GAAW,GAA5BH,EAL4H,EAK5HA,KAAMS,EALsH,EAKtHA,OACb,OAAQN,GAAYH,GAASA,EAAKsB,QAE5BlB,KAAKJ,KAAKmB,KAAV,UAAqBf,KAAKH,SAA1B,YAAsCc,GAAME,EAAUR,GADtDL,KAAKJ,KAAKuB,IAAV,UAAoBnB,KAAKH,SAAzB,YAAqCc,GAAME,EAAUR,K,2BAI/D,SAAuBM,EAASC,EAAWb,GACvC,IAAIc,EAAWD,EACXZ,KAAKgB,aAAaJ,KAClBC,EAAWb,KAAKiB,YAAYL,IAH0G,MAKlHb,GAAW,GAA5BH,EALmI,EAKnIA,KAAMS,EAL6H,EAK7HA,OACb,OAAQN,GAAYH,GAASA,EAAKsB,QAE5BlB,KAAKJ,KAAKmB,KAAV,UAAqBf,KAAKH,SAA1B,YAAsCc,GAAME,EAAUR,GADtDL,KAAKJ,KAAKwB,MAAV,UAAsBpB,KAAKH,SAA3B,YAAuCc,GAAME,EAAUR,K,8BAIjE,SAA0BG,GACtB,IAAMH,EAA6B,GAInC,OAHIG,IACAH,EAAM,OAAaG,GAEhBR,KAAKJ,KAAKyB,OAAV,UAAuBrB,KAAKH,UAAYQ,K,6BAGnD,SAAgBiB,GACZ,OAAOpB,IAAMqB,SAASD,K,0BAG1B,SAAqBV,GACjB,OAAOZ,KAAKgB,aAAaJ,GAAQZ,KAAKiB,YAAYL,GAAQA,I,0BAG9D,SAAqBA,GACjB,OAEiD,IAF1CY,OACFC,OAAOb,GACPc,QAAO,SAAAC,GAAE,OAAIA,aAAcC,QAAMC,S,yBAG1C,SAAoBjB,GAEhB,OAAOkB,IAAOC,UAAUnB,EAAM,CAACoB,oBAAoB,Q,aCzF9CC,EAAY/B,IAAMgC,OAAO,CAClCC,QAASC,8BAEPC,EAAY,CAACJ,GCFJ,I,EAAA,MAAItC,EAAasC,EAAW,c,oCCCvCK,EACO,UADPA,EAIe,UAJfA,EAKY,UALZA,EAMU,UAGRC,EAA0B,CAC5BC,QAAS,CACLC,KATK,UAULC,aAAcJ,GAElBK,UAAW,CACPF,KAZO,UAaPC,aAAcJ,EACdM,KAAMN,GAEVO,WAAY,CACRC,QAASR,GAEbhB,MAAO,CACHmB,KAAMM,IAAIC,KACVN,aAAcJ,GAElBW,QAAS,CACLR,KAAMS,IAAM,KACZR,aAAcJ,IA6FPa,EA1FDC,YAAe,CACzBb,UACAc,UAAW,CACPC,aAAc,CACVC,MAAO,CAACC,UAAW,SAEvBC,oBAAqB,CACjBC,KAAM,CACFC,UAAW,OACXC,gBAAe,UAAErB,EAAQM,kBAAV,aAAE,EAAoBC,SAEzCe,KAAM,CACF9E,MAAQwD,EAAQC,QAAsCC,KACtD,6BAA8B,CAC1B1D,MAAOuD,IAGfwB,WAAY,CACR/E,MAAOuD,EACP,6BAA8B,CAC1BvD,MAAOuD,KAKnByB,qBAAsB,CAClBC,YAAa,CACTvE,WAAY,EACZwE,cAAe,EACfL,gBAAkBrB,EAAQC,QAAsCC,KAChE1D,MAAOuD,EACP,eAAgBA,GAEpB4B,WAAY,CACRnF,MAAOuD,GAEX6B,WAAY,CACRC,WAAY,UAEhBC,cAAe,CACX,QAAS,CACLtF,MAAOuD,EAAqB,iBAIxCgC,uBAAwB,CACpBC,WAAY,CACRX,gBAAkBrB,EAAQC,QAAsCC,KAChE,SAAU,CACN1D,MAAOuD,EAAqB,iBAKxCkC,qBAAsB,CAClBd,KAAM,CACF3E,MAAQwD,EAAQI,UAAwCF,KACxD,6BAA8B,CAC1B1D,MAAQwD,EAAQI,UAAwCF,QAIpEgC,0BAA2B,CACvB3F,MAAO,CACHC,MAAQwD,EAAQI,UAAwCF,MAE5DiC,WAAY,CACR3F,MAAQwD,EAAQI,UAAwCF,OAGhEkC,oBAAqB,CACjBjB,KAAM,CACF,mBAAoB,CAChBE,gBAAiBtB,KAI7BsC,uBAAwB,CACpBlB,KAAM,CACF3E,MAAQwD,EAAQI,UAAwCF,OAGhEoC,uBAAwB,CACpBnB,KAAM,CACFoB,aAAc,YClHxBC,GAAa3B,YAAe,CAC9Bb,QAAS,CACLC,QAASW,EAAMZ,QAAQU,QACvBN,UAAWQ,EAAMZ,QAAQjB,SAIpB0D,GAAW,WACpB,OACI,cAAC,IAAD,CAAkB7B,MAAO4B,GAAzB,SACI,cAACE,EAAA,EAAD,CAAMC,MAAO,MAAOnG,MAAO,eAK1BoG,GAAU,WACnB,OACI,cAAC,IAAD,CAAkBhC,MAAO4B,GAAzB,SACI,cAACE,EAAA,EAAD,CAAMC,MAAO,KAAMnG,MAAO,iB,6GCdhCH,GAAYC,aACd,SAAAsE,GAAK,MAAK,CACNV,KAAM,CACF2C,QAAS,OACTC,KAAM,YAEVC,WAAY,CACRvG,MAAOoE,EAAMZ,QAAQgD,KAAK5C,UAC1B6C,UAAW,OACXC,YAAa,OAEjBC,WAAY,CACRL,KAAM,SAEVM,UAAW,CACP,UAAW,CACP5G,MAAOoE,EAAMZ,QAAQjB,MAAMmB,UAIvC,CAACmD,KAAM,uBAiEIC,GA/Dc,SAAC,GAAkE,IAAjE9F,EAAgE,EAAhEA,QAAS2F,EAAuD,EAAvDA,WAAYI,EAA2C,EAA3CA,SAAUC,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,aAAcC,EAAW,EAAXA,MAC1E/G,EAAUN,KAD2E,EAEnEsH,mBAASR,GAF0D,mBAEpFH,EAFoF,KAE9EY,EAF8E,KAGvFC,EAAQb,EAEZc,qBAAU,WACFJ,IACAF,IACAI,EAAQ,IACRL,EAAS,OAEd,CAACK,EAASF,EAAOH,EAAUC,IAE9B,IAAIO,EAAmB,SAACC,GACpBT,EAASS,IAIbD,EAAmBE,sBAAYC,oBAASH,EAAkBN,GAAe,IAErEC,IACAG,EAAQV,GAcZ,OACI,cAACgB,GAAA,EAAD,CAAMC,QAAM,EAACC,IAAI,EAAMC,QAAS,IAAhC,SACI,sBAAKxH,UAAWH,EAAQuD,KAAxB,UACI,cAAC,KAAD,CAAYpD,UAAWH,EAAQoG,aAC/B,cAACwB,GAAA,EAAD,cACIzH,UAAWH,EAAQwG,WACnBqB,WAAW,EACXC,WAAY,CACR,eAAgBjH,EAAQkH,WAAWC,QAAQC,QAE/CC,WAAY,CACR,aAAcrH,EAAQkH,WAAWC,QAAQC,QAE7Cf,MAAOA,GAAS,GAChBiB,UApBE,SAAAC,GACI,WAAdA,EAAMC,KACNxB,KAmBQyB,SA3BS,SAAAF,GACrB,IAAIG,EAAWH,EAAMI,OAAOtB,MAC5BD,EAAQsB,GACRnB,EAAiBmB,IAyBLE,WAAW,EACXC,YAAa7H,EAAQ8H,mBAChB9H,EAAQ+H,YAAc/H,EAAQ+H,YAAc,KAErD,cAACC,EAAA,EAAD,CAAY1I,UAAWH,EAAQyG,UAAWqC,QAASjC,EAAnD,SACI,cAAC,KAAD,YCHLkC,GAzCqB,SAAChJ,GA0BjC,IAzBoCiJ,EApChBjC,EAAgBkC,EA6D9BhF,EAAQiF,qBAAiBC,gBACzBC,EAAWC,iBAAM,CAACxI,QAASqI,sBA9DbnC,EA8DsChH,EAAMgH,MA9D5BkC,EA8D8ClJ,EAAMuJ,oBA9DE,CAC1FC,OAAO,EACPC,UAAU,EACVC,WAAY,WACZ1B,WAAY,CACR2B,KAAM,IAEVC,mBAAoB,SAChBnD,EACAoD,EACAC,EACAhJ,GAEA,OAAO,cAAC,GAAD,CACH2F,WAAYA,EACZI,SAAUgD,EACV/C,OAAQgD,EACRhJ,QAASA,EACTiG,aAAcmC,EACdlC,MAAOA,SA4CXhH,EACA,CAACiJ,SA5B+BA,EA4BKjJ,EAAMiJ,QAvB/C,SAAyBA,GACrBA,EAAQc,SAAQ,SAACC,EAAQ1B,GACjB0B,EAAOC,QACW/F,EAAME,UACdU,qBAAqBC,YAAY,gBAAkBuD,EAAM,GAAK,KAAO,CAC3E2B,MAAOD,EAAOC,WAT1BC,CAAgBjB,GACTA,EAAQkB,KAAI,SAAAH,GAAM,OAAII,gBAAKJ,EAAQ,gBAc9C,WAAyB,IAAD,WACN,UAAGX,EAASvI,eAAZ,iBAAG,EAAkBkH,kBAArB,aAAG,EAA8B2B,MACpCU,SAA+B,IAArBhB,EAASiB,QAAmB,aAA5B,UAA2CjB,EAASvI,eAApD,iBAA2C,EAAkBkH,kBAA7D,iBAA2C,EAA8B2B,YAAzE,aAA2C,EAAoCU,QAYxGE,GACA,IAAMC,EATKJ,gBAAKf,EAAU,aAW1B,OACI,cAAC,IAAD,CAAkBnF,MAAOA,EAAzB,SACI,cAAC,KAAD,gBAAkBsG,OAOvB,SAASC,GAAiBT,GAC7B,OAAO,SAAC9F,GACJ,IAAMwG,EAAYvB,qBAAUjF,GACtByG,EAAQ,+CAA2CX,EAA3C,MAKd,OAJCU,EAAUtG,UAAkBmB,qBAAqBd,KAAKkG,GAAY,CAC/DnK,WAAY,MACZwE,cAAe,OAEZ0F,G,yDCxFX/K,GAAYC,aAAW,SAAAsE,GAAK,MAAK,CACjCuB,WAAavB,EAAcE,UAAUI,oBAAoBI,SAOhDgG,GAAsD,SAAC5K,GAChE,IAAMC,EAAUN,KAChB,OACI,cAACkL,GAAA,EAAD,CAAShL,MAAO,eAAhB,SACI,cAACiJ,EAAA,EAAD,CAAY1I,UAAWH,EAAQwF,WAAYsD,QAAS/I,EAAM8K,YAA1D,SACI,cAACC,GAAA,EAAD,S,aCfiBC,yBAc9B,CACCC,UAAW,CAAC,WACZC,QAAS,CAAC,WACVC,WAAY,CAAC,WACbC,SAAU,CAAC,WACXC,SAAU,CAAC,WACXC,kBAAmB,CAAC,aApBVC,G,GAAAA,MAAOC,G,GAAAA,SAuBRC,GAA+B,CACxCvD,OAAQ,GACRlB,OAAO,EACP0E,WAAY,CAACC,KAAM,EAAGC,SAAU,IAChCC,MAAO,CAACC,UAAW,OAAQnF,KAAM,KAsDtBoF,OAnDCC,yBAAcP,IAAD,qBACxBF,GAAMU,YAQX,WAA2F,IAAxEC,EAAuE,uDAA/DT,GAAeU,EAAgD,uCACtF,OAAO,6BACAD,GADP,IACchE,OAAQiE,EAAOC,QAAQlE,OAAQwD,WAAW,6BAAKQ,EAAMR,YAAZ,IAAwBC,KAAM,IAAI3E,OAAO,OAXvE,eAExBuE,GAAMc,UAaX,WAAuF,IAAtEH,EAAqE,uDAA7DT,GAAeU,EAA8C,uCAClF,OAAO,6BACAD,GADP,IACcR,WAAW,6BAAKQ,EAAMR,YAAZ,IAAwBC,KAAMQ,EAAOC,QAAQT,OAAO3E,OAAO,OAjB1D,eAGxBuE,GAAMe,cAkBX,WAA6F,IAAzEJ,EAAwE,uDAAhET,GAAeU,EAAiD,uCACxF,OAAO,6BACAD,GADP,IACcR,WAAW,6BAAKQ,EAAMR,YAAZ,IAAwBE,SAAUO,EAAOC,QAAQR,WAAW5E,OAAO,OAvBlE,eAIxBuE,GAAMgB,WAuBX,WAAyF,IAAvEL,EAAsE,uDAA9DT,GAAeU,EAA+C,uCACpF,OAAO,6BACAD,GADP,IAEIR,WAAW,6BAAKQ,EAAMR,YAAZ,IAAwBC,KAAM,IACxCE,MAAO,CAAClF,KAAMwF,EAAOC,QAAQP,MAAMlF,KAAMmF,UAAWK,EAAOC,QAAQP,MAAMC,WACzE9E,OAAO,OAhCc,eAKxBuE,GAAMiB,WAyCX,WAAkE,IAAzBL,EAAwB,uCAC7D,OAAO,6BAAIA,EAAOC,QAAQF,OAA1B,IAAiClF,OAAO,OA/Cf,eAMxBuE,GAAMkB,qBA8BX,WAAoF,IAAzDP,EAAwD,uDAAhDT,GAAeU,EAAiC,uCAC/E,OAAO,6BACAD,GADP,IAEIQ,YAAY,6BACLR,EAAMQ,aACNP,EAAOC,cAzCO,K,6BCFd,SAASO,GAAU7L,GAC9B,IAAM8L,EAAUC,eACVC,EAAWC,eAELC,EAGRF,EAHA5E,OACU+E,EAEVH,EAFAI,SACOC,EACPL,EADAZ,MAEGkB,EAAyDtM,EAAzDsM,YAAaC,EAA4CvM,EAA5CuM,mBAAoBX,EAAwB5L,EAAxB4L,YAAazD,EAAWnI,EAAXmI,QAE/CqE,EAASC,mBAAQ,WACnB,OAAOC,OAAaC,MAAb,cACHvF,OAAQsF,OAEHE,WAAU,SAACvG,GAAD,OAAaA,QAAQwG,KAC/B9J,QAAQ,IACb6H,WAAY8B,OAAaC,MAAM,CAC3B9B,KAAM6B,OAEDE,WAAU,SAACvG,GAAD,OACPyG,MAAMzG,IAAU0G,SAAS1G,GAAS,OAAIwG,EAAYxG,KAErDtD,QAAQ,GACb+H,SAAU4B,OAELE,WAAU,SAACvG,GAAD,OACPyG,MAAMzG,KAAWkG,EAAmBS,SAASD,SAAS1G,SAChDwG,EACAxG,KAETtD,QAAQuJ,KAEjBvB,MAAO2B,OAAaC,MAAM,CACtBM,KAAMP,OAEDQ,WACAN,WAAU,SAACvG,GAMR,OALoB8B,EACfxG,QACG,SAACuH,GAAD,OAAaA,EAAOlJ,UAAmC,IAAxBkJ,EAAOlJ,QAAQiN,QAEjD5D,KAAI,SAACH,GAAD,OAAYA,EAAOrD,QACTmH,SAAS3G,GAASA,OAAQwG,KAEhD9J,QAAQ,MACboK,IAAKT,OAEAQ,WACAN,WAAU,SAACvG,GAAD,OACNA,GAAU,CAAC,MAAO,QAAQ2G,SAAS3G,EAAM+G,eAEpC/G,OADAwG,KAGT9J,QAAQ,SAEb6I,GAAe,CACfA,YAAaA,EAAYyB,8BAGlC,CAACd,EAAoBD,EAAanE,EAASyD,IAExC0B,EAAeb,mBAAQ,WACzB,IAAMhM,EAAc,IAAI8M,gBAAgBvB,EAAS5E,OAAOoG,UAAU,IAClE,OAAOhB,EAAOiB,KAAP,cACHrG,OAAQ3G,EAAYE,IAAI,UACxBiK,WAAY,CACRC,KAAMpK,EAAYE,IAAI,QACtBmK,SAAUrK,EAAYE,IAAI,aAE9BoK,MAAO,CACHlF,KAAMpF,EAAYE,IAAI,QACtBqK,UAAWvK,EAAYE,IAAI,SAG3BiL,GAAe,CACXA,YAAaA,EAAY8B,gBAAgBjN,QAItD,CAACuL,EAAS5E,OAAQwE,EAAaY,IAE5BmB,EAAkBlH,uBAAY,SAACjB,GACjC,IAAIoI,EAAUpI,EAId,OAHIA,QAAuBqH,IAAfrH,EAAKa,QACbuH,EAAUpI,EAAKa,OAEZuH,IACR,IAEGC,EAAqBpH,uBACvB,SAAC2E,EAAOQ,GACJ,IAAMxE,EAASuG,EAAgBvC,EAAMhE,QACrC,OAAO,oEACCA,GAAqB,KAAXA,GAAiB,CAACA,OAAQA,IACV,IAA1BgE,EAAMR,WAAWC,MAAc,CAACA,KAAMO,EAAMR,WAAWC,OACzB,KAA9BO,EAAMR,WAAWE,UAAmB,CACpCA,SAAUM,EAAMR,WAAWE,WAE3BM,EAAML,MAAMlF,MAAQ,CACpBoH,KAAM7B,EAAML,MAAMlF,KAClBsH,IAAK/B,EAAML,MAAMC,YAEjBY,GAAeA,EAAYiC,mBAAmBzC,MAG1D,CAACuC,IAGChD,EAAgB2C,EA5GmC,EA6GzBQ,qBAAgD7C,GAASN,GA7GhC,mBA6GlDoD,EA7GkD,KA6GrCC,EA7GqC,KA8GnDC,EAAgB,IAAIC,GAAJ,6BAAsBlO,GAAtB,IAA+BoL,MAAO2C,EAAaC,WAAUxB,YA9G1B,EA+G1B2B,aAAYJ,EAAa/N,EAAQiG,cAAzDmI,EA/GkD,sBAgHjBjI,mBAAiB,GAhHA,mBAgHlDkI,EAhHkD,KAgHpCC,EAhHoC,KAqKzD,OApDAhI,qBAAU,WACNwF,EAAQyC,QAAQ,CACZnC,SAAUD,EACV/E,OACI,IACA,IAAImG,gBAAgBM,EAAmBP,EAAc1B,IACzDR,MAAOkC,MAEZ,CACCxB,EACAK,EACA0B,EACAP,EACA1B,IAGJtF,qBAAU,WACN,IAAMkI,EAAc,CAChBpC,SAAUD,EACV/E,OACI,IACA,IAAImG,gBACAM,EAAmBO,EAAsBxC,IAEjDR,MAAM,6BACCgD,GADF,IAEDhH,OAAQuG,EAAgBS,EAAqBhH,WAI/CqH,EAAWpC,EACXqC,EAAYN,EAEdO,mBAAQF,EAAUC,IAGtB5C,EAAQ8C,KAAKJ,KACd,CACC1C,EACAK,EACAD,EACA2B,EACAxB,EACAsB,EACAS,EACAxC,IAGJqC,EAAc7C,MAAQ2C,EAEtBE,EAAcY,sBAEP,CACH1G,QAAS8F,EAAc9F,QACvBwF,kBACAM,gBACAF,cACAK,uBACAJ,WACAK,eACAC,mBAID,IAAMJ,GAAb,WAOI,WAAYlO,GAAgC,yBAN5CwM,YAM2C,OAL3CpB,WAK2C,OAJ3C4C,cAI2C,OAH3C7F,aAG2C,OAF3CmE,iBAE2C,MAEnCE,EAKAxM,EALAwM,OACArE,EAIAnI,EAJAmI,QACAmE,EAGAtM,EAHAsM,YACA0B,EAEAhO,EAFAgO,SACA5C,EACApL,EADAoL,MAEJnL,KAAKuM,OAASA,EACdvM,KAAKkI,QAAUA,EACflI,KAAKqM,YAAcA,EACnBrM,KAAK+N,SAAWA,EAChB/N,KAAKmL,MAAQA,EAnBrB,gDAuBI,SAAa/E,GACTpG,KAAK+N,SAAStD,GAASP,UAAU,CAAC/C,OAAQf,GAAS,QAxB3D,wBA2BI,SAAWwE,GACP5K,KAAK+N,SAAStD,GAASN,QAAQ,CAACS,KAAMA,EAAO,OA5BrD,+BA+BI,SAAkBC,GACd7K,KAAK+N,SAAStD,GAASL,WAAW,CAACS,SAAUA,OAhCrD,8BAmCI,SAAiBgE,EAAuB9D,GACpC/K,KAAK+N,SAAStD,GAASJ,SAAS,CAC5BS,MAAO,CACHlF,KAAMiJ,EACN9D,UAAWA,QAvC3B,+BA4CI,SAAkBnK,GACdZ,KAAK+N,SAAStD,GAASF,kBAAkB3J,MA7CjD,yBAgDI,WACI,IAAM8J,EAAa,6BACZ1K,KAAKuM,OAAOiB,KAAK,KADL,IAEfrG,OAAQ,KAEZnH,KAAK+N,SAAStD,GAASH,SAAS,CAC5Ba,MAAOT,OAtDnB,iCA0DI,WAAuB,IAAD,OAClB1K,KAAKkI,QAAUlI,KAAKkI,QAAQkB,KAAI,SAACH,GAC7B,OAAOA,EAAOrD,OAAS,EAAKuF,MAAML,MAAMlF,KAAjC,6BAEIqD,GAFJ,IAGClJ,QAAQ,6BACDkJ,EAAOlJ,SADP,IAEH+O,cAAe,EAAK3D,MAAML,MAAMC,cAGtC9B,SApElB,KC7Me8F,GAFQC,yBAAc,GCiB/B1C,GAAqB,CAAC,GAAI,GAAI,IAC9B2C,GAAoC,CACtC,CACIrJ,KAAM,KACNV,MAAO,KACPgE,MAAO,MACPnJ,QAAS,CACL2B,QAAQ,EACRsL,MAAM,IAGd,CACIpH,KAAM,OACNV,MAAO,OACPgE,MAAO,MACPnJ,QAAS,CACL2B,QAAQ,IAGhB,CACIkE,KAAM,YACNV,MAAO,UACPgE,MAAO,KACPnJ,QAAS,CACLmP,cAAe,CACXC,MAAO,CAAC,MAAO,OAEnBC,iBAJK,SAIYhJ,EAAOiJ,EAAWC,GAC/B,OAAOlJ,EAAQ,cAAC,GAAD,IAAc,cAAC,GAAD,OAIzC,CACIR,KAAM,aACNV,MAAO,aACPgE,MAAO,MACPnJ,QAAS,CACL2B,QAAQ,EACR0N,iBAFK,SAEYhJ,EAAOiJ,EAAWC,GAC/B,OAAO,+BAAOC,YAAOC,YAASpJ,GAAQ,mBAIlD,CACIR,KAAM,UACNV,MAAO,UACPgE,MAAO,MACPnJ,QAAS,CACLiN,MAAM,EACNtL,QAAQ,EACR0N,iBAHK,SAGYhJ,EAAOiJ,EAAWC,GAC/B,OACI,cAACvH,EAAA,EAAD,CACIhJ,MAAO,YACPO,UAAWmQ,IACXC,GAAI,eAAiBL,EAAUM,QAAQ,GAAK,QAHhD,SAKI,cAAC,KAAD,CAAUC,SAAU,kBAmF7B3H,GA3ED,WAAO,IACV4H,EAAmBC,eAAnBD,gBADS,EAEQ3J,mBAAqB,IAF7B,mBAETtF,EAFS,KAEHmP,EAFG,KAGVxG,EAAUyG,qBAAWjB,IAHX,EAWZnD,GAAU,CACV1D,QAAS+G,GACTjJ,aAhFkB,IAiFlBqG,YAhFY,GAiFZC,wBAVA0B,EALY,EAKZA,cACAN,EANY,EAMZA,gBACAI,EAPY,EAOZA,YACAM,EARY,EAQZA,aACAC,EATY,EASZA,gBACAF,EAVY,EAUZA,qBAqCJ,OA7BA9H,qBAAU,WACN4J,EAAaC,KACT,CACI1P,YAAa,CACT2G,OAAQuG,EAAgBS,EAAqBhH,QAC7CyD,KAAMuD,EAAqBxD,WAAWC,KACtCC,SAAUsD,EAAqBxD,WAAWE,SAC1CmC,KAAMmB,EAAqBrD,MAAMlF,KACjCsH,IAAKiB,EAAqBrD,MAAMC,aAG1CoF,MAAK,YAAa,IAAXvP,EAAU,EAAVA,KACLyN,EAAgBzN,EAAKwP,KAAKC,OAC1BN,EAAQnP,EAAKA,SACd0P,OAAM,SAAChP,GACF2O,EAAaM,gBAAgBjP,IAGjCuO,EAAgB,8BAA+B,CAACtQ,QAAS,eAG9D,CAAC4O,EAAqBhH,OACrBgH,EAAqBxD,WAAWC,KAChCuD,EAAqBxD,WAAWE,SAChCsD,EAAqBrD,MACrBuD,EACAwB,EACAnC,IAGA,cAAC,IAAD,CAAkBvK,MAAOuG,GAAiBuF,GAAmBpN,OAAS,GAAtE,SACI,cAAC,GAAD,CACI2G,oBArHU,IAsHVe,QAASA,EACTrB,QAAS+G,GACTrO,KAAMA,EACNqF,MAAO6H,EAAY7H,MACnBnH,MAAO,GACPiB,QAAS,CACLyQ,UAAW1C,EAAYhD,MACvB2F,YAAY,EACZ/K,WAAYoI,EAAY3G,OACxByD,KAAMkD,EAAYnD,WAAWC,KAAO,EACpCyB,YAAayB,EAAYnD,WAAWE,SACpCyB,sBACAoE,MAAOtC,EACPuC,cAAe,kBAAO,cAAC,GAAD,CAAmB5G,YAAa,kBAAMiE,EAAc4C,kBAC1EC,eAAgB,SAACzK,GAAD,OAAW4H,EAAc8C,aAAa1K,IACtD2K,aAAc,SAACnG,GAAD,OAAUoD,EAAcgD,WAAWpG,IACjDqG,oBAAqB,SAACpG,GAAD,OAAcmD,EAAckD,kBAAkBrG,IACnEsG,mBAAoB,SAACtC,EAAe9D,GAAhB,OAA8BiD,EAAcoD,iBAAiBvC,EAAe9D,UC7HrGsG,GApBE,WACb,OACI,eAAC,EAAD,CAAMvS,MAAO,kBAAb,UACI,cAACU,EAAA,EAAD,CAAK0N,IAAK,MAAOjJ,cAAe,EAAhC,SACI,cAACqN,EAAA,EAAD,CACIxS,MAAO,eACPC,MAAO,YACPwS,KAAM,QACNjS,UAAWmQ,IACXC,GAAI,oBALR,SAMC,cAAC,IAAD,QAGL,cAAClQ,EAAA,EAAD,UACI,cAAC,GAAD,U,6BClBD,OAAIG,EAAasC,EAAW,UCerCgN,GAAoC,CACtC,CACIrJ,KAAM,KACNV,MAAO,KACPgE,MAAO,MACPnJ,QAAS,CACL2B,QAAQ,EACRsL,MAAM,IAGd,CACIpH,KAAM,OACNV,MAAO,OACPgE,MAAO,MACPnJ,QAAS,CACL2B,QAAQ,IAGhB,CACIkE,KAAM,aACNV,MAAO,aACPnF,QAAS,CACLyR,WAAY,cACZtC,cAAe,CACXC,MAAO,IAEXC,iBALK,SAKYhJ,EAAOiJ,EAAWC,GAC/B,IAAImC,EAAmB,GAIvB,OAHArL,EAAM4C,SAAQ,SAAC0I,GACXD,EAAO9C,KAAK+C,EAAS9L,SAEjB,+BAAO6L,EAAOE,KAAK,WAIvC,CACI/L,KAAM,YACNV,MAAO,UACPgE,MAAO,KACPnJ,QAAS,CACLmP,cAAe,CACXC,MAAO,CAAC,MAAO,OAEnBC,iBAJK,SAIYhJ,EAAOiJ,EAAWC,GAC/B,OAAOlJ,EAAQ,cAAC,GAAD,IAAc,cAAC,GAAD,OAIzC,CACIR,KAAM,aACNV,MAAO,aACPgE,MAAO,MACPnJ,QAAS,CACL2B,QAAQ,EACR0N,iBAFK,SAEYhJ,EAAOiJ,EAAWC,GAC/B,OAAO,+BAAOC,YAAOC,YAASpJ,GAAQ,mBAIlD,CACIR,KAAM,UACNV,MAAO,UACPgE,MAAO,MACPnJ,QAAS,CACL2B,QAAQ,EACRsL,MAAM,EACNoC,iBAHK,SAGYhJ,EAAOiJ,EAAWC,GAC/B,OACI,cAACvH,EAAA,EAAD,CACIhJ,MAAO,YACPO,UAAWmQ,IACXC,GAAI,WAAaL,EAAUM,QAAQ,GAAK,QAH5C,SAKI,cAAC,KAAD,CAAUC,SAAU,kBAUtCtD,GAAqB,CAAC,GAAI,GAAI,IAsKrBrE,GArKD,WAAO,IACV4H,EAAmBC,eAAnBD,gBADS,EAEQ3J,mBAAkB,IAF1B,mBAETtF,EAFS,KAEHmP,EAFG,OAGc7J,oBAAkB,GAHhC,mBAGTqD,EAHS,KAGAqI,EAHA,KAIVC,EAAaC,kBAAO,GACpBnG,EAAca,mBAAQ,iBAAO,CAC/BY,uBAAwB,WACpB,OAAOX,OAAaC,MAAM,CACtBqF,WAAYtF,OACPQ,WACAN,WAAU,SAAAvG,GACP,OAAQA,GAAmB,KAAVA,EAA2BA,EAAM4L,MAAM,UAAxBpF,KAEnC9J,QAAQ,SAGrB8K,mBAAoB,SAACqE,GACjB,OAAOA,EAAetG,YAAf,gBAECsG,EAAetG,YAAYoG,YAC3B,CAACA,WAAYE,EAAetG,YAAYoG,WAAWJ,KAAK,YAE5D/E,GAERa,gBAAiB,SAACjN,GACd,MAAO,CACHuR,WAAYvR,EAAYE,IAAI,mBAGpC,IA7BY,EAqCZkL,GAAU,CACV1D,QAAS+G,GACTjJ,aA1Ca,IA2CbqG,YA1CY,GA2CZC,sBACAX,YAAaA,IAXbqC,EA/BY,EA+BZA,cACAF,EAhCY,EAgCZA,YACAK,EAjCY,EAiCZA,qBACAC,EAlCY,EAkCZA,aACAV,EAnCY,EAmCZA,gBACAW,EApCY,EAoCZA,gBASE6D,EAAwBjD,GAAmBkD,WAAU,SAAAC,GAAC,MAAe,eAAXA,EAAExM,QAC5DyM,EAAmBpD,GAAmBiD,GACtCI,EAAwBxE,EAAYnC,aAAemC,EAAYnC,YAAYoG,WAChFM,EAAiBtS,QAAgBwS,WAAaD,GAAgD,GAC/F,IAAME,EAAuBvD,GAAmB7F,KAAI,SAAAH,GAAM,MAAI,MAC1DqJ,IACAE,EAAqBN,GAAyBI,GAGlDjM,qBAAU,WACN,IAAIoM,GAAe,EAgBnB,OAfA,wBAAC,+BAAAC,EAAA,+EAE4BzC,EAAaC,KAAK,CAAC1P,YAAa,CAACmS,IAAK,MAFlE,gBAEc/R,EAFd,EAEcA,KACH6R,IACCJ,EAAiBtS,QAAgBmP,cAAcC,MAAQvO,EAAKA,KAAKwI,KAAI,SAACsI,GAAD,OAAwBA,EAAS9L,SAJlH,gDAOOgN,QAAQtR,MAAR,MACAuO,EACI,8BACA,CAACtQ,QAAS,UAVrB,wDAAD,GAeO,WACHkT,GAAe,KAEpB,CAACJ,EAAiBtS,QAAS8P,IAE9B,IAAMgD,EAAUrM,sBAAW,wBAAC,+BAAAkM,EAAA,6DACxBd,GAAW,GADa,kBAGCkB,GAAU5C,KAA0B,CACrD1P,YAAY,cACR2G,OAAQuG,EAAgBS,EAAqBhH,QAC7CyD,KAAMuD,EAAqBxD,WAAWC,KACtCC,SAAUsD,EAAqBxD,WAAWE,SAC1CmC,KAAMmB,EAAqBrD,MAAMlF,KACjCsH,IAAKiB,EAAqBrD,MAAMC,WAE5BoD,EAAqBxC,aACrBwC,EAAqBxC,YAAYoG,YACjC,CAACA,WAAY5D,EAAqBxC,YAAYoG,WAAWJ,KAAK,SAbtD,gBAGb/Q,EAHa,EAGbA,KAcHiR,EAAWkB,UACXhD,EAAQnP,EAAKA,MACbyN,EAAgBzN,EAAKwP,KAAKC,QAnBV,mDAsBpBuC,QAAQtR,MAAR,OACIwR,GAAUvC,gBAAV,MAvBgB,mDA0BpBV,EACI,8BACA,CAACtQ,QAAS,UA5BM,yBA+BpBqS,GAAW,GA/BS,4EAiCzB,CAAClE,EACAS,EAAqBxC,YACrBwC,EAAqBrD,MAAMC,UAC3BoD,EAAqBrD,MAAMlF,KAC3BuI,EAAqBxD,WAAWC,KAChCuD,EAAqBxD,WAAWE,SAChCsD,EAAqBhH,OACrB0I,EACAxB,IAcJ,OAZAhI,qBAAU,WAGN,OAFAwL,EAAWkB,SAAU,EACrBF,IACO,WACHhB,EAAWkB,SAAU,KAE1B,CAAC5E,EAAqBxD,WAAWC,KAChCuD,EAAqBxD,WAAWE,SAChCsD,EAAqBrD,MACrB+H,IAIA,cAAC,IAAD,CAAkB1P,MAAOuG,GAAiBuF,GAAmBpN,OAAS,GAAtE,SACI,cAAC,GAAD,CACI/C,MAAM,GACNoJ,QAAS+G,GACTrO,KAAMA,EACN2I,QAASA,EACTtD,MAAO6H,EAAY7H,MACnBuC,oBA9IK,IA+ILzI,QAAS,CACLyQ,UAAW1C,EAAYhD,MACvB2F,YAAY,EACZ/K,WAAYoI,EAAY3G,OACxByD,KAAMkD,EAAYnD,WAAWC,KAAO,EACpCyB,YAAayB,EAAYnD,WAAWE,SACpCyB,sBACAoE,MAAOtC,EACP4E,eAAgB,SAAC/J,EAAQsJ,EAAYU,GACjC,IAAMC,EAAcjE,GAAmBkD,WAAU,SAAAC,GAAC,OAAIA,EAAExM,OAASqD,KACjE+E,EAAcmF,kBAAd,eACKlK,EAAgBsJ,EAAWW,GAAarR,OAAS0Q,EAAWW,GAAe,QAGpFvC,cAAe,kBAAO,cAAC,GAAD,CAAmB5G,YAAa,kBAAMiE,EAAc4C,kBAC1EC,eAAgB,SAACzK,GAAD,OAAW4H,EAAc8C,aAAa1K,IACtD2K,aAAc,SAACnG,GAAD,OAAUoD,EAAcgD,WAAWpG,IACjDqG,oBAAqB,SAACpG,GAAD,OAAcmD,EAAckD,kBAAkBrG,IACnEsG,mBAAoB,SAACtC,EAAe9D,GAAhB,OAA8BiD,EAAcoD,iBAAiBvC,EAAe9D,UCzOrGsG,GApBE,WACb,OACI,eAAC,EAAD,CAAMvS,MAAO,cAAb,UACI,cAACU,EAAA,EAAD,CAAK0N,IAAK,MAAOjJ,cAAe,EAAhC,SACI,cAACqN,EAAA,EAAD,CACIxS,MAAO,YACPC,MAAO,YACPwS,KAAM,QACNjS,UAAWmQ,IACXC,GAAI,gBALR,SAMC,cAAC,IAAD,QAGL,cAAClQ,EAAA,EAAD,UACI,cAAC,GAAD,UCyBH4T,GAAoB,CAC7BC,EAAG,WACHC,EAAG,SAOMC,GAAqB,CAC9B,WAAc,YACd,YAAe,SACf,aAAgB,UAChB,WAAc,aCxDH,OAAI5T,EAAasC,EAAW,gBCcrCuR,GAAkBhS,OAAOC,OAAO2R,IAChCnE,GAAoC,CACtC,CACIrJ,KAAM,KACNV,MAAO,KACPgE,MAAO,MACPnJ,QAAS,CACLiN,MAAM,EACNtL,QAAQ,IAGhB,CACIkE,KAAM,OACNV,MAAO,OACPgE,MAAO,MACPnJ,QAAS,CACL2B,QAAQ,IAGhB,CACIkE,KAAM,OACNV,MAAO,OACPgE,MAAO,KACPnJ,QAAS,CACLmP,cAAe,CACXC,MAAOqE,IAEXpE,iBAAkB,SAAChJ,EAAkBiJ,EAAWC,GAC5C,OAAO8D,GAAkBhN,MAKrC,CACIR,KAAM,aACNV,MAAO,aACPgE,MAAO,MACPnJ,QAAS,CACL2B,QAAQ,EACR0N,iBAFK,SAEYhJ,EAAOiJ,EAAWC,GAC/B,OAAO,+BAAOC,YAAOC,YAASpJ,GAAQ,mBAIlD,CACIR,KAAM,UACNV,MAAO,UACPgE,MAAO,MACPnJ,QAAS,CACL2B,QAAQ,EACRsL,MAAM,EACNoC,iBAHK,SAGYhJ,EAAOiJ,EAAWC,GAC/B,OACI,cAACvH,EAAA,EAAD,CACIhJ,MAAO,YACPO,UAAWmQ,IACXC,GAAI,YAAcL,EAAUM,QAAQ,GAAK,QAH7C,SAKI,cAAC,KAAD,CAAUC,SAAU,kBAUtCtD,GAAqB,CAAC,GAAI,GAAI,IAwJrBrE,GAvJD,WAAO,IACV4H,EAAmBC,eAAnBD,gBADS,EAEQ3J,mBAAuB,IAF/B,mBAETtF,EAFS,KAEHmP,EAFG,OAGc7J,oBAAkB,GAHhC,mBAGTqD,EAHS,KAGAqI,EAHA,KAIVC,EAAaC,kBAAO,GACpBnG,EAAca,mBAAQ,iBAAO,CAC/BY,uBAAwB,WACpB,OAAOX,OAAaC,MAAM,CACtBuG,KAAMxG,OACDQ,WACAN,WAAU,SAAAvG,GACP,OAAQA,GAAUoN,GAAgBzG,SAAS3G,GAAqBA,OAAZwG,KAEvD9J,QAAQ,SAGrB8K,mBAAoB,SAACqE,GACjB,OAAOA,EAAetG,YAAf,gBAGKsG,EAAetG,YAAYsH,MAC3B,CAACA,KAAMhB,EAAetG,YAAYsH,YAGxCrG,GAEVa,gBAAiB,SAACjN,GACd,MAAO,CACHyS,KAAMzS,EAAYE,IAAI,aAG9B,IA/BY,EAwCZkL,GAAU,CACV1D,QAAS+G,GACTjJ,aA7Ca,IA8CbqG,YA7CY,GA8CZC,sBACAX,YAAaA,IAXbqC,EAlCY,EAkCZA,cACAF,EAnCY,EAmCZA,YACAK,EApCY,EAoCZA,qBACAT,EArCY,EAqCZA,gBACAU,EAtCY,EAsCZA,aACAC,EAvCY,EAuCZA,gBASEoF,EAAkBxE,GAAmBkD,WAAU,SAAAC,GAAC,MAAe,SAAXA,EAAExM,QACtD8N,EAAazE,GAAmBwE,GAChCE,EAAkB7F,EAAYnC,aAAemC,EAAYnC,YAAYsH,KAC1ES,EAAW3T,QAAgBwS,WAAaoB,EAAkB,CAACA,GAAmB,GAE/E,IAAMnB,EAAuBvD,GAAmB7F,KAAI,SAAAH,GAAM,MAAI,MAC1D0K,IACAnB,EAAqBiB,GAAmB,CAACE,IAG7C,IAAMd,EAAUrM,sBAAW,wBAAC,+BAAAkM,EAAA,6DACxBd,GAAW,GADa,kBAGCgC,GAAW1D,KAA+B,CAC3D1P,YAAY,cACR2G,OAAQuG,EAAgBS,EAAqBhH,QAC7CyD,KAAMuD,EAAqBxD,WAAWC,KACtCC,SAAUsD,EAAqBxD,WAAWE,SAC1CmC,KAAMmB,EAAqBrD,MAAMlF,KACjCsH,IAAKiB,EAAqBrD,MAAMC,WAE5BoD,EAAqBxC,aACrBwC,EAAqBxC,YAAYsH,MACjC,CAACA,KAAMY,kBAAOT,IAAmBjF,EAAqBxC,YAAYsH,UAb1D,gBAGbrS,EAHa,EAGbA,KAcHiR,EAAWkB,UACXhD,EAAQnP,EAAKA,MACbyN,EAAgBzN,EAAKwP,KAAKC,QAnBV,oDAsBhBuD,GAAWrD,gBAAX,MAtBgB,mDAyBpBV,EACI,8BACA,CAACtQ,QAAS,UA3BM,yBA8BpBqS,GAAW,GA9BS,4EAgCzB,CAAClE,EACAS,EAAqBxC,YACrBwC,EAAqBrD,MAAMC,UAC3BoD,EAAqBrD,MAAMlF,KAC3BuI,EAAqBxD,WAAWC,KAChCuD,EAAqBxD,WAAWE,SAChCsD,EAAqBhH,OACrB0I,EACAxB,IAcJ,OAXAhI,qBAAU,WAGN,OAFAwL,EAAWkB,SAAU,EACrBF,IACO,WACHhB,EAAWkB,SAAU,KAE1B,CAAC5E,EAAqBxD,WAAWC,KAChCuD,EAAqBxD,WAAWE,SAChCsD,EAAqBrD,MACrB+H,IAGA,cAAC,IAAD,CAAkB1P,MAAOuG,GAAiBuF,GAAmBpN,OAAS,GAAtE,SACI,cAAC,GAAD,CACI/C,MAAM,GACNoJ,QAAS+G,GACTrO,KAAMA,EACN2I,QAASA,EACTf,oBA1HK,IA2HLzI,QAAS,CACLyQ,UAAW1C,EAAYhD,MACvB2F,YAAY,EACZ/K,WAAYoI,EAAY3G,OACxByD,KAAMkD,EAAYnD,WAAWC,KAAO,EACpCyB,YAAayB,EAAYnD,WAAWE,SACpCyB,sBACAoE,MAAOtC,EACP4E,eAAgB,SAAC/J,EAAQsJ,EAAYU,GACjC,IAAMC,EAAcjE,GAAmBkD,WAAU,SAAAC,GAAC,OAAIA,EAAExM,OAASqD,KAEjE+E,EAAcmF,kBAAd,eACKlK,EAAgBsJ,EAAWW,GAAarR,OAAS0Q,EAAWW,GAAa,GAAK,QAGvFvC,cAAe,kBACX,cAAC,GAAD,CACI5G,YAAa,kBAAMiE,EAAc4C,kBAGzCC,eAAgB,SAACzK,GAAD,OAAW4H,EAAc8C,aAAa1K,IACtD2K,aAAc,SAACnG,GAAD,OAAUoD,EAAcgD,WAAWpG,IACjDqG,oBAAqB,SAAC6C,GAAD,OAAa9F,EAAckD,kBAAkB4C,IAClE3C,mBAAoB,SAACtC,EAAuB9D,GAAxB,OAChBiD,EAAcoD,iBAAiBvC,EAAe9D,UC3MvDsG,GApBE,WACb,OACI,eAAC,EAAD,CAAMvS,MAAO,mBAAb,UACI,cAACU,EAAA,EAAD,CAAK0N,IAAK,MAAOjJ,cAAe,EAAhC,SACI,cAACqN,EAAA,EAAD,CACIxS,MAAO,kBACPC,MAAO,YACPwS,KAAM,QACNjS,UAAWmQ,IACXC,GAAI,iBALR,SAMC,cAAC,IAAD,QAGL,cAAClQ,EAAA,EAAD,UACI,cAAC,GAAD,UClBD,OAAIG,EAAasC,EAAW,UCc5B8R,GAfa,WAAO,IAAD,EACkB7N,oBAAS,GAD3B,mBACvB8N,EADuB,KACLC,EADK,OAEU/N,mBAAwD,CAACtF,KAAM,KAFzE,mBAEvBsT,EAFuB,KAETC,EAFS,KAU9B,OANA9N,qBAAU,WACF6N,EAAatT,KAAKiB,QAClBoS,GAAoB,KAEzB,CAACC,IAEG,CACHF,mBAAkBC,sBAAqBC,eAAcC,oB,kDCwB9CC,GA7BmC,SAACnV,GAAW,IAEnDoV,EAAqBpV,EAArBoV,KAAMC,EAAerV,EAAfqV,YAEb,OACI,eAACC,GAAA,EAAD,CACIF,KAAMA,EACNG,QAAS,kBAAMF,GAAY,IAF/B,UAII,cAACG,GAAA,EAAD,8BAGA,cAACC,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,+DAIJ,eAACC,GAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAQ7M,QAAS,kBAAMsM,GAAY,IAAQvV,MAAM,UAAjD,oBAGA,cAAC8V,EAAA,EAAD,CAAQ7M,QAAS,kBAAMsM,GAAY,IAAOvV,MAAM,UAAUgI,WAAS,EAAnE,2BCZV+N,GAAmC,CACrC,CACIlP,KAAM,KACNV,MAAO,KACPgE,MAAO,MACPnJ,QAAS,CACLiN,MAAM,EACNtL,QAAQ,IAGhB,CACIkE,KAAM,QACNV,MAAO,QACPgE,MAAO,MACPnJ,QAAS,CACL2B,QAAQ,IAGhB,CACIkE,KAAM,SACNV,MAAO,SACPgE,MAAO,MACPnJ,QAAS,CACLiN,MAAM,EACNtL,QAAQ,EACR0N,iBAAkB,SAAChJ,EAAOiJ,EAAWC,GACjC,OAAOlJ,EAAMgD,KAAI,SAAChD,GAAD,OAAgBA,EAAMR,QAAM+L,KAAK,SAI9D,CACI/L,KAAM,aACNV,MAAO,aACPgE,MAAO,MACPnJ,QAAS,CACLiN,MAAM,EACNtL,QAAQ,EACR0N,iBAAkB,SAAChJ,EAAOiJ,EAAWC,GACjC,OAAOlJ,EAAMgD,KAAI,SAAChD,GAAD,OAAgBA,EAAMR,QAAM+L,KAAK,SAI9D,CACI/L,KAAM,aACNV,MAAO,aACPgE,MAAO,MACPnJ,QAAS,CACL2B,QAAQ,EACR0N,iBAFK,SAEYhJ,EAAOiJ,EAAWC,GAC/B,OAAO,+BAAOC,YAAOwF,YAAS3O,GAAQ,mBAIlD,CACIR,KAAM,UACNV,MAAO,UACPgE,MAAO,MACPnJ,QAAS,CACLiN,MAAM,EACNtL,QAAQ,EACR0N,iBAAkB,SAAChJ,EAAOiJ,GACtB,OACI,cAACtH,EAAA,EAAD,CACIhJ,MAAO,YACPO,UAAWmQ,IACXC,GAAE,kBAAaL,EAAUM,QAAQ,GAA/B,SAHN,SAKI,cAAC,KAAD,UAWlBrD,GAAqB,CAAC,GAAI,GAAI,IAgJrBrE,GA/ID,WACV,IAAM+M,EAAWlF,eACX+B,EAAaC,kBAAO,GAFV,EAGQ5L,mBAAkB,IAH1B,mBAGTtF,EAHS,KAGHmP,EAHG,KAIVxG,EAAUyG,qBAAWjB,IAJX,EAK+DgF,KAAxEC,EALS,EAKTA,iBAAkBC,EALT,EAKSA,oBAAqBC,EAL9B,EAK8BA,aAAcC,EAL5C,EAK4CA,gBAL5C,EAcZvI,GAAU,CACV1D,QAAS4M,GACT9O,aApBa,IAqBbqG,YAnBY,GAoBZC,wBAVA0B,EARY,EAQZA,cACAF,EATY,EASZA,YACAK,EAVY,EAUZA,qBACAC,EAXY,EAWZA,aACAV,EAZY,EAYZA,gBACAW,EAbY,EAaZA,gBAQEwE,EAAUrM,sBAAW,wBAAC,+BAAAkM,EAAA,+EAECuC,GAAU/E,KAA0B,CACrD1P,YAAa,CACT2G,OAAQuG,EAAgBS,EAAqBhH,QAC7CyD,KAAMuD,EAAqBxD,WAAWC,KACtCC,SAAUsD,EAAqBxD,WAAWE,SAC1CmC,KAAMmB,EAAqBrD,MAAMlF,KACjCsH,IAAKiB,EAAqBrD,MAAMC,aARpB,gBAEbnK,EAFa,EAEbA,KASHiR,EAAWkB,UACXhD,EAAQnP,EAAKA,MACbyN,EAAgBzN,EAAKwP,KAAKC,OACtB2D,GACAC,GAAoB,IAfR,mDAmBpBrB,QAAQtR,MAAR,OACI2T,GAAU1E,gBAAV,MApBgB,mDAuBpByE,EAASnF,gBACL,8BACA,CAACtQ,QAAS,UAzBM,yDA4BzB,CAACmO,EACAS,EAAqBrD,MAAMC,UAC3BoD,EAAqBrD,MAAMlF,KAC3BuI,EAAqBxD,WAAWC,KAChCuD,EAAqBxD,WAAWE,SAChCsD,EAAqBhH,OACrB6M,EACAC,EACA5F,EACA2G,IAgDJ,OA9CA3O,qBAAU,WAGN,OAFAwL,EAAWkB,SAAU,EACrBF,IACO,WACHhB,EAAWkB,SAAU,KAE1B,CAAC5E,EAAqBxD,WAAWC,KAChCuD,EAAqBxD,WAAWE,SAChCsD,EAAqBrD,MACrB+H,IAsCA,eAAC,IAAD,CAAkB1P,MAAOuG,GAAiBoL,GAAkBjT,OAAS,GAArE,UACI,cAAC,GAAD,CAAcwS,KAAML,EAAkBM,YArC9C,SAAoBY,GAChB,GAAKA,EAAL,CAIA,IAAMC,EAAMjB,EACPtT,KACAwI,KAAI,SAAAhD,GAAK,OAAIxF,EAAKwF,EAAMgP,OAAOzU,MAC/BgR,KAAK,KACVsD,GACKI,iBAAiB,CAACF,QAClBhF,MAAK,SAACmF,GAKH,GAJAN,EAASnF,gBACL,qBACA,CAACtQ,QAAS,YAGV2U,EAAatT,KAAKiB,SAAWiM,EAAYnD,WAAWE,UACjDiD,EAAYnD,WAAWC,KAAO,EACnC,CACE,IAAMA,EAAOkD,EAAYnD,WAAWC,KAAO,EAC3CoD,EAAcgD,WAAWpG,QAEzBiI,OAGPvC,OAAM,SAAChP,GACJsR,QAAQtR,MAAMA,GACd0T,EAASnF,gBACL,2BACA,CAACtQ,QAAS,kBA5BlB0U,GAAoB,MAoCpB,cAAC,GAAD,CACInV,MAAM,GACNoJ,QAAS4M,GACTlU,KAAMA,EACNqF,MAAO6H,EAAY7H,MACnBsD,QAASA,EACTf,oBAtHY,IAuHZzI,QAAS,CACL0Q,YAAY,EACZ/K,WAAYoI,EAAY3G,OACxByD,KAAMkD,EAAYnD,WAAWC,KAAO,EACpCyB,YAAayB,EAAYnD,WAAWE,SACpCyB,sBACAoE,MAAOtC,EACPuC,cAAe,kBACX,cAAC,GAAD,CACI5G,YAAa,kBAAMiE,EAAc4C,kBAGzCC,eAAgB,SAACzK,GAAD,OAAW4H,EAAc8C,aAAa1K,IACtD2K,aAAc,SAACnG,GAAD,OAAUoD,EAAcgD,WAAWpG,IACjDqG,oBAAqB,SAAC6C,GAAD,OAAa9F,EAAckD,kBAAkB4C,IAClE3C,mBAAoB,SAACtC,EAAuB9D,GAAxB,OAChBiD,EAAcoD,iBAAiBvC,EAAe9D,IAClDwK,aAAc,SAACC,EAAaC,GAExB,OADAtB,EAAgBqB,IACT,UC5MhBnE,GApBE,WACb,OACI,eAAC,EAAD,CAAMvS,MAAO,cAAb,UACI,cAACU,EAAA,EAAD,CAAK0N,IAAK,MAAOjJ,cAAe,EAAhC,SACI,cAACqN,EAAA,EAAD,CACIxS,MAAO,YACPC,MAAO,YACPwS,KAAM,QACNjS,UAAWmQ,IACXC,GAAI,gBALR,SAMC,cAAC,IAAD,QAGL,cAAClQ,EAAA,EAAD,UACI,cAAC,GAAD,U,uCChBVZ,GAAYC,aAAW,SAACsE,GAAD,MAAmB,CAC5CuS,OAAQ,CACJC,OAAQxS,EAAMyS,QAAQ,QASjBC,GAA8C,SAAC5W,GACpD,IAAMC,EAAUN,KACVkX,EAA2B,CAC7BvW,QAAS,YACTR,MAAO,YACPgX,WAAY9W,EAAM+W,gBAClB3W,UAAWH,EAAQwW,QAEvB,OACI,eAAClW,EAAA,EAAD,CAAK0N,IAAK,MAAV,UACI,cAAC2H,EAAA,EAAD,6BACQiB,GADR,IAEI9N,QAAS/I,EAAMgX,WAFnB,mBAIA,cAACpB,EAAA,EAAD,2BACI5B,KAAM,UACF6C,GAFR,gD,oBCpBVlX,GAAYC,aAAW,SAAAsE,GAAK,MAAK,CAC/B+S,SAAU,CACNC,QAAShT,EAAMyS,QAAQ,EAAG,QAKzBQ,GAA0C,SAACnX,GACpD,IAAMC,EAAUN,KACTyX,EAA+CpX,EAA/CoX,mBAAoBC,EAA2BrX,EAA3BqX,cAAkBC,EAFiB,aAERtX,EAFQ,wCAG9D,OACI,kDAASsX,GAAT,aACI,cAACC,GAAA,EAAD,2BAAMC,WAAS,GAAKJ,GAApB,aACI,cAACG,GAAA,EAAD,2BAAME,MAAI,GAAKJ,GAAf,IAA8BjX,UAAWH,EAAQgX,SAAjD,SACKjX,EAAMS,mBCTrBiX,GAAmBlK,OAAaC,MAAM,CACxC9G,KAAM6G,OAEDvH,MAAM,QACN0R,WACAC,IAAI,IACJ3R,MAAM,UAGF4R,GAAO,WAAO,IAChBnW,EAAMoW,eAANpW,GACAkP,EAAmBC,eAAnBD,gBACDtG,EAAUyG,qBAAWjB,IACrBlD,EAAUC,eAJM,EAqBlBkL,aAAuB,CACvBC,cAAe,CAACrR,KAAM,GAAIsR,YAAa,GAAIC,WAAW,GACtDC,SAAUC,aAAYV,MAVtBW,EAbkB,EAalBA,aACAC,EAdkB,EAclBA,UACAC,EAfkB,EAelBA,QACAvR,EAhBkB,EAgBlBA,MACAwR,EAjBkB,EAiBlBA,MACAC,EAlBkB,EAkBlBA,SACAC,EAnBkB,EAmBlBA,QACYC,EApBM,EAoBlBC,UAAYD,OAkBhB,SAASE,EAASC,EAAezQ,IACT3G,EAAKsP,EAAa+H,OAAOrX,EAAIoX,GAAY9H,EAAa/N,OAAO6V,IACrE5H,MAAK,YAAa,IAAXvP,EAAU,EAAVA,KACfiP,EAAgB,2BAA4B,CAACtQ,QAAS,YACtD+H,EACQ3G,EAAKkL,EAAQyC,QAAR,sBAA+B1N,EAAKA,KAAKD,GAAzC,UAAsDkL,EAAQ8C,KAAR,sBAA4B/N,EAAKA,KAAKD,GAAtC,UAE/DkL,EAAQ8C,KAAK,kBAClB2B,OAAM,SAAChP,GACNuO,EAAgBvO,EAAM2W,QAAS,CAAC1Y,QAAS,eAIjD,OAzBA8G,qBAAU,WACD1F,GAGLsP,EAAavP,IAAIC,GAAIwP,MAAK,YAAa,IAAXvP,EAAU,EAAVA,KACxBqF,EAAMrF,EAAKA,SACZ0P,OAAM,WACLzE,EAAQ8C,KAAK,eACbkB,EAAgB,qBAAsB,CAACtQ,QAAS,eAErD,CAACoB,EAAIsF,EAAO4J,EAAiBhE,IAgB5B,eAAC,GAAD,CAAayK,cAAe,CAAC4B,GAAI,GAAIC,GAAI,GAAIL,SAAUR,EAAaQ,GAApE,UACI,cAAC,KAAD,CAAYN,QAASA,EAASY,OAAQ,gBAASnZ,EAAT,EAAEoZ,MAAF,OAClC,cAACvR,GAAA,EAAD,6BACQ7H,GADR,IAEIgU,KAAM,OACN/N,MAAO,OACPyC,WAAS,EACTpI,QAAS,WACToW,OAAQ,SACRI,SAAUxM,EACVjI,QAASsW,EAAOhS,KAChB0S,WAAYV,EAAOhS,MAAQgS,EAAOhS,KAAKqS,QACvCM,gBAAiB,CAACC,QAAQ,OAE/B5S,KAAM,SAET,cAAC,KAAD,CAAY4R,QAASA,EAASY,OAAQ,gBAASnZ,EAAT,EAAEoZ,MAAF,OAClC,cAACvR,GAAA,EAAD,6BACQ7H,GADR,IAEI2G,KAAM,cACNV,MAAO,cACP3F,QAAS,WACT6G,MAAOnH,EAAMmH,OAAS,GACtB2P,SAAUxM,EACVkP,WAAS,EACT9Q,WAAS,EACT+Q,KAAM,EACNH,gBAAiB,CAACC,QAAQ,OAE/B5S,KAAM,gBAET,cAAC,KAAD,CACIA,KAAK,YACL4R,QAASA,EACTY,OAAQ,gBAASnZ,EAAT,EAAEoZ,MAAF,OACJ,cAACM,GAAA,EAAD,CACInB,QACI,cAACoB,GAAA,EAAD,6BACQ3Z,GADR,IAEI4Z,QAASpB,EAAM,aACf1B,SAAUxM,EACV/B,SAAU,SAACsR,GACPpB,EAAS,aAAcH,IAAS,eAK5CrS,MAAM,eAIlB,cAAC,GAAD,CAAe8Q,gBAAiBzM,EAAS0M,WAAU,wBAAE,uBAAAvD,EAAA,sEAC3CiF,IAD2C,OAE5CC,EAAOhS,MACRkS,EAASP,IAAa,MAHuB,iDChHlDwB,GATE,WAAO,IACbpY,EAAMoW,eAANpW,GACP,OACI,cAAC,EAAD,CAAM7B,MAAO6B,EAAK,gBAAkB,kBAApC,SACI,cAAC,GAAD,OCICmW,GAAO,WAAO,IAChBnW,EAAMoW,eAANpW,GACAkP,EAAmBC,eAAnBD,gBAFe,EAGQ3J,oBAAS,GAHjB,mBAGfqD,EAHe,KAGNqI,EAHM,OAI0B1L,mBAAS,IAJnC,mBAIf8S,EAJe,KAIGC,EAJH,OAKc/S,mBAAqB,IALnC,mBAKf6L,EALe,KAKHmH,EALG,KAMhBrN,EAAUC,eAQV6K,EAAmBlK,OAAaC,MAAM,CACxC9G,KAAM6G,OAEDvH,MAAM,QACN0R,WACAC,IAAI,IACJ3R,MAAM,QACXiU,cAAe1M,OAAYmK,aArBT,EAiClBI,aAAuB,CACvBC,cAAe,CAACrR,KAAM,GAAIuR,WAAW,EAAMgC,cAAe,IAC1D/B,SAAUC,aAAYV,KAVtBW,EAzBkB,EAyBlBA,aACAC,EA1BkB,EA0BlBA,UACAC,EA3BkB,EA2BlBA,QACAvR,EA5BkB,EA4BlBA,MACA0R,EA7BkB,EA6BlBA,QACAF,EA9BkB,EA8BlBA,MACAC,EA/BkB,EA+BlBA,SACYE,EAhCM,EAgClBC,UAAYD,OAmChB,SAASE,EAASC,EAAezQ,GAC7BsK,GAAW,IACSjR,EAAKmS,GAAUkF,OAAOrX,EAAIoX,GAAYjF,GAAU5Q,OAAO6V,IAC/D5H,MAAK,YAAa,IAAXvP,EAAU,EAAVA,KACfgR,GAAW,GACX/B,EAAgB,wBAAyB,CAACtQ,QAAS,YACnD+H,EACQ3G,EAAKkL,EAAQyC,QAAR,kBAA2B1N,EAAKA,KAAKD,GAArC,UAAkDkL,EAAQ8C,KAAR,kBAAwB/N,EAAKA,KAAKD,GAAlC,UAE3DkL,EAAQ8C,KAAK,cAClB2B,OAAM,SAAChP,GACNsQ,GAAW,GACX/B,EAAgBvO,EAAM2W,QAAS,CAAC1Y,QAAS,aAxCjD8G,qBAAU,WACN4J,EAAaC,KAA6B,CAAC1P,YAAa,CAACmS,IAAK,MAAMxC,MAAK,YAAa,IAAXvP,EAAU,EAAVA,KACvEsY,EAActY,EAAKA,SACpB0P,OAAM,WACLzE,EAAQ8C,KAAK,WACbkB,EAAgB,sCAAuC,CAACtQ,QAAS,eAEtE,CAACsQ,EAAiBhE,IAErBxF,qBAAU,WACD1F,IAGLiR,GAAW,GACXkB,GAAUpS,IAAIC,GAAIwP,MAAK,YAAa,IAAXvP,EAAU,EAAVA,KACrBgR,GAAW,GACX,IAAIwH,EAASxY,EAAKA,KAAKmR,WAAW3I,KAAI,SAACiQ,GAAD,OAAkBA,EAAQ1Y,MAC5D2Y,EAAa,CAAC1T,KAAMhF,EAAKA,KAAKgF,KAAMuR,UAAWvW,EAAKA,KAAKuW,UAAWgC,cAAeC,GACvFH,EAAoBG,GACpBnT,EAAMqT,MAEPhJ,OAAM,SAACiJ,GACN3H,GAAW,GACX/F,EAAQ8C,KAAK,WACbkB,EAAgB,kBAAmB,CAACtQ,QAAS,gBAElD,CAACsQ,EAAiBhE,EAASlL,EAAIsF,EAAOyR,IAkBzC,IAAM8B,EAAoB,SAAClS,GACvBA,EAAMmS,UACNR,EAAoB3R,EAAMI,OAAOtB,OACjCsR,EAAS,gBAAiBpQ,EAAMI,OAAOtB,QAG3C,OACI,uBAAM0R,SAAUR,EAAaQ,GAA7B,UACI,cAAC,KAAD,CAAYN,QAASA,EAASY,OAAQ,gBAASnZ,EAAT,EAAEoZ,MAAF,OAClC,cAACvR,GAAA,EAAD,6BACQ7H,GADR,IAEIgU,KAAM,OACN/N,MAAO,OACPyC,WAAS,EACTpI,QAAS,WACToW,OAAQ,SACRI,SAAUxM,EACVjI,QAASsW,EAAOhS,KAChB0S,WAAYV,EAAOhS,MAAQgS,EAAOhS,KAAKqS,QACvCM,gBAAiB,CAACC,QAAQ,OAE/B5S,KAAM,SAET,cAAC,KAAD,CAAY4R,QAASA,EAASY,OAAQ,gBAASnZ,EAAT,EAAEoZ,MAAF,OAClC,eAACvR,GAAA,EAAD,6BACQ7H,GADR,IAEIya,QAAM,EACN/R,WAAS,EACTzC,MAAO,aACP3F,QAAQ,WACRoa,YAAa,CACTC,aAAc,GACdC,UAAU,EACVzT,MAAO4S,EACPxR,SAAUgS,GAVlB,UAaI,cAACM,EAAA,EAAD,CAAU1T,MAAM,QAAQ2P,UAAQ,EAAhC,SACI,mDAGAhE,EAAW3I,KAAI,SAACsI,EAAenK,GAC3B,OAAO,cAACuS,EAAA,EAAD,CAAoB1T,MAAOsL,EAAS/Q,GAApC,SAAyC+Q,EAAS9L,MAAnC2B,WAInC3B,KAAM,kBAGT,cAAC,KAAD,CACIA,KAAK,YACL4R,QAASA,EACTY,OAAQ,gBAASnZ,EAAT,EAAEoZ,MAAF,OACJ,cAACM,GAAA,EAAD,CACInB,QACI,cAACoB,GAAA,EAAD,6BACQ3Z,GADR,IAEI4Z,QAASpB,EAAM,aACf1B,SAAUxM,EACV/B,SAAU,SAACsR,GACPpB,EAAS,aAAcH,IAAS,eAK5CrS,MAAM,eAKlB,cAAC,GAAD,CAAe8Q,gBAAiBzM,EAAS0M,WAAU,wBAAE,uBAAAvD,EAAA,sEAC3CiF,IAD2C,OAE5CC,EAAOhS,MAASgS,EAAOuB,eACxBrB,EAASP,IAAa,MAHuB,iDCvJlDwB,GATE,WAAO,IACbpY,EAAMoW,eAANpW,GACP,OACI,cAAC,EAAD,CAAM7B,MAAO6B,EAAK,aAAe,eAAjC,SACI,cAAC,GAAD,O,0FCRR/B,GAAYC,YAAW,CACvB6E,KAAM,CACFwF,MAAO,OACP6Q,OAAQ,OACRnK,SAAU,QACV7Q,MAAO,OACPib,aAAc,OACd5U,QAAS,OACThB,WAAY,SACZ6V,eAAgB,YAIlBC,GAAmB,CACrB,EAAK,UACL,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,WAuBKC,GAfuB,SAAClb,GACnC,IAAMC,EAAUN,KAChB,OACI,cAACQ,EAAA,EAAD,CACIC,UAAWH,EAAQwE,KACnB0W,MAAO,CACHxW,gBAAiBsW,GAAiBjb,EAAMob,SAHhD,SAMKpb,EAAMob,UCxBbC,GAAmC,CACrC,CAAClU,MAAO,IAAKoR,QAAS,cAAC+C,GAAA,EAAD,CAAOxb,MAAM,YAAamG,MAAO,cAAC,GAAD,CAAQmV,OAAQ,MAAQG,eAAgB,OAC/F,CAACpU,MAAO,KAAMoR,QAAS,cAAC+C,GAAA,EAAD,CAAOxb,MAAM,YAAamG,MAAO,cAAC,GAAD,CAAQmV,OAAQ,OAASG,eAAgB,OACjG,CAACpU,MAAO,KAAMoR,QAAS,cAAC+C,GAAA,EAAD,CAAOxb,MAAM,YAAamG,MAAO,cAAC,GAAD,CAAQmV,OAAQ,OAASG,eAAgB,OACjG,CAACpU,MAAO,KAAMoR,QAAS,cAAC+C,GAAA,EAAD,CAAOxb,MAAM,YAAamG,MAAO,cAAC,GAAD,CAAQmV,OAAQ,OAASG,eAAgB,OACjG,CAACpU,MAAO,KAAMoR,QAAS,cAAC+C,GAAA,EAAD,CAAOxb,MAAM,YAAamG,MAAO,cAAC,GAAD,CAAQmV,OAAQ,OAASG,eAAgB,OACjG,CAACpU,MAAO,KAAMoR,QAAS,cAAC+C,GAAA,EAAD,CAAOxb,MAAM,YAAamG,MAAO,cAAC,GAAD,CAAQmV,OAAQ,OAASG,eAAgB,QAmCtFC,GAhCiC,SAACxb,GAAW,IACjDmH,EAAoCnH,EAApCmH,MAAOsR,EAA6BzY,EAA7ByY,SAAUpW,EAAmBrC,EAAnBqC,MAAOyU,EAAY9W,EAAZ8W,SAC/B,OACI,eAAC2E,GAAA,EAAD,2BACIpZ,WAAiBsL,IAAVtL,EACPyU,UAAuB,IAAbA,GACN9W,EAAM0b,kBAHd,cAKI,cAACC,GAAA,EAAD,CAAWtb,UAAU,SAArB,4BACA,cAACE,EAAA,EAAD,CAAKC,WAAY,EAAjB,SACI,cAACob,GAAA,EAAD,CACIjV,KAAK,SACL4B,SAAU,SAACsR,GACPpB,EAASoB,EAAEpR,OAAOtB,QAEtBA,MAAOA,EACP0U,KAAG,EANP,SASQR,GAAQlR,KACJ,SAACnK,EAAOsI,GAAR,OAAgB,cAACoR,GAAA,EAAD,gBAAgC1Z,GAATsI,UAMnDjG,GAAS,cAACyZ,GAAA,EAAD,UAAiBzZ,EAAM2W,e,+BCmBjC+C,GApDGC,cAAqD,SAAChc,EAAOic,GAC3E,IAAMC,EAAUrJ,mBADmE,EAEnD5L,mBAAS,IAF0C,mBAE5EkV,EAF4E,KAElEC,EAFkE,KAI7EC,EAA8B,2BAChC/b,QAAS,YACNN,EAAMsc,gBAFuB,IAGhCvU,WAAW,6BAEH/H,EAAMsc,gBAAkBtc,EAAMsc,eAAevU,YAA7C,gBACI/H,EAAMsc,eAAevU,aAHvB,IAKNwU,UAAU,EACVC,aACI,cAACC,GAAA,EAAD,CAAgBC,SAAU,MAA1B,SACK1c,EAAM2c,eAInBxV,MAAOgV,IAGLS,EAAc,6BACb5c,EAAM6c,gBADO,IAEhBC,QAAQ,EACRb,IAAKC,EACL3T,SAJgB,SAIPF,GACL,IAAM0U,EAAQ1U,EAAMI,OAAOsU,MACvBA,EAAMna,QACNwZ,EACIY,MAAMC,KAAKF,GAAO5S,KAAI,SAAC+S,GAAD,OAAeA,EAAKvW,QAAM+L,KAAK,OAGzD1S,EAAM6c,gBAAkB7c,EAAM6c,eAAetU,UAC7CvI,EAAM6c,eAAetU,SAASF,MAU1C,OALA8U,8BAAoBlB,GAAK,iBAAO,CAC5BmB,WAAY,kBAAMlB,EAAQpI,QAAQuJ,SAClCC,MAAO,kBAAMlB,EAAY,SAIzB,qCACI,oCAAOpI,KAAK,QAAW4I,IACvB,cAAC/U,GAAA,EAAD,gBAAewU,UCOZkB,GAnDKvB,cAAyD,SAAChc,EAAOic,GACjF,IAAMC,EAAUrJ,mBAEZ2K,EAKAxd,EALAwd,OACAvX,EAIAjG,EAJAiG,MACAwS,EAGAzY,EAHAyY,SACApW,EAEArC,EAFAqC,MACAyU,EACA9W,EADA8W,SAOJ,OAJAqG,8BAAoBlB,GAAK,iBAAO,CAC5BqB,MAAO,kBAAMpB,EAAQpI,QAAQwJ,aAI7B,cAAC7B,GAAA,EAAD,2BACIpZ,WAAiBsL,IAAVtL,EACPyU,UAAuB,IAAbA,EACVpO,WAAS,EACTgO,OAAQ,UACJ1W,EAAM0b,kBALd,aAOI,cAAC,GAAD,CACIO,IAAKC,EACLI,eAAgB,CACZrW,MAAOA,EACPqT,gBAAiB,CAACC,QAAQ,GAC1B4B,MAAO,CAACxW,gBAAiB,YAE7BkY,eAAgB,CACZW,SACAjV,SAFY,SAEHF,GACL,IAAM0U,EAAQ1U,EAAMI,OAAOsU,MAC3BA,EAAMna,QAAU6V,EAASsE,EAAM,MAGvCJ,WACI,cAAC/G,EAAA,EAAD,CACI6H,QAAS,cAAC,KAAD,IACTnd,QAAS,YACTR,MAAO,UACPiJ,QAAS,kBAAMmT,EAAQpI,QAAQsJ,cAJnC,yB,qBCwDLM,GA9FW1B,cAAqE,SAAChc,EAAOic,GAAS,IAErG0B,EAAuD3d,EAAvD2d,kBAFoG,EAE7C3d,EAApC+G,oBAFiF,MAElE,IAFkE,EAE7D6W,EAAgB5d,EAAhB4d,aAF6D,EAGhDD,EAHgD,IAGpGE,gBAHoG,SAGlFC,EAHkF,EAGlFA,OAAQvI,EAH0E,EAG1EA,QAASwI,EAHiE,EAGjEA,cAHiE,EAInF9W,oBAAS,GAJ0E,mBAIpGmO,EAJoG,KAI9F4I,EAJ8F,OAKvE/W,mBAAS,IAL8D,mBAKpGR,EALoG,KAKxFwX,EALwF,OAM7EhP,aAAYxI,EAAYM,GAA/CmX,EANoG,sBAO7EjX,oBAAS,GAPoE,mBAOpGqD,EAPoG,KAO3FqI,EAP2F,OAQ7E1L,mBAAS,IARoE,mBAQpGnG,EARoG,KAQ3Fqd,EAR2F,KAUrG9B,EAA8B,cAChC3F,OAAQ,SACRpW,QAAS,WACToI,WAAW,EACX4Q,gBAAiB,CAACC,QAAQ,IACtBvZ,EAAMsc,gBAAN,gBAA4Btc,EAAMsc,iBAGpC8B,EAAwD,2BAC1DC,YAAa,aACbC,cAAe,kBACXX,GAAiB,gBAAQA,IAH6B,IAI1DvI,OACAtU,UACAwJ,QAASA,EACTiU,WAAY9X,EACZqX,OAR0D,WAStDE,GAAQ,GACRF,GAAUA,KAEdvI,QAZ0D,WAatDyI,GAAQ,GACRzI,GAAWA,KAEfwI,cAhB0D,SAgB5C1V,EAAYlB,GACtB8W,EAAc9W,GACd4W,GAAiBA,KAErBS,YAAa,SAAChd,GACV,OAAO,cAACqG,GAAA,EAAD,0CACCrG,GACA6a,GAFD,IAGHtU,WAAU,6BACHvG,EAAOuG,YADJ,IAENyU,aACI,qCACKlS,GAAW,cAACmU,GAAA,EAAD,CAAkB3e,MAAO,UAAWwS,KAAM,KACrD9Q,EAAOuG,WAAWyU,wBA0C3C,OAlCAW,8BAAoBlB,GAAK,iBAAO,CAC5BqB,MAAO,WACHW,EAAc,IACdE,EAAW,SAInB/W,qBAAU,WACDgO,GAASyI,GACVM,EAAW,MAEhB,CAAC/I,EAAMyI,IAEVzW,qBAAU,WACN,GAAMgO,GAAgC,KAAxB8I,IAA+BL,EAA7C,CAGA,IAAIrK,GAAe,EAYnB,OAXA,wBAAC,6BAAAC,EAAA,6DACGd,GAAW,GADd,kBAG0BiL,EAAaM,GAHvC,OAGavc,EAHb,OAIW6R,GACA2K,EAAWxc,GALtB,uBAQOgR,GAAW,GARlB,sEAAD,GAWO,WACHa,GAAe,MAEpB,CAACqK,EAAUK,EAAqB9I,EAAMwI,IAGrC,cAACc,GAAA,EAAD,gBAAkBN,O,UCzGpBze,GAAYC,aAAW,SAACsE,GAAD,OACzBya,aAAa,CACTla,KAAM,CACFE,gBAAiB,UACjBoW,aAAc,MACd7D,QAAShT,EAAMyS,QAAQ,EAAG,GAC1B7W,MAAOoE,EAAMZ,QAAQI,UAAUF,WAgB5Bob,GAP0C,SAAC5e,GACtD,IAAMC,EAAUN,KAChB,OAAO,cAAC4X,GAAA,EAAD,2BAAMC,WAAS,EAACqH,KAAM,OAAQze,UAAWH,EAAQwE,MAAUzE,GAA3D,aACNA,EAAMS,a,qBCIIqe,GAhBkD,SAAC9e,GAAW,IAClE+e,EAAgC/e,EAAhC+e,SAAUte,EAAsBT,EAAtBS,SAAa6W,EAD0C,aACjCtX,EADiC,yBAExE,OAAO,cAACuX,GAAA,EAAD,2BAAME,MAAI,GAAKH,GAAf,aACH,eAACC,GAAA,EAAD,CAAMC,WAAS,EAACrS,WAAY,SAAUwR,QAAS,EAA/C,UACI,cAACY,GAAA,EAAD,CAAME,MAAI,EAACwB,GAAI,EAAf,SACI,cAACnQ,EAAA,EAAD,CAAYwJ,KAAM,QAASxS,MAAO,UAAWiJ,QAASgW,EAAtD,SACI,cAAC,KAAD,QAGR,cAACxH,GAAA,EAAD,CAAME,MAAI,EAACwB,GAAI,GAAIC,GAAI,GAAvB,SACKzY,WCGFue,GAnBQ,WAAO,IACnBpO,EAAmBC,eAAnBD,gBACP,OAAOrJ,sBAAW,yCAAC,WAAO0X,GAAP,kBAAAxL,EAAA,+EAEUwL,EAFV,uBAEJtd,EAFI,EAEJA,KAFI,kBAGJA,GAHI,sCAKXgS,QAAQtR,MAAR,MACKpB,IAAMqB,SAAN,OACDsO,EACI,0BACA,CAACtQ,QAAS,UATP,8DAAD,sDAcf,CAACsQ,KCUOsO,GA5Bc,SAACC,EAAmBC,GAC7C,IAAMrJ,EAAWlF,eACjB,MAAO,CACHwO,QADG,SACK5H,GACCA,GAAiB,KAATA,IAGE0H,EAAWG,MAAK,SAAAC,GAAC,OAAIA,EAAE7d,KAAO+V,EAAK/V,MAE9CqU,EAASnF,gBACL,mBAAoB,CAACtQ,QAAS,UAItC6e,EAAWK,QAAQ/H,GACnB2H,EAAcD,MAElBM,WAfG,SAeQhI,GACP,IAAMtB,EAAQgJ,EAAWjM,WAAU,SAAAqM,GAAC,OAAIA,EAAE7d,KAAO+V,EAAK/V,OACvC,IAAXyU,IAGJgJ,EAAWO,OAAOvJ,EAAO,GACzBiJ,EAAcD,OCtBnB,SAASQ,GAAsBC,EAAiBnN,GACnD,OAAOmN,EAAOnd,QACV,SAAAod,GAAK,OAAsE,IAAlEA,EAAM/M,WAAWrQ,QAAO,SAAAqd,GAAG,OAAIA,EAAIpe,KAAO+Q,EAAS/Q,MAAIkB,UCuBxE,IA0Femd,GA1FI/D,cAAuD,SAAChc,EAAOic,GAAS,IAEnF2D,EAMA5f,EANA4f,OACAI,EAKAhgB,EALAggB,UACAlN,EAIA9S,EAJA8S,WACAmH,EAGAja,EAHAia,cACA5X,EAEArC,EAFAqC,MACAyU,EACA9W,EADA8W,SAEEmJ,EAAmBjB,KAT6D,EAUxDE,GAAqBU,EAAQI,GAApDX,EAV+E,EAU/EA,QAASI,EAVsE,EAUtEA,WACGS,EAAkBhB,GAAqBpM,EAAYmH,GAA/DwF,WACDU,EAAkBtN,mBAClB3O,EAAQkF,eAERwU,EAAerW,uBAAY,SAACd,GAC9B,OAAOwZ,EACHpM,GACK5C,KAAK,CACF1P,YAAa,CACT2G,OAAQzB,EAAYiN,IAAK,OAGvCxC,MAAK,SAAAvP,GAAI,OAAIA,EAAKA,UACtB,CAACse,IAMH,OAJA9C,8BAAoBlB,GAAK,iBAAO,CAC5BqB,MAAO,kBAAM6C,EAAgBrM,QAAQwJ,aAIrC,qCACI,cAAC,GAAD,CACIM,aAAcA,EACd3B,IAAKkE,EACLxC,kBAAmB,CAEf7c,QAAS,GACTsf,eAAe,EACfvC,UAAU,EACVwC,eAAgB,SAAAC,GAAM,OAAIA,EAAO3Z,MACjC4Z,kBAAmB,SAACD,EAAQnZ,GAAT,OAAmBmZ,EAAO5e,KAAOyF,EAAMzF,IAC1D6G,SAAU,SAACF,EAAOlB,GAAR,OAAkBkY,EAAQlY,IACpC2P,YAEJwF,eAAgB,CACZrW,MAAO,SACP5D,WAAiBsL,IAAVtL,KAGf,cAACyZ,GAAA,EAAD,CAAgBX,MAAO,CAACL,OAAQ5W,EAAMyS,QAAQ,IAA9C,iCAGA,eAAC8E,GAAA,EAAD,2BACI/E,OAAQ,SACRhO,WAAS,EACTrG,WAAiBsL,IAAVtL,EACPyU,UAAuB,IAAbA,GACN9W,EAAM0b,kBALd,cAOI,cAAC,GAAD,UAEQkE,EAAOzV,KAAI,SAAC0V,EAAOvX,GAAR,OACP,cAAC,GAAD,CAEIyW,SAAU,WACyBjM,EAC1BrQ,QAAO,SAAAgQ,GACJ,IAAM+N,EAAqBb,GAAsBC,EAAQnN,GACzD,OAAqC,IAA9B+N,EAAmB5d,QAAgB4d,EAAmB,GAAG9e,KAAOme,EAAMne,MAE9DqI,SAAQ,SAAA+V,GAAG,OAAII,EAAeJ,MACrDL,EAAWI,IAEf5G,GAAI,GAXR,SAYI,cAAC9Y,EAAA,EAAD,CAAYsgB,QAAQ,EAApB,SACKZ,EAAMlZ,QAZN2B,QAmBjBjG,GAAS,cAACyZ,GAAA,EAAD,UAAiBzZ,EAAM2W,oB,UCvF9CrZ,GAAYC,aAAW,SAACsE,GAAD,MAAmB,CAC5Cwc,eAAgB,CACZ5gB,MAAO6gB,KAAK,KACZhQ,SAAU,cAwGHiQ,GAvFO5E,cAA6D,SAAChc,EAAOic,GAAS,IACzFnJ,EAAsD9S,EAAtD8S,WAAYmH,EAA0Cja,EAA1Cia,cAAe2F,EAA2B5f,EAA3B4f,OAAQvd,EAAmBrC,EAAnBqC,MAAOyU,EAAY9W,EAAZ8W,SAC3C7W,EAAUN,KACVsgB,EAAmBjB,KAHsE,EAIjEE,GAAqBpM,EAAYmH,GAAxDoF,EAJwF,EAIxFA,QAASI,EAJ+E,EAI/EA,WACVU,EAAkBtN,mBAClB3O,EAAQkF,eAERwU,EAAerW,uBAAY,SAACd,GAE9B,OAAOwZ,EACHjP,EACKC,KAAK,CACF1P,YAAa,CAETqe,OAAQA,EAAOzV,KAAI,SAAA0V,GAAK,OAAIA,EAAMne,MAAIgR,KAAK,KAC3CgB,IAAK,OAGnBxC,MAAK,SAAAvP,GAAI,OAAIA,EAAKA,UACrB,CAACse,EAAkBL,IAOtB,OALAzC,8BAAoBlB,GAAK,iBAAO,CAC5BqB,MAAO,kBAAM6C,EAAgBrM,QAAQwJ,aAKrC,qCACI,cAAC,GAAD,CACIM,aAAcA,EACd3B,IAAKkE,EACLxC,kBAAmB,CAEfkD,YAAY,EACZ/f,QAAS,GACTsf,eAAe,EACfC,eAAgB,SAAAC,GAAM,OAAIA,EAAO3Z,MACjC4Z,kBAAmB,SAACD,EAAQnZ,GAAT,OAAmBmZ,EAAO5e,KAAOyF,EAAMzF,IAC1D6G,SAAU,SAACF,EAAOlB,GAAR,OAAkBkY,EAAQlY,IACpC2P,UAAuB,IAAbA,IAAsB8I,EAAOhd,QAE3C0Z,eAAgB,CACZrW,MAAO,aACP5D,WAAiBsL,IAAVtL,KAGf,cAACyZ,GAAA,EAAD,CAAgBX,MAAO,CAACL,OAAQ5W,EAAMyS,QAAQ,IAA9C,wDAGA,eAAC8E,GAAA,EAAD,2BACI/E,OAAQ,SACRhO,WAAS,EACTrG,WAAiBsL,IAAVtL,EACPyU,UAAuB,IAAbA,GACN9W,EAAM0b,kBALd,cAOI,cAAC,GAAD,UAEQ5I,EAAW3I,KAAI,SAACsI,EAAUnK,GACtB,IAAMkY,EAAqBb,GAAsBC,EAAQnN,GACpDtI,KAAI,SAAA0V,GAAK,OAAIA,EAAMlZ,QACnB+L,KAAK,KACV,OACI,eAAC,GAAD,CAEIqM,SAAU,kBAAMU,EAAWhN,IAAWwG,GAAI,GAF9C,UAII,cAAC9Y,EAAA,EAAD,CAAYsgB,QAAQ,EAApB,SACKhO,EAAS9L,OAEd,eAACxG,EAAA,EAAD,CAAYsgB,QAAQ,EAAMrgB,UAAWH,EAAQygB,eAA7C,qBACaF,OAPRlY,QAerBjG,GAAS,cAACyZ,GAAA,EAAD,UAAiBzZ,EAAM2W,oBCxBrC8H,GA7ES9E,cAAiE,SAAChc,EAAOic,GAAS,IAElG8E,EAIA/gB,EAJA+gB,YACAC,EAGAhhB,EAHAghB,eACA3e,EAEArC,EAFAqC,MACAyU,EACA9W,EADA8W,SAEEmJ,EAAmBjB,KAP4E,EAQvEE,GAAqB6B,EAAaC,GAAzD3B,EAR8F,EAQ9FA,QAASI,EARqF,EAQrFA,WACVU,EAAkBtN,mBAElB+K,EAAerW,uBAAY,SAACd,GAC9B,OAAOwZ,EACHgB,GACKhQ,KAAK,CACF1P,YAAa,CACT2G,OAAQzB,EAAYiN,IAAK,OAGvCxC,MAAK,SAAAvP,GAAI,OAAIA,EAAKA,UACrB,CAACse,IAMJ,OAJA9C,8BAAoBlB,GAAK,iBAAO,CAC5BqB,MAAO,kBAAM6C,EAAgBrM,QAAQwJ,aAIrC,qCACI,cAAC,GAAD,CACIrB,IAAKkE,EACLvC,aAAcA,EACdD,kBAAmB,CAEf7c,QAAS,GACTsf,eAAe,EACfvC,UAAU,EACVwC,eAAgB,SAAAC,GAAM,OAAIA,EAAO3Z,MACjC4Z,kBAAmB,SAACD,EAAQnZ,GAAT,OAAmBmZ,EAAO5e,KAAOyF,EAAMzF,IAC1D6G,SAAU,SAACF,EAAOlB,GAAR,OAAkBkY,EAAQlY,IACpC2P,YAEJwF,eAAgB,CACZrW,MAAO,SACP5D,WAAiBsL,IAAVtL,KAGf,eAACoZ,GAAA,EAAD,2BACI/E,OAAQ,SACRhO,WAAS,EACTrG,WAAiBsL,IAAVtL,EACPyU,UAAuB,IAAbA,GACN9W,EAAM0b,kBALd,cAOI,cAAC,GAAD,UAEQqF,EAAY5W,KAAI,SAAC+W,EAAY5Y,GAAb,OACZ,cAAC,GAAD,CAEIyW,SAAU,WACNU,EAAWyB,IAEfjI,GAAI,EALR,SAMI,cAAC9Y,EAAA,EAAD,CAAYsgB,QAAQ,EAApB,SACKS,EAAWva,QANX2B,QAajBjG,GAAS,cAACyZ,GAAA,EAAD,UAAiBzZ,EAAM2W,oBC7ErCmI,GAbc,SAACC,EAAkBzI,GAAiB,IACtD/H,EAAmBC,eAAnBD,gBACPxJ,qBAAU,WACN,IAAMia,EAA0C,IAA/B9e,OAAO+e,KAAK3I,GAAQ/V,OACjCwe,EAAc,GAAKC,GACnBzQ,EACI,sCACA,CAACtQ,QAAS,YAGnB,CAAC8gB,EAAazI,EAAQ/H,K,qKCPtB,SAAS2Q,GAAWC,GACvB,OAAwB,IAAjBA,EAAIC,UAAkBJ,GAASG,GAGnC,SAASH,GAASG,GACrB,OAAIE,GAAaF,GACEA,EACDzE,MAAM4E,MAAK,SAAAzE,GAAI,OAAIA,EAAK7a,cAGhBsL,IADT6T,EACDnf,MAIb,SAASqf,GAAaF,GACzB,MAAO,UAAWA,ECftB,I,GAAM7hB,GAAYC,YAAW,CACzBgiB,kBAAmB,CACflF,SAAU,YAEd+E,SAAU,CACN/E,SAAU,WACVmF,KAAM,GAEVC,mBAAoB,CAChBhiB,MAAO6gB,KAAK,QAiCLoB,GAxBuC,SAAC/hB,GAAW,IACvDgiB,EAAsBhiB,EAAtBgiB,aAAc1P,EAAQtS,EAARsS,KACfrS,EAAUN,KACV0C,EAAQgf,GAASW,GACvB,OACI,cAACC,GAAA,EAAD,CAAMta,GAAIqa,EAAaP,SAAW,EAAG7Z,QAAS,CAACsa,MAAO,IAAKC,KAAM,KAAjE,SACI,sBAAK/hB,UAAWH,EAAQ2hB,kBAAxB,UACI,cAACnD,GAAA,EAAD,CACIne,QAAQ,cACR6G,MAAO,IACP/G,UAAWH,EAAQ6hB,mBACnBxP,KAAMA,IAEV,cAACmM,GAAA,EAAD,CACIre,UAAWH,EAAQwhB,SACnBnhB,QAAQ,cACR6G,MAAO9E,EAAQ,EAA4B,IAAxB2f,EAAaP,SAChCnP,KAAMA,U,sFCrCOtH,yBAWhC,CACGoX,UAAW,CAAC,WACZC,aAAc,CAAC,WACfC,eAAgB,CAAC,WACjBC,eAAgB,CAAC,aAfPhX,G,GAAAA,MAAOC,G,GAAAA,SAkBRC,GAAqC,CAC9C+W,QAAS,IAUEzW,GAPCC,yBAAoDP,IAAvC,qBACxBF,GAAMkX,YAQX,WAAiG,IAA9EvW,EAA6E,uDAArET,GAAeU,EAAsD,uCAC5F,IAAKA,EAAOC,QAAQ2Q,MAAMna,OACtB,OAAOsJ,EAGX,IAAMiK,EAAQuM,GAAgBxW,EAAOC,EAAOC,QAAQuW,MAAMjhB,IAE1D,IAAe,IAAXyU,GAAgBjK,EAAMsW,QAAQrM,GAAOsL,SAAW,EAChD,OAAOvV,EAGX,IAAMsW,GAAqB,IAAXrM,EACVjK,EAAMsW,QACNzJ,KAAO7M,EAAMsW,QAAS,CACpBI,QAAS,CAAC,CAACzM,EAAO,MAG1B,MAAO,CACHqM,QAAQ,GAAD,oBACAA,GADA,CAEH,CACIG,MAAOxW,EAAOC,QAAQuW,MACtBlB,SAAU,EACV1E,MAAO5Q,EAAOC,QAAQ2Q,MAAM5S,KAAI,SAAA+S,GAAI,MAAK,CACrC2F,UAAW3F,EAAK2F,UAChB1G,SAAUe,EAAKA,KAAKvW,KACpB8a,SAAU,aAnCD,eAExBlW,GAAMuX,eAwCX,WAA4H,IAAtG5W,EAAqG,uDAAxET,GAAeU,EAAyD,uCACjHqW,EAAUtW,EAAMsW,QAAQ/f,QAAO,SAAAsgB,GAAM,OAAIA,EAAOJ,MAAMjhB,KAAOyK,EAAOC,QAAQ1K,MAElF,GAAI8gB,EAAQ5f,SAAWsJ,EAAMsW,QAAQ5f,OACjC,OAAOsJ,EAGX,MAAO,CACHsW,cAlDqB,eAGxBjX,GAAMyX,iBAmDX,WAAgI,IAAxG9W,EAAuG,uDAA1ET,GAAeU,EAA2D,uCAErH8W,EAAU9W,EAAOC,QAAQuW,MAAMjhB,GAC/BmhB,EAAY1W,EAAOC,QAAQyW,UAH0F,EAI1FK,GAAuBhX,EAAO+W,EAASJ,GAAjEM,EAJoH,EAIpHA,YAAaC,EAJuG,EAIvGA,UAEpB,GAA2B,qBAAhBD,EACP,OAAOjX,EAGX,IAAM6W,EAAS7W,EAAMsW,QAAQW,GACvBjG,EAAO6F,EAAOhG,MAAMqG,GAE1B,GAAIlG,EAAKuE,WAAatV,EAAOC,QAAQqV,SACjC,OAAOvV,EAGX,IAAMsW,EAAUzJ,KAAO7M,EAAMsW,QAAP,eACjBW,EAAc,CACXE,OADW,SACJN,GACH,IAAMhG,EAAQhE,KAAOgK,EAAOhG,MAAR,eACfqG,EAAY,CACTE,KAAK,6BAAKpG,GAAN,IAAYuE,SAAUtV,EAAOC,QAAQqV,cAG3CA,EAAW8B,GAAwBxG,GACzC,OAAO,6BAAIgG,GAAX,IAAmBtB,WAAU1E,cAKzC,MAAO,CAACyF,cArFiB,eAIxBjX,GAAMiY,kBAoFX,WAAgI,IAAxGtX,EAAuG,uDAA1ET,GAAeU,EAA2D,uCAErH8W,EAAU9W,EAAOC,QAAQuW,MAAMjhB,GAC/BmhB,EAAY1W,EAAOC,QAAQyW,UAH0F,EAI1FK,GAAuBhX,EAAO+W,EAASJ,GAAjEM,EAJoH,EAIpHA,YAAaC,EAJuG,EAIvGA,UAEpB,GAA2B,qBAAhBD,EACP,OAAOjX,EAGX,IAAM6W,EAAS7W,EAAMsW,QAAQW,GACvBjG,EAAO6F,EAAOhG,MAAMqG,GAEpBZ,EAAUzJ,KAAO7M,EAAMsW,QAAP,eACjBW,EAAc,CACXpG,MAAM,eACDqG,EAAY,CACTE,KAAK,6BAAKpG,GAAN,IAAY7a,MAAO8J,EAAOC,QAAQ/J,MAAOof,SAAU,SAMvE,MAAO,CAACe,cA/GiB,KAkH7B,SAASU,GAAuBhX,EAA4B+W,EAAaJ,GACrE,IAAMM,EAAcT,GAAgBxW,EAAO+W,GAC3C,IAAqB,IAAjBE,EACA,MAAO,GAGX,IACMC,EAkBV,SAAuBrG,EAAiC8F,GACpD,OAAO9F,EAAM7J,WAAU,SAAAgK,GAAI,OAAIA,EAAK2F,YAAcA,KAnBhCY,CADHvX,EAAMsW,QAAQW,GACUpG,MAAO8F,GAC9C,OAAsB,IAAfO,EAAmB,GAAK,CAACD,cAAaC,aAIjD,SAASG,GAAwBxG,GAC7B,IAAM2G,EAAa3G,EAAMna,OACzB,OAAK8gB,EAGe3G,EAAM4G,QAAO,SAACC,EAAK1G,GAAN,OAAe0G,EAAM1G,EAAKuE,WAAU,GAChDiC,EAHV,EAMf,SAAShB,GAAgBxW,EAA4BxK,GACjD,OAAOwK,EAAMsW,QAAQtP,WAAU,SAAC6P,GAAD,OAAYA,EAAOJ,MAAMjhB,KAAOA,KCtJnE,IAAM/B,GAAYC,aAAW,SAACsE,GAAD,MAAmB,CAC5C2f,YAAa,CACT/jB,MAAOoE,EAAMZ,QAAQU,QAAQR,MAEjCsgB,UAAW,CACPhkB,MAAOoE,EAAMZ,QAAQjB,MAAMmB,UAyDpBugB,GAhDmC,SAAC/jB,GAAW,IACnD+iB,EAAiB/iB,EAAjB+iB,OAAQiB,EAAShkB,EAATgkB,MACT/jB,EAAUN,KACVmP,EAAWmV,eACX5hB,EAAQgf,GAAS0B,GAJkC,EAKjC9b,oBAAS,GALwB,mBAKlDid,EALkD,KAK5CC,EAL4C,OAMjClV,aAAYiV,EAAM,MAAnCE,EANkD,oBAYzD,OAJAhd,qBAAU,WACN+c,EAAQ5C,GAAWwB,MACpB,CAACA,IAGAqB,EACO,cAACnC,GAAA,EAAD,CAAMta,GAAIuc,EAAMtc,QAAS,CAACsa,MAAO,KAAjC,SACK,eAACmC,GAAA,EAAD,WACJ,uBAAMvH,OAAQkH,EAAd,UAE4B,IAApBjB,EAAOtB,WAAmBpf,GACtB,cAACyG,EAAA,EAAD,CAAY1I,UAAWH,EAAQ4jB,YAAaS,KAAM,MAAlD,SACI,cAAC,KAAD,MAKRjiB,GACI,cAACyG,EAAA,EAAD,CAAY1I,UAAWH,EAAQ6jB,UAAWQ,KAAM,MAAhD,SACI,cAAC,KAAD,SAKR,sBAAMxH,QAASkH,EAAf,SACJ,cAAClb,EAAA,EAAD,CACIhJ,MAAO,UACPwkB,KAAM,MACNvb,QAAS,kBAAM+F,EAAStD,GAAS6W,aAAa,CAAC3gB,GAAIqhB,EAAOJ,MAAMjhB,OAHpE,SAKI,cAAC,KAAD,aAMV,MCrDR/B,GAAYC,aAAW,SAACsE,GAAD,MAAmB,CAC5CqgB,SAAU,CACN/jB,WAAY,MACZwE,cAAe,MACf8V,OAAQ,QAEZ0J,UAAW,CACP1kB,MAAOoE,EAAMZ,QAAQjB,MAAMmB,KAC3BihB,SAAU,QAEdC,aAAc,CACVC,WAAY,MACZne,YAAa,OACb1G,MAAOoE,EAAMZ,QAAQgD,KAAK5C,eAiDnBkhB,GAzC+B,SAAC5kB,GAAW,IAC/C+iB,EAAU/iB,EAAV+iB,OACD9iB,EAAUN,KACV0C,EAAQgf,GAAS0B,GAH8B,EAInB9b,oBAAS,GAJU,mBAI9C4d,EAJ8C,KAInCC,EAJmC,KAKrD,OACI,qCACI,cAACja,GAAA,EAAD,CACIka,sBAAoB,EACpBC,sBAAoB,EACpBnlB,MACIwC,EAAQ,mCAAqC,GAEjD4iB,UAAW,OANf,SAQI,eAACC,GAAA,EAAD,CACI9kB,UAAWH,EAAQskB,SACnBY,QAAM,EACNC,YAAa,kBAAMN,GAAa,IAChCO,aAAc,kBAAMP,GAAa,IAJrC,UAMI,cAACQ,GAAA,EAAD,CAAcllB,UAAWH,EAAQukB,UAAjC,SACI,cAAC,KAAD,MAEJ,cAACe,GAAA,EAAD,CACInlB,UAAWH,EAAQykB,aACnBnhB,QACI,cAACpD,EAAA,EAAD,CAAYsgB,QAAQ,EAAMngB,QAAS,YAAaR,MAAO,UAAvD,SACKijB,EAAOJ,MAAM9iB,UAI1B,cAAC,GAAD,CAAgByS,KAAM,GAAI0P,aAAce,IACxC,cAAC,GAAD,CAAcA,OAAQA,EAAQiB,MAAOa,SAG7C,cAACW,GAAA,EAAD,CAASnlB,UAAU,WCtDzBV,GAAYC,aAAW,SAACsE,GAAD,MAAmB,CAC5CuhB,KAAM,CACFxb,MAAO,KAEXyb,eAAgB,CACZxO,QAAS,mBACTvS,gBAAiBT,EAAMZ,QAAQC,QAAQC,MAE3C3D,MAAO,CACH8lB,WAAY,OACZ7lB,MAAOoE,EAAMZ,QAAQC,QAAQE,cAEjCmiB,MAAO,CACHjB,WAAY,kBACZ7kB,MAAOoE,EAAMZ,QAAQC,QAAQE,cAEjCoiB,OAAQ,CACJnY,UAAW,eACXoY,WAAY5hB,EAAM6hB,YAAY9iB,OAAO,YAAa,CAC9C+iB,SAAU9hB,EAAM6hB,YAAYC,SAASC,YAG7CC,WAAY,CACRxY,UAAW,iBACXoY,WAAY5hB,EAAM6hB,YAAY9iB,OAAO,YAAa,CAC9C+iB,SAAU9hB,EAAM6hB,YAAYC,SAASC,YAG7ChV,KAAM,CACFzQ,WAAY,EACZwE,cAAe,OAwDRmhB,GAhDQnK,cAA2C,SAAChc,EAAOic,GAAS,IAExEva,EAAM1B,EAAN0B,GACDzB,EAAUN,KACTymB,EAAiBvV,eAAjBuV,cAJuE,EAK9Cnf,oBAAS,GALqC,mBAKvEof,EALuE,KAK7DC,EAL6D,KAOxE9D,EAAU+D,cACZ,SAACra,GAAD,OAAWA,EAAM6W,OAAOP,WAGtBgE,ELnEH,SAAyBhE,GAC5B,OAAOA,EAAQ/f,QAAO,SAAAsgB,GAAM,OAAKxB,GAAWwB,MAASngB,OKkE7B6jB,CAAgBjE,GAExC,OACI,eAACkE,GAAA,EAAD,CAAMzK,IAAKA,EAAK7b,UAAWH,EAAQwlB,KAAnC,UACI,eAACkB,GAAA,EAAD,CAAa1mB,QAAS,CAACwE,KAAMxE,EAAQylB,gBAArC,UACI,eAACvlB,EAAA,EAAD,CAAYG,QAAQ,YAAYF,UAAWH,EAAQJ,MAAnD,+BACuB2mB,EADvB,kBAGA,sBAAKpmB,UAAWH,EAAQ2lB,MAAxB,UACI,cAAC9c,EAAA,EAAD,CACIhJ,MAAO,UACPiJ,QAAS,kBAAMud,GAAaD,IAC5BjmB,UAAWwmB,KAAW3mB,EAAQ4lB,OAAT,eAAmB5lB,EAAQimB,YAAcG,IAHlE,SAKI,cAAC,KAAD,MAEJ,cAACvd,EAAA,EAAD,CACIhJ,MAAO,UACPiJ,QAAS,kBAAMqd,EAAc1kB,IAFjC,SAII,cAAC,KAAD,YAIZ,cAACmlB,GAAA,EAAD,CAAUlf,GAAI0e,EAAd,SACI,cAACS,GAAA,EAAD,CAAM1mB,UAAWH,EAAQgR,KAAzB,SAEQuR,EAAQrY,KAAI,SAAC4Y,EAAQza,GAAT,OACR,cAAC,GAAD,CAAsBya,OAAQA,GAAbza,gBC3DvC3I,GAAYC,aAAW,SAACsE,GAAD,MAAmB,CAC5C6iB,WAAY,CACRhM,aAAc,MACdpW,gBAAiB,UACjB+R,OAAQxS,EAAMyS,QAAQ,EAAG,IAE7BqQ,WAAY,CACRjM,aAAc,MACdpW,gBAAiB,WAErBsiB,kBAAmB,CACfjiB,cAAed,EAAMyS,QAAQ,GAAK,qBAIpCe,GAAmBlK,OAAaC,MAAM,CACxC5N,MAAO2N,OACFvH,MAAM,SACN0R,WACAC,IAAI,KACTK,YAAazK,OACRvH,MAAM,YACN0R,WACLuP,cAAe1Z,OACVvH,MAAM,iBACN0R,WACAwP,IAAI,MACTnB,SAAUxY,OACLvH,MAAM,YACN0R,WACAwP,IAAI,GACTC,aAAc5Z,OACTvH,MAAM,SACN0R,WACLiI,OAAQpS,OACHvH,MAAM,UACN0R,WAAW0P,KAAK,CACbrO,QAAS,8DACTqO,KAFa,SAERlgB,GAAa,IAAD,OACb,OAAOA,EAAMmgB,OACT,SAACC,GAAD,OAEa,IAFDA,EAAEzU,WAAWrQ,QACrB,SAACqd,GAAD,OAAc,EAAK0H,OAAO1U,WAAW3I,KAAI,SAACgJ,GAAD,OAAYA,EAAEzR,MAAIoM,SAASgS,EAAIpe,OAC1EkB,aAIlBkQ,WAAYtF,OACPvH,MAAM,cACN0R,WACLyD,OAAQ5N,OACHvH,MAAM,kBACN0R,aAII8P,GAAQ,WAAO,IAAD,EAWnB1P,aAAQ,CACRC,cAAe,CACXnY,MAAO,GACPoY,YAAa,GACbmD,OAAQ,GACRsM,WAAY,GACZC,YAAa,GACbC,aAAc,GACdC,WAAY,GACZX,cAAe,EACflB,SAAU,EACV8B,QAAQ,EACRlI,OAAQ,GACRwH,aAAc,GACdtU,WAAY,IAEhBqF,SAAUC,aAAYV,MAzBtBW,EAFmB,EAEnBA,aACAC,EAHmB,EAGnBA,UACAC,EAJmB,EAInBA,QACAC,EALmB,EAKnBA,MACAE,EANmB,EAMnBA,QACA1R,EAPmB,EAOnBA,MACA+gB,EARmB,EAQnBA,SACAtP,EATmB,EASnBA,SATmB,IAUnBG,UAAYD,EAVO,EAUPA,OAAQyI,EAVD,EAUCA,YAoBxBD,GAAqBC,EAAazI,GAClC,IAAMqP,EAAazlB,OAAO+e,KAAKhN,IACxB5S,EAAMoW,eAANpW,GACAkP,EAAmBC,eAAnBD,gBACDhE,EAAUC,eACV5M,EAAUN,KAnCO,EAoCGsH,mBAAuB,MApC1B,mBAoChB0b,EApCgB,KAoCTsF,EApCS,KAqCjB3d,EAAUyG,qBAAWjB,IACrB5L,EAAQkF,eACR8e,EAAcC,aAAcjkB,EAAMkkB,YAAYC,GAAG,OACjDC,EAAgBzV,mBAChB0V,EAAW1V,mBACX2V,EAAc3V,mBACd4V,EAAa5V,iBACf6V,qBAAUV,EAAYA,EAAW7d,KAAI,kBAAMwe,2BAEzC7Z,EAAWmV,eAEX2E,EAAYrhB,uBAAY,SAAC5F,GAC3BY,OAAO+e,KAAKmH,EAAW3U,SAAS/J,SAC5B,SAAAqP,GAAK,OAAIqP,EAAW3U,QAAQsF,GAAOtF,QAAQwJ,WAE/CgL,EAAcxU,QAAQwJ,QACtBiL,EAASzU,QAAQwJ,QACjBkL,EAAY1U,QAAQwJ,QACpBtW,EAAMrF,KACP,CAACqF,IAiBJ,SAAS6R,EAASC,EAAezQ,GAC7B,IAAMzG,EAAgBwI,gBAClB0O,EADsB,uBAElBkP,GAFkB,CAEN,eAAgB,SAAU,gBAE9CpmB,EAAQ,gBAAsBkX,EAAQ,aAAiB3O,KAAI,SAAC0e,GAAD,OAA6BA,EAAYnnB,MACpGE,EAAQ,cAAoBkX,EAAQ,WAAe3O,KAAI,SAACsI,GAAD,OAAwBA,EAAS/Q,MACxFE,EAAQ,UAAgBkX,EAAQ,OAAW3O,KAAI,SAAC0V,GAAD,OAAkBA,EAAMne,OAEzDihB,EAER3M,GAAU+C,OAAO4J,EAAMjhB,GAAIE,GAD3BoU,GAAU/S,OAAOrB,IAElBsP,MAAK,YAAa,IAAXvP,EAAU,EAAVA,KACRiP,EAAgB,wBAAyB,CAACtQ,QAAS,YAc3D,SAAqBqiB,GAEjB,IAAM5F,EAAoBiL,EAErBvlB,QAAO,SAACogB,GAAD,OAAevK,IAAYuK,MAElC1Y,KAAI,SAAA0Y,GAAS,MAAK,CAACA,YAAW3F,KAAM5E,IAAYuK,OAErD,IAAK9F,EAAMna,OACP,OAGJkM,EAAStD,GAAS4W,UAAU,CAACO,QAAO5F,WAEpCnM,EAAgB,GAAI,CAChBtI,IAAK,kBACLkS,SAAS,EACTsO,aAAc,CACVC,SAAU,SACVC,WAAY,SAEhBC,QAAS,SAAC3gB,EAAK0Q,GACX,IAAMtX,EAAK4G,EACX,OAAO,cAAC,GAAD,CAAgB5G,GAAIA,OApC/BwnB,CAAYvnB,EAAKA,MACjB0G,EAEQ3G,EACMkL,EAAQyC,QAAR,kBAA2B1N,EAAKA,KAAKD,GAArC,UACAkL,EAAQ8C,KAAR,kBAAwB/N,EAAKA,KAAKD,GAAlC,UAEVkL,EAAQ8C,KAAK,cAClB2B,OAAM,SAAChP,GACNuO,EAAgBvO,EAAM2W,QAAS,CAAC1Y,QAAS,eAgCjD,OAtEA8G,qBAAU,WACD1F,GAILsU,GAAUvU,IAAIC,GAAIwP,MAAK,YAAa,IAAXvP,EAAU,EAAVA,KACrBsmB,EAAStmB,EAAKA,MACdinB,EAAUjnB,EAAKA,SAChB0P,OAAM,WACLzE,EAAQ8C,KAAK,WACbkB,EAAgB,kBAAmB,CAACtQ,QAAS,eAElD,CAACsoB,EAAWlnB,EAAIsF,EAAO4J,EAAiBhE,IA2DvC,eAAC,GAAD,CACIyK,cAAe,CAAC4B,GAAI,IACpBJ,SAAUR,EAAaQ,GAF3B,UAII,eAACtB,GAAA,EAAD,CAAMC,WAAS,EAACb,QAAS,EAAzB,UACI,eAACY,GAAA,EAAD,CAAME,MAAI,EAACwB,GAAI,GAAIC,GAAI,EAAvB,UACI,cAAC,KAAD,CAAYX,QAASA,EAASY,OAAQ,gBAASnZ,EAAT,EAAEoZ,MAAF,OAClC,cAACvR,GAAA,EAAD,6BACQ7H,GADR,IAEIgU,KAAM,OACN/N,MAAO,QACPyC,WAAS,EACTpI,QAAS,WACToW,OAAQ,SACRI,SAAUxM,EACVjI,QAASsW,EAAO9Y,MAChBwZ,WAAYV,EAAO9Y,OAAS8Y,EAAO9Y,MAAMmZ,QACzCM,gBAAiB,CAACC,QAAQ,OAE/B5S,KAAM,UAET,cAAC,KAAD,CAAY4R,QAASA,EAASY,OAAQ,gBAASnZ,EAAT,EAAEoZ,MAAF,OAClC,cAACvR,GAAA,EAAD,6BACQ7H,GADR,IAEIiG,MAAO,WACP3F,QAAS,WACT6G,MAAOnH,EAAMmH,OAAS,GACtB2P,SAAUxM,EACVkP,WAAS,EACT9Q,WAAS,EACT+Q,KAAM,EACNpX,QAASsW,EAAOV,YAChBoB,WAAYV,EAAOV,aAAeU,EAAOV,YAAYe,QACrDM,gBAAiB,CAACC,QAAQ,OAE/B5S,KAAM,gBACT,eAAC4Q,GAAA,EAAD,CAAMC,WAAS,EAACb,QAAS,EAAzB,UACI,cAACY,GAAA,EAAD,CAAME,MAAI,EAACwB,GAAI,EAAf,SACI,cAAC,KAAD,CAAYV,QAASA,EAASY,OAAQ,gBAASnZ,EAAT,EAAEoZ,MAAF,OAClC,cAACvR,GAAA,EAAD,6BACQ7H,GADR,IAEIgU,KAAM,SACN/N,MAAO,gBACPyC,WAAS,EACTpI,QAAS,WACToW,OAAQ,SACRI,SAAUxM,EACVjI,QAASsW,EAAOuO,cAChB7N,WAAYV,EAAOuO,eAAiBvO,EAAOuO,cAAclO,QACzDM,gBAAiB,CAACC,QAAQ,OAE/B5S,KAAM,oBAEb,cAAC4Q,GAAA,EAAD,CAAME,MAAI,EAACwB,GAAI,EAAf,SACI,cAAC,KAAD,CAAYV,QAASA,EAASY,OAAQ,gBAASnZ,EAAT,EAAEoZ,MAAF,OAClC,cAACvR,GAAA,EAAD,6BACQ7H,GADR,IAEIgU,KAAM,SACN/N,MAAO,WACPyC,WAAS,EACTpI,QAAS,WACToW,OAAQ,SACRI,SAAUxM,EACVjI,QAASsW,EAAOqN,SAChB3M,WAAYV,EAAOqN,UAAYrN,EAAOqN,SAAShN,QAC/CM,gBAAiB,CAACC,QAAQ,OAE/B5S,KAAM,kBAGjB,cAAC,GAAD,CACIsV,IAAKqM,EACLvH,YAAavI,EAAM,gBACnBwI,eAAgB,SAAC7Z,GAAD,OAAWsR,EAAS,eAAgBtR,IACpD9E,MAAOsW,EAAOyO,aACdtQ,SAAUxM,IAEd,uBACA,eAACiN,GAAA,EAAD,CAAMC,WAAS,EAACb,QAAS,EAAzB,UACI,cAACY,GAAA,EAAD,CAAME,MAAI,EAACwB,GAAI,GAAIC,GAAI,EAAvB,SACI,cAAC,GAAD,CACI+C,IAAKsM,EACL3I,OAAQpH,EAAM,UACdwH,UAAW,SAAC7Y,GAAD,OAAWsR,EAAS,SAAUtR,IACzC2L,WAAY0F,EAAM,cAClByB,cAAe,SAAC9S,GAAD,OAAWsR,EAAS,aAActR,IACjD9E,MAAOsW,EAAOiH,OACd9I,SAAUxM,MAGlB,cAACiN,GAAA,EAAD,CAAME,MAAI,EAACwB,GAAI,GAAIC,GAAI,EAAvB,SACI,cAAC,GAAD,CACI+C,IAAKuM,EACL1V,WAAY0F,EAAM,cAClByB,cAAe,SAAC9S,GAAD,OAAWsR,EAAS,aAActR,IACjDyY,OAAQpH,EAAM,UACdnW,MAAOsW,EAAO7F,WACdgE,SAAUxM,YAM1B,eAACiN,GAAA,EAAD,CAAME,MAAI,EAACwB,GAAI,GAAIC,GAAI,EAAvB,UACI,cAAC,GAAD,CACI/R,MAAOqR,EAAM,UACbC,SAAU,SAACtR,GACPsR,EAAS,SAAUtR,IAEvB9E,MAAOsW,EAAOyC,OACdM,iBAAkB,CAAChF,OAAQwR,EAAc,OAAS,UAClDpR,SAAUxM,IACd,uBACA,cAACoc,GAAA,EAAD,CAAMtmB,UAAWH,EAAQ8mB,WAAzB,SACI,eAACoC,GAAA,EAAD,WACI,cAAChpB,EAAA,EAAD,CAAYL,MAAM,UAAUQ,QAAQ,KAApC,oBAGA,cAAC,GAAD,CACI2b,IAAKwM,EAAW3U,QAAX,WACL0J,OAAQ,UACRvX,MAAO,QACPwS,SAAU,SAACtR,GAAD,OAAWsR,EAAS,aAActR,MAEhD,cAAC,GAAD,CACI8U,IAAKwM,EAAW3U,QAAX,YACL0J,OAAQ,UACRvX,MAAO,SACPwS,SAAU,SAACtR,GAAD,OAAWsR,EAAS,cAAetR,WAIzD,cAACuf,GAAA,EAAD,CAAMtmB,UAAWH,EAAQ8mB,WAAzB,SACI,eAACoC,GAAA,EAAD,WACI,cAAChpB,EAAA,EAAD,CAAYL,MAAM,UAAUQ,QAAQ,KAApC,oBAGA,cAAC,GAAD,CACI2b,IAAKwM,EAAW3U,QAAX,aACL0J,OAAQ,YACRvX,MAAO,UACPwS,SAAU,SAACtR,GAAD,OAAWsR,EAAS,eAAgBtR,MAElD,cAAC,GAAD,CACI8U,IAAKwM,EAAW3U,QAAX,WACL0J,OAAQ,YACRvX,MAAO,YACPwS,SAAU,SAACtR,GACPsR,EAAS,aAActR,WAKvC,uBACA,cAACuf,GAAA,EAAD,CAAMtmB,UAAWH,EAAQ+mB,WAAzB,SACI,cAACmC,GAAA,EAAD,CAAa/oB,UAAWH,EAAQgnB,kBAAhC,SACI,cAACvN,GAAA,EAAD,CACInB,QACI,cAACoB,GAAA,EAAD,CACIhT,KAAK,SACL7G,MAAO,UACPyI,SACI,kBAAMkQ,EAAS,UAAWH,IAAS,SAEvCsB,QAASpB,EAAM,UACf1B,SAAUxM,IAGlBrE,MACI,cAAC9F,EAAA,EAAD,CAAYL,MAAM,UAAUQ,QAAS,YAArC,gDAIJib,eAAe,kBAMnC,cAAC,GAAD,CAAexE,gBAAiBzM,EAAS0M,WAAU,wBAAE,+BAAAvD,EAAA,sEAC3CiF,IAD2C,OAE5CJ,IAAY8O,aAAaxkB,QAC1BmlB,EAAS,eAAgB,CAAC/T,KAAM,WAAYgF,QAAS,oBAErD,UAACV,WAAD,aAAC,EAAaxF,WAAWlQ,SACzBmlB,EAAS,aAAc,CAAC/T,KAAM,WAAYgF,QAAS,oBAEnD,UAACV,WAAD,aAAC,EAAasH,OAAOhd,SACrBmlB,EAAS,SAAU,CAAC/T,KAAM,WAAYgF,QAAS,mBAG9CL,EAAO9Y,OACRgZ,EAASP,IAAa,MAbuB,iDClYlDwB,GATS,WAAO,IACpBpY,EAAMoW,eAANpW,GACP,OACI,cAAC,EAAD,CAAM7B,MAAO6B,EAAK,aAAe,eAAjC,SACI,cAAC,GAAD,OCECmW,GAAO,WAAO,IAChBnW,EAAMoW,eAANpW,GACAkP,EAAmBC,eAAnBD,gBAFe,EAGQ3J,oBAAS,GAHjB,mBAGfqD,EAHe,KAGNqI,EAHM,OAIE1L,mBAAS,KAJX,mBAIf+M,EAJe,KAIToV,EAJS,KAKhBxc,EAAUC,eAOV6K,EAAmBlK,OAAaC,MAAM,CACxC9G,KAAM6G,OAEDvH,MAAM,QACN0R,WACAC,IAAI,IACJ3R,MAAM,UAlBO,EA+BlB8R,aAAuB,CACvBC,cAAe,CAACrR,KAAM,GAAIqN,KAAM,GAChCmE,SAAUC,aAAYV,KAVtBW,EAvBkB,EAuBlBA,aACAC,EAxBkB,EAwBlBA,UACAC,EAzBkB,EAyBlBA,QACAG,EA1BkB,EA0BlBA,QACA1R,EA3BkB,EA2BlBA,MACAyR,EA5BkB,EA4BlBA,SACYE,EA7BM,EA6BlBC,UAAYD,OAwBhB,SAASE,EAASC,EAAezQ,GAC7BsK,GAAW,IACSjR,EAAKiT,GAAWoE,OAAOrX,EAAIoX,GAAYnE,GAAW1R,OAAO6V,IACjE5H,MAAK,YAAa,IAAXvP,EAAU,EAAVA,KACfgR,GAAW,GACX/B,EAAgB,yBAA0B,CAACtQ,QAAS,YACpD+H,EACQ3G,EAAKkL,EAAQyC,QAAR,mBAA4B1N,EAAKA,KAAKD,GAAtC,UAAmDkL,EAAQ8C,KAAR,mBAAyB/N,EAAKA,KAAKD,GAAnC,UAE5DkL,EAAQ8C,KAAK,eAClB2B,OAAM,SAAChP,GACNsQ,GAAW,GACX/B,EAAgBvO,EAAM2W,QAAS,CAAC1Y,QAAS,aA7BjD8G,qBAAU,WACD1F,IAGLiR,GAAW,GACXgC,GAAWlT,IAAIC,GAAIwP,MAAK,YAAa,IAAXvP,EAAU,EAAVA,KACtBgR,GAAW,GACX,IAAI0H,EAAa,CAAC1T,KAAMhF,EAAKA,KAAKgF,KAAMqN,KAAMrS,EAAKA,KAAKqS,MACxDoV,EAAQ/O,EAAWrG,KAAKqV,YACxBriB,EAAMqT,MACPhJ,OAAM,SAACiJ,GACN3H,GAAW,GACX/F,EAAQ8C,KAAK,WACbkB,EAAgB,kBAAmB,CAACtQ,QAAS,gBAElD,CAACsQ,EAAiBhE,EAASlL,EAAIsF,EAAOyR,IAkBzC,IAAM8B,EAAoB,SAAClS,GACvBA,EAAMmS,UACN/B,EAAS,OAAQpQ,EAAMI,OAAOtB,OAC9BiiB,EAAQ/gB,EAAMI,OAAOtB,QAGzB,OACI,uBAAM0R,SAAUR,EAAaQ,GAA7B,UACI,cAAC,KAAD,CAAYN,QAASA,EAASY,OAAQ,gBAASnZ,EAAT,EAAEoZ,MAAF,OAClC,cAACvR,GAAA,EAAD,6BACQ7H,GADR,IAEIgU,KAAM,OACN/N,MAAO,OACPyC,WAAS,EACTpI,QAAS,WACToW,OAAQ,SACRI,SAAUxM,EACVjI,QAASsW,EAAOhS,KAChB0S,WAAYV,EAAOhS,MAAQgS,EAAOhS,KAAKqS,QACvCM,gBAAiB,CAACC,QAAQ,OAE/B5S,KAAM,SACT,cAAC,KAAD,CACIA,KAAK,OACL4R,QAASA,EACTY,OAAQ,gBAASnZ,EAAT,EAAEoZ,MAAF,OACJ,eAACwC,GAAA,EAAD,6BACQ5b,GADR,IAEImH,MAAO6M,EAAKqV,WACZ1O,aAAc3G,EAAKqV,WACnBxN,KAAG,EACHyN,aAAW,OACX/gB,SAAUgS,EANd,UAQI,cAACb,GAAA,EAAD,CACIvS,MAAO,IACP2P,SAAUxM,EACViO,QAAS,cAAC+C,GAAA,EAAD,IACTrV,MAAM,aAEV,cAACyT,GAAA,EAAD,CACIvS,MAAO,IACP2P,SAAUxM,EACViO,QAAS,cAAC+C,GAAA,EAAD,IACTrV,MAAM,iBAMtB,cAAC,GAAD,CAAe8Q,gBAAiBzM,EAAS0M,WAAU,wBAAE,uBAAAvD,EAAA,sEAC3CiF,IAD2C,OAE5CC,EAAOhS,MACRkS,EAASP,IAAa,MAHuB,iDCpHlDwB,GATS,WAAO,IACpBpY,EAAMoW,eAANpW,GACP,OACI,cAAC,EAAD,CAAM7B,MAAO6B,EAAK,cAAgB,gBAAlC,SACI,cAAC,GAAD,OCKG6nB,GAPG,SAACvpB,GACf,OACI,cAAC,EAAD,CAAMH,MAAO,e,8BCGfF,GAAYC,aAAW,SAACsE,GAC1B,MAAQ,CACJ2f,YAAa,CACT/jB,MAAOoE,EAAMZ,QAAQU,QAAQR,KAC7BmhB,WAAYzgB,EAAMyS,QAAQ,IAE9BmN,UAAW,CACPhkB,MAAOoE,EAAMZ,QAAQjB,MAAMmB,KAC3BmhB,WAAYzgB,EAAMyS,QAAQ,IAE9B6S,QAAS,CACL1O,OAAQ,OACR6J,WAAYzgB,EAAMyS,QAAQ,GAC1BnQ,YAAatC,EAAMyS,QAAQ,QA0DxBoN,GAjDmC,SAAC/jB,GAAW,IACnDgiB,EAAgBhiB,EAAhBgiB,aACD/hB,EAAUN,KACVmP,EAAWmV,eAHwC,EAIjChd,oBAAS,GAJwB,mBAIlDid,EAJkD,KAI5CC,EAJ4C,OAKjClV,aAAYiV,EAAM,MAAnCE,EALkD,oBAMnD/hB,EAAQgf,GAASW,GACjBiB,EAAWjB,EAAqBW,MAASX,EAAqBW,MAAMjhB,GAAK,GACzE+nB,EAAgB/H,GAAaM,GAMnC,OAJA5a,qBAAU,WACN+c,EAAQ5C,GAAWS,MACpB,CAACA,IAGAoC,EACO,cAACnC,GAAA,EAAD,CAAMta,IAAI,EAAMC,QAAS,CAACsa,MAAO,KAAjC,SACC,qCAEkC,IAA1BF,EAAaP,WACZpf,GACD,cAAC,KAAD,CAAiBjC,UAAWH,EAAQ4jB,cAGvCxhB,GAAS,cAAC,KAAD,CAAWjC,UAAWH,EAAQ6jB,YAGpC2F,GACI,qCACI,cAACjE,GAAA,EAAD,CAASplB,UAAWH,EAAQupB,QAASE,YAAa,aAClD,cAAC5gB,EAAA,EAAD,CACIC,QAAS,kBAAM+F,EAAStD,GAAS6W,aAAa,CAAC3gB,GAAIuhB,MADvD,SAGI,cAAC,KAAD,CAAYnjB,MAAO,cAEvB,cAACgJ,EAAA,EAAD,CACIzI,UAAWmQ,IACXC,GAAE,kBAAawS,EAAb,SAFN,SAII,cAAC,KAAD,CAAUnjB,MAAO,sBAMvC,MCxERH,I,OAAYC,aAAW,SAACsE,GAC1B,MAAQ,CACJylB,UAAW,CACPxjB,QAAS,OACTrG,MAAO,WAEX8E,KAAM,CACF9E,MAAOoE,EAAMZ,QAAQjB,MAAMmB,KAC3BihB,SAAU,aAmDPG,GA1C+B,SAAC5kB,GAAW,IAC/CgiB,EAAgBhiB,EAAhBgiB,aACD/hB,EAAUN,KAUhB,OACI,cAACulB,GAAA,EAAD,UACI,eAAC3N,GAAA,EAAD,CAAMC,WAAS,EAACrS,WAAY,SAA5B,UACI,eAACoS,GAAA,EAAD,CACInX,UAAWH,EAAQ0pB,UACnBlS,MAAI,EACJwB,GAAI,GACJC,GAAI,EAJR,UATG,cAAC,KAAD,CAAW9Y,UAAWH,EAAQ2E,OAgB7B,cAACzE,EAAA,EAAD,CAAYL,MAAO,UAAnB,SACKE,EAAMS,cAGf,cAAC8W,GAAA,EAAD,CAAME,MAAI,EAACwB,GAAI,GAAIC,GAAI,EAAvB,SACI,eAAC3B,GAAA,EAAD,CACIC,WAAS,EACT1L,UAAW,MACX3G,WAAY,SACZykB,QAAS,WAJb,UAMI,cAAC,GAAD,CAAgBtX,KAAM,GAAI0P,aAAcA,IACxC,cAAC,GAAD,CAAcA,aAAcA,eCtC9CriB,GAAYC,aAAW,SAACsE,GAC1B,MAAQ,CACJ2lB,aAAc,CACVllB,gBAAiBT,EAAMZ,QAAQC,QAAQC,KACvC1D,MAAOoE,EAAMZ,QAAQC,QAAQE,cAEjCqmB,aAAc,CACVhqB,MAAOoE,EAAMZ,QAAQC,QAAQE,kBC2F1BsmB,GArGgB,CAC3B,CACIpjB,KAAM,YACNV,MAAO,YACP+jB,KAAM,IACN3pB,UAAWkpB,GACXU,OAAO,GAEX,CACItjB,KAAM,kBACNV,MAAO,kBACP+jB,KAAM,cACN3pB,UAAW6pB,GACXD,OAAO,GAEX,CACItjB,KAAM,oBACNV,MAAO,oBACP+jB,KAAM,qBACN3pB,UAAW8pB,GACXF,OAAO,GAEX,CACItjB,KAAM,kBACNV,MAAO,kBACP+jB,KAAM,uBACN3pB,UAAW8pB,GACXF,OAAO,GAEX,CACItjB,KAAM,eACNV,MAAO,eACP+jB,KAAM,WACN3pB,UAAW+pB,GACXH,OAAO,GAEX,CACItjB,KAAM,iBACNV,MAAO,eACP+jB,KAAM,kBACN3pB,UAAWgqB,GACXJ,OAAO,GAEX,CACItjB,KAAM,eACNV,MAAO,eACP+jB,KAAM,oBACN3pB,UAAWgqB,GACXJ,OAAO,GAEX,CACItjB,KAAM,cACNV,MAAO,cACP+jB,KAAM,UACN3pB,UAAWiqB,GACXL,OAAO,GAEX,CACItjB,KAAM,gBACNV,MAAO,cACP+jB,KAAM,iBACN3pB,UAAWkqB,GACXN,OAAO,GAEX,CACItjB,KAAM,cACNV,MAAO,cACP+jB,KAAM,mBACN3pB,UAAWkqB,GACXN,OAAO,GAEX,CACItjB,KAAM,cACNV,MAAO,cACP+jB,KAAM,UACN3pB,UAAWmqB,GACXP,OAAO,GAEX,CACItjB,KAAM,gBACNV,MAAO,cACP+jB,KAAM,iBACN3pB,UAAWoqB,GACXR,OAAO,GAEX,CACItjB,KAAM,cACNV,MAAO,cACP+jB,KAAM,mBACN3pB,UAAWoqB,GACXR,OAAO,GAEX,CACItjB,KAAM,UACNV,MAAO,UACP+jB,KAAM,WACN3pB,UDjFQ,WACZ,IAAMJ,EAAUN,KAEV6iB,EAAU+D,cACZ,SAACra,GAAD,OAAWA,EAAM6W,OAAOP,WAI5B,OACI,cAAC,EAAD,CAAM3iB,MAAO,UAAb,SAEQ2iB,EAAQrY,KAAI,SAAC4Y,EAAQza,GAAT,OACR,cAACoe,GAAA,EAAD,CAAMgE,UAAW,EAAjB,SACI,eAACvB,GAAA,EAAD,WACI,cAAC,GAAD,CAAYnH,aAAce,EAA1B,SACKA,EAAOJ,MAAM9iB,QAElB,eAAC8qB,GAAA,EAAD,CAAgBxP,MAAO,CAACzE,OAAQ,GAAhC,UACI,cAACkU,GAAA,EAAD,CACIxqB,UAAWH,EAAQ4pB,aACnBgB,WAAY,cAAC,KAAD,CAAgBzqB,UAAWH,EAAQ6pB,eAFnD,SAII,cAAC3pB,EAAA,EAAD,6BAEJ,cAAC2qB,GAAA,EAAD,CAAuB3P,MAAO,CAACjE,QAAS,OAAxC,SACI,cAACK,GAAA,EAAD,CAAME,MAAI,EAACwB,GAAI,GAAf,SACI,cAAC6N,GAAA,EAAD,CAAMiE,OAAO,EAAM5P,MAAO,CAACjE,QAAS,OAApC,SAEQ6L,EAAOhG,MAAM5S,KAAI,SAAC+S,EAAM5U,GAAP,OACb,eAAC,IAAM0iB,SAAP,WACI,cAACxF,GAAA,EAAD,IACA,cAAC,GAAD,CAAYxD,aAAc9E,EAA1B,mBAGW5I,GAAmB4I,EAAK2F,WAHnC,cAGmD3F,EAAKf,cALvC7T,mBAjB5BA,SCsErC2hB,OAAO,IC3GTgB,GAAiB,CACnB,UAAa,YACb,kBAAmB,aACnB,cAAe,SACf,eAAgB,eAChB,cAAe,SACf,QAAW,WAETC,GAAanB,GAAOtnB,QAAO,SAAC0oB,GAAD,OAAW5oB,OAAO+e,KAAK2J,IAAYnd,SAASqd,EAAMxkB,SAEtEykB,GAAO,WAAO,IAAD,EACUnkB,mBAAS,MADnB,mBACfokB,EADe,KACLC,EADK,KAGhBjW,EAAc,kBAAMiW,EAAY,OACtC,OACI,eAAC,WAAD,WACI,cAACxiB,EAAA,EAAD,CACIwb,KAAM,QACNxkB,MAAO,UACPwpB,aAAY,cACZiC,gBAAe,cACfC,iBAAe,EACfziB,QAVO,SAACV,GAAD,OAAgBijB,EAAYjjB,EAAMojB,gBAI7C,SAQI,cAAC,IAAD,MAEJ,cAAC,IAAD,CACIrW,OAAQiW,EACRK,mBAAoB,KACpB5C,aAAc,CAACC,SAAU,SAAUC,WAAY,UAC/C2C,gBAAiB,CAAC5C,SAAU,MAAOC,WAAY,UAC/CzT,QAASF,EACTgW,SAAUA,EACV3pB,GAAI,cAPR,SASKa,OAAO+e,KAAK2J,IAAY9gB,KAAI,SAACyhB,EAAWtjB,GACrC,IAAM6iB,EAAQD,GAAW5L,MAAK,SAAA6L,GAAK,OAAIA,EAAMxkB,OAASilB,KACtD,OAAQ,cAAC/Q,EAAA,EAAD,CAAoBxa,UAAWmQ,IAAMC,GAAI0a,EAAMnB,KAAgBjhB,QAASsM,EAAxE,SACH4V,GAAWW,IADOtjB,YCxCrC3I,GAAYC,aAAW,SAACsE,GAAD,MAAmB,CAC5C+D,QAAS,CACLtD,gBAAiB,SAGrB9E,MAAO,CACHgsB,SAAU,EACVC,UAAW,UAGfC,KAAK,aACD9hB,MAAO,KACN/F,EAAMkkB,YAAYC,GAAG,MAAQ,CAC1Bpe,MAAO,UAKN+hB,GAAmB,WAC5B,IAAM/rB,EAAUN,KAChB,OACI,cAACssB,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,CAAS9rB,UAAWH,EAAQgI,QAA5B,UACI,cAAC,GAAD,IACA,cAAC9H,EAAA,EAAD,CAAYC,UAAWH,EAAQJ,MAA/B,SACI,qBACIssB,IAAK,WACLC,IChCT,i+IDiCShsB,UAAWH,EAAQ8rB,SAE3B,cAACnW,EAAA,EAAD,CAAQ9V,MAAO,UAAf,2BEZDusB,GAlBoB,SAACrsB,GAChC,OACI,cAAC,KAAD,UAEQ+pB,GAAO5f,KACH,SAACghB,EAAO7iB,GACJ,OAAO,cAAC,KAAD,CAEH0hB,KAAMmB,EAAMnB,KACZ3pB,UAAW8qB,EAAM9qB,UACjB4pB,OAAuB,IAAhBkB,EAAMlB,OAHR3hB,S,2CCA3BgkB,GAA+C,GAErDvC,GAAOhgB,SAAQ,SAAAohB,GAAK,OAAImB,GAAkBnB,EAAMnB,MAAkBmB,EAAMllB,SAExE,IAAMtG,GAAYC,aAAW,SAACsE,GAAD,OACzBya,aAAa,CACTla,KAAM,GACN8nB,WAAY,CACRzsB,MAAOoE,EAAMZ,QAAQI,UAAUF,KAC/B,oBAAqB,CACjB1D,MAAOoE,EAAMZ,QAAQI,UAAUF,MAEnC,UAAW,CACP1D,MAAOoE,EAAMZ,QAAQI,UAAUC,YAWzC6oB,GAAa,SAACxsB,GAAD,OAA4B,cAACwQ,GAAA,EAAD,6BAAUxQ,GAAV,IAAiBK,UAAWosB,QAE5D,SAASC,KACpB,IAAMzsB,EAAUN,KA4BhB,OACI,cAACO,EAAA,EAAD,CAAWE,UAAWH,EAAQwE,KAA9B,SACI,cAAClE,EAAA,EAAD,CAAKC,WAAY,EAAGwE,cAAe,EAAnC,SACI,cAAC,KAAD,UAEQ,mBA/BpB,SAAwB8H,GACpB,IAAM6f,EAAY7f,EAASI,SAAS6F,MAAM,KAAKtQ,QAAO,SAACmqB,GAAD,OAAOA,KAE7D,OADAD,EAAUnN,QAAQ,KAEd,cAACqN,GAAA,EAAD,CAAavD,aAAW,aAAxB,SACKqD,EAAUxiB,KAAI,SAAChD,EAAOgP,GACnB,IAAM2W,EAAO3W,IAAUwW,EAAU/pB,OAAS,EACpC6N,EAAE,UAAMkc,EAAUI,MAAM,EAAG5W,EAAQ,GAAGzD,KAAK,KAAKrD,QAAQ,KAAM,MAC9D8b,EAAQ5oB,OAAO+e,KAAKgL,IAAmBhN,MAAK,SAAA0K,GAAI,OAAI,IAAIgD,KAAYhD,GAAMiD,MAAMxc,MACtF,YAAc9C,IAAVwd,IAGG2B,EACH,cAAC3sB,EAAA,EAAD,CAAYL,MAAM,cAAlB,SACKwsB,GAAkBnB,IADc1a,GAIrC,cAAC,GAAD,CAAY3Q,MAAM,UAAU2Q,GAAIA,EAAarQ,UAAWH,EAAQssB,WAAhE,SACKD,GAAkB7b,IADkBA,SAczByc,CAAhB,EAAEpgB,iBCjEnB,IAAMqgB,GAAoD,SAACntB,GAC9D,IAAIotB,EACEC,EAAsC,CAExC5sB,SAAUT,EAAMS,SAChB6sB,iBAAkB,IAClBC,SAAU,EACVzE,aAAc,CACVE,WAAY,QACZD,SAAU,OAEdyE,kBAAkB,EAClBvR,IAAK,SAACvZ,GAAD,OAAQ0qB,EAAsB1qB,GACnCyJ,OAAQ,SAAC7D,GAAD,OACJ,cAACQ,EAAA,EAAD,CACIhJ,MAAO,UACPqb,MAAO,CAACxK,SAAU,IAClB5H,QAAS,kBAAMqkB,EAAoBhH,cAAc9d,IAHrD,SAKI,cAAC,KAAD,QAINe,EAAQ,6BAAOgkB,GAAiBrtB,GACtC,OACI,cAAC,KAAD,6BAA+BqJ,GAA/B,aACKrJ,EAAMS,aCvBNgtB,GAAkB,SAACztB,GAAe,IAAD,EACZiH,oBAAkB,GADN,mBACnCqD,EADmC,KAC1BqI,EAD0B,OAEF1L,mBAAS,GAFP,mBAEnCymB,EAFmC,KAErBC,EAFqB,KA4C1C,SAASC,IACLD,GAAgB,SAACE,GAAD,OAAsBA,EAAmB,KAG7D,OA3CAtgB,mBAAQ,WACJ,IAAIiG,GAAe,EAEbsa,EjEXP,SACHC,EACAC,GAEA,IADF,EACQ9X,EAAgB,GADxB,cAEgB9S,GAFhB,IAEE,2BAAyB,CAAC,IAChB1B,EADe,QACRusB,aAAahP,QAAQiP,IAAIH,EAAaC,GACnD9X,EAAIxG,KAAKhO,IAJf,8BAME,OAAOwU,EiEEgBiY,EAA4B,SAAC/sB,GAK5C,OAJIoS,IAAiBpS,EAAOgtB,QAAQC,eAAe,sBAC/C1b,GAAW,GACXgb,GAAgB,SAACE,GAAD,OAAsBA,EAAmB,MAEtDzsB,KAGLktB,EjEDP,SACHP,EACAC,GAEA,IADF,EACQ9X,EAAgB,GADxB,cAEgB9S,GAFhB,IAEE,2BAAyB,CAAC,IAChB1B,EADe,QACRusB,aAAa5X,SAAS6X,IAAIH,EAAaC,GACpD9X,EAAIxG,KAAKhO,IAJf,8BAME,OAAOwU,EiERiBqY,EAChB,SAAClY,GAIG,OAHI7C,IAAiB6C,EAAS+X,QAAQC,eAAe,qBACjDT,IAEGvX,KAEX,SAAChU,GAAe,IAAD,EAKX,OAJAsR,QAAQ6a,IAAInsB,GACRmR,KAAgB,OAACnR,QAAD,IAACA,GAAD,UAACA,EAAO+rB,eAAR,aAAC,EAAgBC,eAAe,sBAChDT,IAEGa,QAAQC,OAAOrsB,MAG9B,OAAO,WACHmR,GAAe,EACgBsa,EjEvBnC/jB,SACA,SAACrI,EAAIyU,GAAL,OAAe/S,EAAU+S,GAAO8X,aAAahP,QAAQ0P,MAAMjtB,MAgB5D,SAAyCwU,GAC5CA,EAAInM,SACA,SAACrI,EAAIyU,GAAL,OAAe/S,EAAU+S,GAAO8X,aAAa5X,SAASsY,MAAMjtB,MiEKxDktB,CAAgCN,MAErC,IAEHlnB,qBAAU,WACDsmB,GACD/a,GAAW,KAEhB,CAAC+a,IAOA,cAAC,GAAemB,SAAhB,CAAyB1nB,MAAOmD,EAAhC,SACKtK,EAAMS,Y,UCvDnB,SAASquB,GAAe5qB,GACpB,OAAO,6BACAA,GADP,IAEIZ,QAAQ,6BACDY,EAAMZ,SADN,IAEHC,QAASW,EAAMZ,QAAQjB,MACvB2R,KAAM,WAMlB,IAkBe+a,GAlBC,WACZ,IAAMzkB,EAAUyG,qBAAWjB,IAC3B,OACI,cAAC,IAAD,CAAkB5L,MAAO4qB,GAAzB,SACI,cAAC7M,GAAA,EAAD,CAAMta,GAAI2C,EAAV,SACI,cAAC0kB,GAAA,EAAD,CACIlvB,MAAO,UACPqb,MAAO,CACHuB,SAAU,QACVzS,MAAO,OACPglB,OAAQ,aCKjBC,GArBO,WAClB,OACI,cAAC,IAAMlE,SAAP,UACI,cAAC,GAAD,UACI,cAAC,IAAD,CAAkB9mB,MAAOA,EAAzB,SACI,eAAC,GAAD,WACI,cAACirB,EAAA,EAAD,IACA,eAAC,IAAD,CAAeC,SAAU,SAAzB,UACI,cAAC,GAAD,IACA,cAAC,GAAD,IACA,eAAC7uB,EAAA,EAAD,CAAKC,WAAY,OAAjB,UACI,cAACksB,GAAD,IACA,cAAC,GAAD,oBCTjB2C,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,+BAAqBre,MAAK,YAAkD,IAA/Cse,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,0CCFGO,I,aA6BPC,IA7BH,SAAUD,KAAV,oFAGqB,OAHrB,SAG2BE,aAAcxkB,GAAMkX,YAH/C,OAGGuN,EAHH,cAMoC,OANpC,SAM0CC,aAAKD,GAN/C,OAQa,OARb,SAMQ5jB,EANR,EAMQA,QANR,KAQCuH,QARD,UAQmB8G,cAAO,SAACvO,GAAD,OAAgBA,KAR1C,yBAQSsiB,IART,8BASwBpiB,EAAQ2Q,OAThC,2DAY0B,OAHdmT,EATZ,4BAYgCC,aAAKL,GAAY,CAACnN,MAAOvW,EAAQuW,MAAOuN,aAZxE,QAYe7Z,EAZf,OAaS1C,QAAQ6a,IAAInY,GAbrB,mDAeS1C,QAAQ6a,IAAR,MAfT,wHAAA4B,IAAA,qBAkBCzc,QAAQ6a,IAAIpiB,GAlBb,qFA6BP,SAAU0jB,GAAV,qFAEoB,OAFEnN,EAAtB,EAAsBA,MAAOuN,EAA7B,EAA6BA,SAA7B,SAE0BC,aAAKE,GAAY,CAAC3uB,GAAIihB,EAAMjhB,GAAIwuB,aAF1D,OAEUI,EAFV,cAKyC,OALzC,kBAK+CL,aAAKK,GALpD,mBAKmB7O,EALnB,EAKmBA,WAAUpL,EAL7B,EAK6BA,UAL7B,0CAOuBA,GAPvB,QASY,OATZ,UASkBnU,aAAIsJ,GAAS8W,eAAe,CAC9BK,QACAE,UAAWqN,EAASrN,UACpBpB,cAZhB,gCAeY,OAfZ,oCAekBvf,aAAIsJ,GAAS+W,eAAe,CAC9BI,QACAE,UAAWqN,EAASrN,UACpBxgB,MAAM,EAAD,MAlBrB,iGA8BA,SAASguB,GAAT,GAAyE,IAApD3uB,EAAmD,EAAnDA,GAAIwuB,EAA+C,EAA/CA,SACrB,OAAOK,cAAa,SAAAC,GAChBxa,GAAUya,cACN/uB,EADJ,aAGQgvB,QAAS,SACRR,EAASrN,UAAYqN,EAAShT,MAEnC,CACIvc,KAAM,CACFsB,SAAS,GAEbb,OAAQ,CACJgtB,QAAS,CACL,oBAAoB,GAExBuC,iBAJI,SAIaC,GACb,GAAIA,EAAcC,iBAAkB,CAChC,IAAMpP,EAAWmP,EAAcE,OAASF,EAAcxf,MACtDuC,QAAQ6a,IAAI/M,GACZ+O,EAAQ,CAAC/O,kBAMxBvQ,MAAK,SAACmF,GAAD,OAAmBma,EAAQ,CAACna,gBACjChF,OAAM,SAAChP,GAAD,OAAgBmuB,EAAQnuB,MAC9B0uB,SAAQ,kBAAMP,EAAQQ,SAI3B,OAFoB,gB,iBC7FHC,IAAV,SAAUA,KAAV,kEACX,OADW,SACLvd,aAAI,CACNmc,OAFO,wCCGf,IAAMqB,GAAiBC,eACjBC,GAAQC,aACVC,aAAgB,CACZvO,YAEJwO,aAAgBL,KAGpBA,GAAeM,IAAIP,IAEJG,UCTfK,IAAStY,OACL,cAAC,KAAD,CAAUiY,MAAOA,GAAjB,SACI,cAAC,GAAD,MAEJM,SAASC,eAAe,SAM5BtC,O","file":"static/js/main.34223cf9.chunk.js","sourcesContent":["import * as React from 'react';\nimport {Box, Container, makeStyles, Typography} from \"@material-ui/core\";\n\nlet useStyles = makeStyles({\n    title: {\n        color: '#999999'\n    }\n})\n\ntype PageProps = {\n    title: string\n};\nexport const Page: React.FC<PageProps> = (props) => {\n    const classes = useStyles();\n\n    return (\n        <div>\n            <Container>\n                <Typography className={classes.title} component={'h1'} variant={'h5'}>\n                    {props.title}\n                </Typography>\n                <Box paddingTop={2}>\n                    {props.children}\n                </Box>\n            </Container>\n        </div>\n    );\n};","import axios, {AxiosInstance, AxiosRequestConfig, AxiosResponse, CancelTokenSource} from \"axios\";\nimport object from \"object-to-formdata\";\n\ninterface QueryParams {\n    queryParams?: {\n        search?: string | null\n        all?: string\n        page?: number\n        per_page?: number\n        sort?: string | null\n        dir?: string | null\n    }\n}\n\nclass HttpResource {\n    private cancelList: CancelTokenSource | null = null;\n\n    constructor(protected http: AxiosInstance, protected resource: any) {\n    }\n\n    list<T = any>(options?: QueryParams): Promise<AxiosResponse<T>> {\n        if (this.cancelList) {\n            this.cancelList.cancel('list cancelled')\n        }\n        this.cancelList = axios.CancelToken.source();\n\n        const config: AxiosRequestConfig = {\n            cancelToken: this.cancelList.token\n        }\n\n        if (options && options.queryParams) {\n            config.params = options.queryParams\n        }\n        return this.http.get<T>(this.resource, config)\n    }\n\n    get<T = any>(id: any): Promise<AxiosResponse<T>> {\n        return this.http.get<T>(`${this.resource}/${id}`)\n    }\n\n    create<T = any>(data: any): Promise<AxiosResponse<T>> {\n        let sendData = this.makeSendData(data);\n        return this.http.post<T>(this.resource, sendData);\n    }\n\n    update<T = any>(id: any, data: any, options?: { http?: { usePost: boolean }, config?: AxiosRequestConfig }): Promise<AxiosResponse<T>> {\n        let sendData = data;\n        if (this.containsFile(data)) {\n            sendData = this.getFormData(data);\n        }\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.put<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config)\n    }\n\n    partialUpdate<T = any>(id: any, data: any, options?: { http?: { usePost: boolean }, config?: AxiosRequestConfig }): Promise<AxiosResponse<T>> {\n        let sendData = data;\n        if (this.containsFile(data)) {\n            sendData = this.getFormData(data);\n        }\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.patch<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config)\n    }\n\n    deleteCollection<T = any>(queryParams: any): Promise<AxiosResponse<T>> {\n        const config: AxiosRequestConfig = {};\n        if (queryParams) {\n            config['params'] = queryParams;\n        }\n        return this.http.delete<T>(`${this.resource}`, config)\n    }\n\n    isCancelRequest(error: any) {\n        return axios.isCancel(error)\n    }\n\n    private makeSendData(data: any) {\n        return this.containsFile(data) ? this.getFormData(data) : data;\n    }\n\n    private containsFile(data: any) {\n        return Object\n            .values(data)\n            .filter(el => el instanceof File).length !== 0\n    }\n\n    private getFormData(data: any) {\n\n        return object.serialize(data, {booleansAsIntegers: true})\n    }\n\n}\n\nexport default HttpResource;","import axios, {AxiosError, AxiosRequestConfig, AxiosResponse} from \"axios\";\n\nexport const httpVideo = axios.create({\n    baseURL: process.env.REACT_APP_MICRO_VIDEO_API_URL\n})\nconst instances = [httpVideo];\n\nexport function addGlobalRequestInterceptor(\n    onFulfilled?: (value: AxiosRequestConfig) => AxiosRequestConfig | Promise<AxiosRequestConfig>,\n    onRejected?: (error: any) => any\n) {\n    const ids: number[] = [];\n    for (let i of instances) {\n        const id = i.interceptors.request.use(onFulfilled, onRejected);\n        ids.push(id);\n    }\n    return ids;\n}\n\nexport function removeGlobalRequestInterceptor(ids: number[]) {\n    ids.forEach(\n        (id, index) => instances[index].interceptors.request.eject(id)\n    )\n}\n\nexport function addGlobalResponseInterceptor(\n    onFulfilled?: (value: AxiosResponse) => AxiosResponse | Promise<AxiosResponse>,\n    onRejected?: (error: AxiosError) => any\n) {\n    const ids: number[] = [];\n    for (let i of instances) {\n        const id = i.interceptors.response.use(onFulfilled, onRejected);\n        ids.push(id);\n    }\n    return ids;\n}\n\nexport function removeGlobalResponseInterceptor(ids: number[]) {\n    ids.forEach(\n        (id, index) => instances[index].interceptors.response.eject(id)\n    )\n}\n\n//interceptors global\n//interceptors instancias\n","import HttpResource from \"./httpResource\";\nimport {httpVideo} from \"./index\";\n\nexport default new HttpResource(httpVideo, 'categories')\n","import {createMuiTheme, SimplePaletteColorOptions} from \"@material-ui/core\";\nimport {PaletteOptions} from \"@material-ui/core/styles/createPalette\";\nimport {green, red} from \"@material-ui/core/colors\";\n\nlet customColors = {\n    white: \"#ffffff\",\n    primary: '#79aec8',\n    secondary: '#4db5ab',\n    secondaryDark: '#055052',\n    background: '#ededed',\n    ariaSort: '#459ac4'\n}\n\nconst palette: PaletteOptions = {\n    primary: {\n        main: customColors.primary,\n        contrastText: customColors.white\n    },\n    secondary: {\n        main: customColors.secondary,\n        contrastText: customColors.white,\n        dark: customColors.secondaryDark\n    },\n    background: {\n        default: customColors.background\n    },\n    error: {\n        main: red.A400,\n        contrastText: customColors.white\n    },\n    success: {\n        main: green[\"500\"],\n        contrastText: customColors.white\n    }\n}\nconst theme = createMuiTheme({\n    palette,\n    overrides: {\n        MUIDataTable: {\n            paper: {boxShadow: 'none'}\n        },\n        MUIDataTableToolbar: {\n            root: {\n                minHeight: '58px',\n                backgroundColor: palette.background?.default\n            },\n            icon: {\n                color: (palette.primary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &:focus': {\n                    color: customColors.secondaryDark\n                }\n            },\n            iconActive: {\n                color: customColors.secondaryDark,\n                '&:hover, &:active, &:focus': {\n                    color: customColors.secondaryDark\n                }\n            }\n\n        },\n        MUIDataTableHeadCell: {\n            fixedHeader: {\n                paddingTop: 8,\n                paddingBottom: 8,\n                backgroundColor: (palette.primary as SimplePaletteColorOptions).main,\n                color: customColors.white,\n                '&{aria-sort}': customColors.ariaSort\n            },\n            sortActive: {\n                color: customColors.white\n            },\n            sortAction: {\n                alignItems: 'center'\n            },\n            sortLabelRoot: {\n                '& svg': {\n                    color: customColors.white + ' !important'\n                }\n            }\n        },\n        MUIDataTableSelectCell: {\n            headerCell: {\n                backgroundColor: (palette.primary as SimplePaletteColorOptions).main,\n                '& span': {\n                    color: customColors.white + ' !important'\n                }\n            }\n\n        },\n        MUIDataTableBodyCell: {\n            root: {\n                color: (palette.secondary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &:focus': {\n                    color: (palette.secondary as SimplePaletteColorOptions).main,\n                }\n            }\n        },\n        MUIDataTableToolbarSelect: {\n            title: {\n                color: (palette.secondary as SimplePaletteColorOptions).main,\n            },\n            iconButton: {\n                color: (palette.secondary as SimplePaletteColorOptions).main,\n            }\n        },\n        MUIDataTableBodyRow: {\n            root: {\n                '&:nth-child(odd)': {\n                    backgroundColor: customColors.background,\n                }\n            }\n        },\n        MUIDataTablePagination: {\n            root: {\n                color: (palette.secondary as SimplePaletteColorOptions).main,\n            }\n        },\n        MUIDataTableFilterList: {\n            root: {\n                marginBottom: '16px'\n            }\n        }\n    }\n})\n\nexport default theme","// @flow\nimport {Chip, createMuiTheme, MuiThemeProvider} from '@material-ui/core';\nimport * as React from 'react';\nimport theme from \"../theme\";\n\nconst badgeTheme = createMuiTheme({\n    palette: {\n        primary: theme.palette.success,\n        secondary: theme.palette.error\n    }\n})\n\nexport const BadgeYes = () => {\n    return (\n        <MuiThemeProvider theme={badgeTheme}>\n            <Chip label={'Yes'} color={\"primary\"}/>\n        </MuiThemeProvider>\n    );\n};\n\nexport const BadgeNo = () => {\n    return (\n        <MuiThemeProvider theme={badgeTheme}>\n            <Chip label={'No'} color={\"secondary\"}/>\n        </MuiThemeProvider>\n    );\n};","import React, {useCallback, useEffect, useState} from 'react';\nimport Grow from '@material-ui/core/Grow';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport {makeStyles} from '@material-ui/core/styles';\nimport {debounce} from 'lodash'\n\nconst useStyles = makeStyles(\n    theme => ({\n        main: {\n            display: 'flex',\n            flex: '1 0 auto',\n        },\n        searchIcon: {\n            color: theme.palette.text.secondary,\n            marginTop: '10px',\n            marginRight: '8px',\n        },\n        searchText: {\n            flex: '0.8 0',\n        },\n        clearIcon: {\n            '&:hover': {\n                color: theme.palette.error.main,\n            },\n        },\n    }),\n    {name: 'MUIDataTableSearch'},\n);\nconst DebouncedTableSearch = ({options, searchText, onSearch, onHide, debounceTime, reset}) => {\n    const classes = useStyles();\n    const [text, setText] = useState(searchText);\n    let value = text;\n\n    useEffect(() => {\n        if (reset) {\n            onHide()\n            setText('')\n            onSearch('')\n        }\n    }, [setText, reset, onSearch, onHide]);\n\n    let dispatchOnSearch = (myValue) => {\n        onSearch(myValue);\n    }\n\n\n    dispatchOnSearch = useCallback(debounce(dispatchOnSearch, debounceTime), []) // eslint-disable-line react-hooks/exhaustive-deps\n\n    if (reset) {\n        value = searchText\n    }\n    const handleTextChange = event => {\n        let newValue = event.target.value;\n        setText(newValue)\n        dispatchOnSearch(newValue)\n    };\n\n    const onKeyDown = event => {\n        if (event.key === 'Escape') {\n            onHide();\n        }\n    };\n\n    return (\n        <Grow appear in={true} timeout={300}>\n            <div className={classes.main}>\n                <SearchIcon className={classes.searchIcon}/>\n                <TextField\n                    className={classes.searchText}\n                    autoFocus={true}\n                    InputProps={{\n                        'data-test-id': options.textLabels.toolbar.search,\n                    }}\n                    inputProps={{\n                        'aria-label': options.textLabels.toolbar.search,\n                    }}\n                    value={value || ''}\n                    onKeyDown={onKeyDown}\n                    onChange={handleTextChange}\n                    fullWidth={true}\n                    placeholder={options.searchPlaceholder}\n                    {...(options.searchProps ? options.searchProps : {})}\n                />\n                <IconButton className={classes.clearIcon} onClick={onHide}>\n                    <ClearIcon/>\n                </IconButton>\n            </div>\n        </Grow>\n    );\n};\n\nexport default DebouncedTableSearch;","// @flow\nimport * as React from 'react';\nimport MUIDataTable, {MUIDataTableColumn, MUIDataTableOptions, MUIDataTableProps} from \"mui-datatables\";\nimport {cloneDeep, merge, omit} from 'lodash'\nimport {MuiThemeProvider, useTheme} from \"@material-ui/core\";\nimport {Theme} from \"@material-ui/core/styles\";\nimport DebouncedTableSearch from \"./DebouncedTableSearch\";\n\nconst defaultOptions = (reset: boolean, debounceSearchTime?: number): MUIDataTableOptions => ({\n    print: false,\n    download: false,\n    responsive: 'standard',\n    textLabels: {\n        body: {}\n    },\n    customSearchRender: (\n        searchText: any,\n        handleSearch: (text: string) => void,\n        hideSearch: () => void,\n        options: any\n    ) => {\n        return <DebouncedTableSearch\n            searchText={searchText}\n            onSearch={handleSearch}\n            onHide={hideSearch}\n            options={options}\n            debounceTime={debounceSearchTime}\n            reset={reset}\n        />\n    }\n})\n\nexport interface TableColumn extends MUIDataTableColumn {\n    width?: string\n}\n\ninterface TableProps extends MUIDataTableProps {\n    columns: TableColumn[],\n    loading?: boolean,\n    debouncedTimeSearch?: number,\n    reset?: boolean\n}\n\nconst Table: React.FC<TableProps> = (props) => {\n    function extractMuiDataTableColumns(columns: TableColumn[]) {\n        setColumnsWidth(columns)\n        return columns.map(column => omit(column, 'width'))\n    }\n\n    function setColumnsWidth(columns: TableColumn[]) {\n        columns.forEach((column, key) => {\n            if (column.width) {\n                const overrides = theme.overrides as any;\n                overrides.MUIDataTableHeadCell.fixedHeader['&:nth-child(' + (key + 2) + ')'] = {\n                    width: column.width\n                }\n            }\n        })\n    }\n\n    function applyLoading() {\n        let textLabels = newProps.options?.textLabels?.body as any\n        textLabels.noMatch = newProps.loading === true ? 'Loading...' : newProps.options?.textLabels?.body?.noMatch\n    }\n\n    function handleOriginalMuiDataTableProps() {\n        return omit(newProps, 'isLoading')\n    }\n\n    const theme = cloneDeep<Theme>(useTheme());\n    const newProps = merge({options: cloneDeep(defaultOptions(props.reset as boolean, props.debouncedTimeSearch))},\n        props,\n        {columns: extractMuiDataTableColumns(props.columns)})\n\n    applyLoading()\n    const originalProps = handleOriginalMuiDataTableProps()\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <MUIDataTable {...originalProps}/>\n        </MuiThemeProvider>\n    );\n}\n\nexport default Table\n\nexport function makeActionStyles(column: any) {\n    return (theme: Theme) => {\n        const copyTheme = cloneDeep(theme);\n        const selector = `&[data-testid^=\"MuiDataTableBodyCell-${column}\"]`;\n        (copyTheme.overrides as any).MUIDataTableBodyCell.root[selector] = {\n            paddingTop: '0px',\n            paddingBottom: '0px'\n        }\n        return copyTheme\n    }\n\n}","// @flow\nimport * as React from 'react';\nimport {IconButton, Tooltip} from \"@material-ui/core\";\nimport {ClearAll} from \"@material-ui/icons\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nlet useStyles = makeStyles(theme => ({\n    iconButton: (theme as any).overrides.MUIDataTableToolbar.icon\n}))\n\ninterface FilterResetButtonProps {\n    handleClick: () => void\n}\n\nexport const FilterResetButton: React.FC<FilterResetButtonProps> = (props) => {\n    const classes = useStyles()\n    return (\n        <Tooltip title={'Clean search'}>\n            <IconButton className={classes.iconButton} onClick={props.handleClick}>\n                <ClearAll/>\n            </IconButton>\n        </Tooltip>\n    );\n};","import {createActions, createReducer} from 'reduxsauce'\nimport * as  Typings from \"./types\";\nimport {SetResetAction, UpdateExtraFilterAction} from \"./types\";\n\nexport const {Types, Creators} = createActions<{\n    SET_SEARCH: string\n    SET_PAGE: string\n    SET_PER_PAGE: string\n    SET_ORDER: string\n    SET_RESET: string\n    UPDATE_EXTRA_FILTER: string\n}, {\n    setSearch(payload: Typings.SetSearchAction['payload']): Typings.SetSearchAction\n    setPage(payload: Typings.SetPageAction['payload']): Typings.SetPageAction\n    setPerPage(payload: Typings.SetPerPageAction['payload']): Typings.SetPerPageAction\n    setOrder(payload: Typings.SetOrderAction['payload']): Typings.SetOrderAction\n    setReset(payload: Typings.SetResetAction['payload']): Typings.SetResetAction,\n    updateExtraFilter(payload: Typings.UpdateExtraFilterAction['payload']): Typings.UpdateExtraFilterAction\n}>({\n    setSearch: ['payload'],\n    setPage: ['payload'],\n    setPerPage: ['payload'],\n    setOrder: ['payload'],\n    setReset: ['payload'],\n    updateExtraFilter: ['payload'],\n})\n\nexport const INITIAL_STATE: Typings.State = {\n    search: '',\n    reset: false,\n    pagination: {page: 1, per_page: 15},\n    order: {direction: 'desc', name: ''}\n}\n\nconst reducer = createReducer(INITIAL_STATE, {\n    [Types.SET_SEARCH]: setSearch,\n    [Types.SET_PAGE]: setPage,\n    [Types.SET_PER_PAGE]: setPerPage,\n    [Types.SET_ORDER]: setOrder,\n    [Types.SET_RESET]: setReset,\n    [Types.UPDATE_EXTRA_FILTER]: updateExtraFilter\n})\n\nfunction setSearch(state = INITIAL_STATE, action: Typings.SetSearchAction): Typings.State {\n    return {\n        ...state, search: action.payload.search, pagination: {...state.pagination, page: 1}, reset: false\n    }\n}\n\nfunction setPage(state = INITIAL_STATE, action: Typings.SetPageAction): Typings.State {\n    return {\n        ...state, pagination: {...state.pagination, page: action.payload.page}, reset: false\n    }\n}\n\nfunction setPerPage(state = INITIAL_STATE, action: Typings.SetPerPageAction): Typings.State {\n    return {\n        ...state, pagination: {...state.pagination, per_page: action.payload.per_page}, reset: false\n    }\n}\n\nfunction setOrder(state = INITIAL_STATE, action: Typings.SetOrderAction): Typings.State {\n    return {\n        ...state,\n        pagination: {...state.pagination, page: 1},\n        order: {name: action.payload.order.name, direction: action.payload.order.direction},\n        reset: false\n    }\n}\n\nfunction updateExtraFilter(state = INITIAL_STATE, action: UpdateExtraFilterAction) {\n    return {\n        ...state,\n        extraFilter: {\n            ...state.extraFilter,\n            ...action.payload // {type: 'Diretor'}\n        }\n    }\n}\n\nfunction setReset(state = INITIAL_STATE, action: SetResetAction) {\n    return {...action.payload.state, reset: true};\n}\n\n\nexport default reducer","import {Dispatch, Reducer, useCallback, useEffect, useMemo, useReducer, useState,} from \"react\";\nimport reducer, {Creators} from \"../store/filter\";\nimport {Actions as FilterActions, State as FilterState,} from \"../store/filter/types\";\nimport {MUIDataTableColumn} from \"mui-datatables\";\nimport {useDebounce} from \"use-debounce\";\nimport {useHistory, useLocation} from \"react-router\";\nimport {isEqual} from \"lodash\";\nimport * as yup from \"yup\";\nimport {ObjectSchema} from \"yup\";\n\ninterface FilterManagerOptions {\n    schema: ObjectSchema<any>;\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    dispatch: Dispatch<FilterActions>;\n    state: FilterState;\n}\n\ninterface ExtraFilter {\n    getStateFromURL: (queryParams: URLSearchParams) => any;\n    formatSearchParams: (debouncedState: FilterState) => any;\n    createValidationSchema: () => any;\n}\n\ninterface UseFilterOptions {\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    rowsPerPageOptions: number[];\n    debounceTime: number;\n    extraFilter?: ExtraFilter;\n}\n\nexport default function useFilter(options: UseFilterOptions) {\n    const history = useHistory();\n    const location = useLocation();\n    const {\n        search: locationSearch,\n        pathname: locationPathname,\n        state: locationState,\n    } = location;\n    const {rowsPerPage, rowsPerPageOptions, extraFilter, columns} = options;\n\n    const schema = useMemo(() => {\n        return yup.object().shape({\n            search: yup\n                .string()\n                .transform((value) => (!value ? undefined : value))\n                .default(\"\"),\n            pagination: yup.object().shape({\n                page: yup\n                    .number()\n                    .transform((value) =>\n                        isNaN(value) || parseInt(value) < 1 ? undefined : value\n                    )\n                    .default(1),\n                per_page: yup\n                    .number()\n                    .transform((value) =>\n                        isNaN(value) || !rowsPerPageOptions.includes(parseInt(value))\n                            ? undefined\n                            : value\n                    )\n                    .default(rowsPerPage),\n            }),\n            order: yup.object().shape({\n                sort: yup\n                    .string()\n                    .nullable()\n                    .transform((value) => {\n                        const columnsName = columns\n                            .filter(\n                                (column) => !column.options || column.options.sort !== false\n                            )\n                            .map((column) => column.name);\n                        return columnsName.includes(value) ? value : undefined;\n                    })\n                    .default(null),\n                dir: yup\n                    .string()\n                    .nullable()\n                    .transform((value) =>\n                        !value || ![\"asc\", \"desc\"].includes(value.toLowerCase())\n                            ? undefined\n                            : value\n                    )\n                    .default(null),\n            }),\n            ...(extraFilter && {\n                extraFilter: extraFilter.createValidationSchema(),\n            }),\n        });\n    }, [rowsPerPageOptions, rowsPerPage, columns, extraFilter]);\n\n    const stateFromUrl = useMemo(() => {\n        const queryParams = new URLSearchParams(location.search.substring(1))\n        return schema.cast({\n            search: queryParams.get('search'),\n            pagination: {\n                page: queryParams.get('page'),\n                per_page: queryParams.get('per_page')\n            },\n            order: {\n                name: queryParams.get('sort'),\n                direction: queryParams.get('dir')\n            },\n            ...(\n                extraFilter && {\n                    extraFilter: extraFilter.getStateFromURL(queryParams)\n                }\n            )\n        })\n    }, [location.search, extraFilter, schema])\n\n    const cleanSearchText = useCallback((text) => {\n        let newText = text;\n        if (text && text.value !== undefined) {\n            newText = text.value;\n        }\n        return newText;\n    }, []);\n\n    const formatSearchParams = useCallback(\n        (state, extraFilter) => {\n            const search = cleanSearchText(state.search);\n            return {\n                ...(search && search !== \"\" && {search: search}),\n                ...(state.pagination.page !== 1 && {page: state.pagination.page}),\n                ...(state.pagination.per_page !== 15 && {\n                    per_page: state.pagination.per_page,\n                }),\n                ...(state.order.name && {\n                    sort: state.order.name,\n                    dir: state.order.direction,\n                }),\n                ...(extraFilter && extraFilter.formatSearchParams(state)),\n            };\n        },\n        [cleanSearchText]\n    );\n\n    const INITIAL_STATE = stateFromUrl;\n    const [filterState, dispatch] = useReducer<Reducer<FilterState, FilterActions>>(reducer, INITIAL_STATE as any);\n    const filterManager = new FilterManager({...options, state: filterState, dispatch, schema});\n    const [debouncedFilterState] = useDebounce(filterState, options.debounceTime);\n    const [totalRecords, setTotalRecords] = useState<number>(0);\n    useEffect(() => {\n        history.replace({\n            pathname: locationPathname,\n            search:\n                \"?\" +\n                new URLSearchParams(formatSearchParams(stateFromUrl, extraFilter)),\n            state: stateFromUrl,\n        });\n    }, [\n        history,\n        locationPathname,\n        formatSearchParams,\n        stateFromUrl,\n        extraFilter,\n    ]);\n\n    useEffect(() => {\n        const newLocation = {\n            pathname: locationPathname,\n            search:\n                \"?\" +\n                new URLSearchParams(\n                    formatSearchParams(debouncedFilterState, extraFilter)\n                ),\n            state: {\n                ...debouncedFilterState,\n                search: cleanSearchText(debouncedFilterState.search),\n            },\n        };\n\n        const oldState = locationState;\n        const nextState = debouncedFilterState;\n\n        if (isEqual(oldState, nextState)) {\n            return;\n        }\n        history.push(newLocation);\n    }, [\n        history,\n        locationPathname,\n        locationSearch,\n        formatSearchParams,\n        locationState,\n        cleanSearchText,\n        debouncedFilterState,\n        extraFilter,\n    ]);\n\n    filterManager.state = filterState;\n\n    filterManager.applyOrderInColumns();\n\n    return {\n        columns: filterManager.columns,\n        cleanSearchText,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        dispatch,\n        totalRecords,\n        setTotalRecords,\n    };\n}\n\nexport class FilterManager {\n    schema;\n    state: FilterState;\n    dispatch: Dispatch<FilterActions>;\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n\n    constructor(options: FilterManagerOptions) {\n        const {\n            schema,\n            columns,\n            rowsPerPage,\n            dispatch,\n            state\n        } = options;\n        this.schema = schema;\n        this.columns = columns;\n        this.rowsPerPage = rowsPerPage;\n        this.dispatch = dispatch;\n        this.state = state;\n    }\n\n\n    changeSearch(value: string | null) {\n        this.dispatch(Creators.setSearch({search: value || ''}))\n    }\n\n    changePage(page: number) {\n        this.dispatch(Creators.setPage({page: page + 1}))\n    }\n\n    changeRowsPerPage(per_page: number) {\n        this.dispatch(Creators.setPerPage({per_page: per_page}))\n    }\n\n    changeColumnSort(changedColumn: string, direction: 'asc' | 'desc') {\n        this.dispatch(Creators.setOrder({\n            order: {\n                name: changedColumn,\n                direction: direction\n            }\n        }))\n    }\n\n    changeExtraFilter(data: any) { //{type: 'Diretor'}\n        this.dispatch(Creators.updateExtraFilter(data));\n    }\n\n    resetFilter() {\n        const INITIAL_STATE = {\n            ...this.schema.cast({}),\n            search: ''\n        };\n        this.dispatch(Creators.setReset({\n            state: INITIAL_STATE as any\n        }));\n    }\n\n    applyOrderInColumns() {\n        this.columns = this.columns.map((column) => {\n            return column.name === this.state.order.name\n                ? {\n                    ...column,\n                    options: {\n                        ...column.options,\n                        sortDirection: this.state.order.direction as any,\n                    },\n                }\n                : column;\n        });\n    }\n}","import {createContext} from \"react\";\n\nconst LoadingContext = createContext(false);\n\nexport default LoadingContext;\n//Provider e Consumer","import * as React from 'react';\nimport {useContext, useEffect, useState} from 'react';\nimport format from 'date-fns/format'\nimport parseIso from 'date-fns/parseISO'\nimport categoryHttp from \"../../util/http/categoryHttp\";\nimport {BadgeNo, BadgeYes} from \"../../components/Badge\";\nimport {Category, ListResponse} from \"../../util/models\";\nimport DefaultTable, {makeActionStyles, TableColumn} from '../../components/Table'\nimport {useSnackbar} from \"notistack\";\nimport {MuiThemeProvider} from \"@material-ui/core/styles\";\nimport {IconButton} from \"@material-ui/core\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport {Link} from \"react-router-dom\";\nimport {FilterResetButton} from \"../../components/Table/FilterResetButton\";\nimport useFilter from \"../../hooks/useFilter\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\n\nconst debounceTimeValue = 300\nconst rowsPerPage = 15\nconst rowsPerPageOptions = [15, 25, 50]\nconst columnsDefinitions: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'Id',\n        width: '30%',\n        options: {\n            filter: false,\n            sort: false\n        }\n    },\n    {\n        name: 'name',\n        label: 'Name',\n        width: '43%',\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: 'is_active',\n        label: 'Active?',\n        width: '4%',\n        options: {\n            filterOptions: {\n                names: ['Yes', 'No']\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value ? <BadgeYes/> : <BadgeNo/>\n            }\n        }\n    },\n    {\n        name: 'created_at',\n        label: 'Created at',\n        width: '10%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseIso(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: 'actions',\n        label: 'Actions',\n        width: '13%',\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue): JSX.Element {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={'/categories/' + tableMeta.rowData[0] + '/edit'}\n                    >\n                        <EditIcon fontSize={'inherit'}/>\n                    </IconButton>\n                )\n            }\n        }\n    },\n]\n\nconst Table = () => {\n    const {enqueueSnackbar} = useSnackbar();\n    const [data, setData] = useState<Category[]>([])\n    const loading = useContext(LoadingContext);\n    const {\n        filterManager,\n        cleanSearchText,\n        filterState,\n        totalRecords,\n        setTotalRecords,\n        debouncedFilterState,\n    } = useFilter({\n        columns: columnsDefinitions,\n        debounceTime: debounceTimeValue,\n        rowsPerPage,\n        rowsPerPageOptions\n    })\n\n    useEffect(() => {\n        categoryHttp.list<ListResponse<Category>>(\n            {\n                queryParams: {\n                    search: cleanSearchText(debouncedFilterState.search),\n                    page: debouncedFilterState.pagination.page,\n                    per_page: debouncedFilterState.pagination.per_page,\n                    sort: debouncedFilterState.order.name,\n                    dir: debouncedFilterState.order.direction\n                }\n            }\n        ).then(({data}) => {\n            setTotalRecords(data.meta.total)\n            setData(data.data)\n        }).catch((error) => {\n            if (categoryHttp.isCancelRequest(error)) {\n                return\n            }\n            enqueueSnackbar('Cannot retrieve information', {variant: 'error'})\n        })\n\n    }, [debouncedFilterState.search,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        setTotalRecords,\n        enqueueSnackbar,\n        cleanSearchText])\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinitions.length - 1)}>\n            <DefaultTable\n                debouncedTimeSearch={debounceTimeValue}\n                loading={loading}\n                columns={columnsDefinitions}\n                data={data}\n                reset={filterState.reset}\n                title={''}\n                options={{\n                    sortOrder: filterState.order,\n                    serverSide: true,\n                    searchText: filterState.search,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    customToolbar: () => (<FilterResetButton handleClick={() => filterManager.resetFilter()}/>),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (per_page) => filterManager.changeRowsPerPage(per_page),\n                    onColumnSortChange: (changedColumn, direction) => filterManager.changeColumnSort(changedColumn, direction),\n                }}>\n            </DefaultTable>\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Box, Fab} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport AddIcon from '@material-ui/icons/Add'\nimport Table from \"./Table\";\n\nconst PageList = () => {\n    return (\n        <Page title={'List Categories'}>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title={'Add Category'}\n                    color={\"secondary\"}\n                    size={'small'}\n                    component={Link}\n                    to={'categories/create'}\n                ><AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","import HttpResource from \"./httpResource\";\nimport {httpVideo} from \"./index\";\n\nexport default new HttpResource(httpVideo, 'genres')\n","import * as React from 'react';\nimport {useCallback, useEffect, useMemo, useRef, useState} from 'react';\nimport format from 'date-fns/format'\nimport parseIso from 'date-fns/parseISO'\nimport {BadgeNo, BadgeYes} from \"../../components/Badge\";\nimport {Category, Genre, ListResponse} from \"../../util/models\";\nimport genreHttp from \"../../util/http/genreHttp\";\nimport DefaultTable, {makeActionStyles, TableColumn} from '../../components/Table'\nimport {useSnackbar} from \"notistack\";\nimport {MuiThemeProvider} from \"@material-ui/core/styles\";\nimport {IconButton} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport useFilter from \"../../hooks/useFilter\";\nimport * as yup from \"yup\";\nimport categoryHttp from \"../../util/http/categoryHttp\";\nimport {FilterResetButton} from \"../../components/Table/FilterResetButton\";\n\nconst columnsDefinitions: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'Id',\n        width: '30%',\n        options: {\n            filter: false,\n            sort: false\n        }\n    },\n    {\n        name: 'name',\n        label: 'Name',\n        width: '20%',\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: 'categories',\n        label: 'categories',\n        options: {\n            filterType: 'multiselect',\n            filterOptions: {\n                names: []\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                let result: string[] = []\n                value.forEach((category: any) => {\n                    result.push(category.name)\n                })\n                return (<span>{result.join(', ')}</span>)\n            }\n        }\n    },\n    {\n        name: 'is_active',\n        label: 'Active?',\n        width: '4%',\n        options: {\n            filterOptions: {\n                names: ['Yes', 'No']\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value ? <BadgeYes/> : <BadgeNo/>\n            }\n        }\n    },\n    {\n        name: 'created_at',\n        label: 'Created at',\n        width: '10%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseIso(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: 'actions',\n        label: 'Actions',\n        width: '13%',\n        options: {\n            filter: false,\n            sort: false,\n            customBodyRender(value, tableMeta, updateValue): JSX.Element {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={'/genres/' + tableMeta.rowData[0] + '/edit'}\n                    >\n                        <EditIcon fontSize={'inherit'}/>\n                    </IconButton>\n                )\n            }\n        }\n    },\n]\n\nconst debounceTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\nconst Table = () => {\n    const {enqueueSnackbar} = useSnackbar();\n    const [data, setData] = useState<Genre[]>([])\n    const [loading, setLoading] = useState<boolean>(false)\n    const subscribed = useRef(true);\n    const extraFilter = useMemo(() => ({\n        createValidationSchema: () => {\n            return yup.object().shape({\n                categories: yup.mixed()\n                    .nullable()\n                    .transform(value => {\n                        return !value || value === '' ? undefined : value.split(',');\n                    })\n                    .default(null),\n            })\n        },\n        formatSearchParams: (debouncedState: any) => {\n            return debouncedState.extraFilter ? {\n                ...(\n                    debouncedState.extraFilter.categories &&\n                    {categories: debouncedState.extraFilter.categories.join(',')}\n                )\n            } : undefined\n        },\n        getStateFromURL: (queryParams: any) => {\n            return {\n                categories: queryParams.get('categories')\n            }\n        }\n    }), [])\n    const {\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        cleanSearchText,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinitions,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        extraFilter: extraFilter\n    });\n\n    const indexColumnCategories = columnsDefinitions.findIndex(c => c.name === 'categories');\n    const columnCategories = columnsDefinitions[indexColumnCategories];\n    const categoriesFilterValue = filterState.extraFilter && filterState.extraFilter.categories;\n    (columnCategories.options as any).filterList = categoriesFilterValue ? categoriesFilterValue : [];\n    const serverSideFilterList = columnsDefinitions.map(column => []);\n    if (categoriesFilterValue) {\n        serverSideFilterList[indexColumnCategories] = categoriesFilterValue;\n    }\n\n    useEffect(() => {\n        let isSubscribed = true;\n        (async () => {\n            try {\n                const {data} = await categoryHttp.list({queryParams: {all: ''}});\n                if (isSubscribed) {\n                    (columnCategories.options as any).filterOptions.names = data.data.map((category: Category) => category.name)\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    'Cannot retrieve information',\n                    {variant: 'error',}\n                )\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n    }, [columnCategories.options, enqueueSnackbar]);\n\n    const getData = useCallback(async () => {\n        setLoading(true);\n        try {\n            const {data} = await genreHttp.list<ListResponse<Genre>>({\n                queryParams: {\n                    search: cleanSearchText(debouncedFilterState.search),\n                    page: debouncedFilterState.pagination.page,\n                    per_page: debouncedFilterState.pagination.per_page,\n                    sort: debouncedFilterState.order.name,\n                    dir: debouncedFilterState.order.direction,\n                    ...(\n                        debouncedFilterState.extraFilter &&\n                        debouncedFilterState.extraFilter.categories &&\n                        {categories: debouncedFilterState.extraFilter.categories.join(',')}\n                    )\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n            }\n        } catch (error) {\n            console.error(error);\n            if (genreHttp.isCancelRequest(error)) {\n                return;\n            }\n            enqueueSnackbar(\n                'Cannot retrieve information',\n                {variant: 'error',}\n            )\n        } finally {\n            setLoading(false);\n        }\n    }, [cleanSearchText,\n        debouncedFilterState.extraFilter,\n        debouncedFilterState.order.direction,\n        debouncedFilterState.order.name,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.search,\n        enqueueSnackbar,\n        setTotalRecords])\n\n    useEffect(() => {\n        subscribed.current = true;\n        getData();\n        return () => {\n            subscribed.current = false;\n        }\n    }, [debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        getData]);\n\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinitions.length - 1)}>\n            <DefaultTable\n                title=\"\"\n                columns={columnsDefinitions}\n                data={data}\n                loading={loading}\n                reset={filterState.reset}\n                debouncedTimeSearch={debounceTime}\n                options={{\n                    sortOrder: filterState.order,\n                    serverSide: true,\n                    searchText: filterState.search,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column, filterList, type) => {\n                        const columnIndex = columnsDefinitions.findIndex(c => c.name === column);\n                        filterManager.changeExtraFilter({\n                            [column as any]: filterList[columnIndex].length ? filterList[columnIndex] : null\n                        })\n                    },\n                    customToolbar: () => (<FilterResetButton handleClick={() => filterManager.resetFilter()}/>),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (per_page) => filterManager.changeRowsPerPage(per_page),\n                    onColumnSortChange: (changedColumn, direction) => filterManager.changeColumnSort(changedColumn, direction),\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Box, Fab} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport AddIcon from '@material-ui/icons/Add'\nimport Table from \"./Table\";\n\nconst PageList = () => {\n    return (\n        <Page title={'List Genres'}>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title={'Add Genre'}\n                    color={\"secondary\"}\n                    size={'small'}\n                    component={Link}\n                    to={'genres/create'}\n                ><AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","export interface ListResponse<T> {\n    data: T[],\n    links: {\n        first: string,\n        last: string,\n        prev: string | null,\n        next: string | null\n    },\n    meta: {\n        current_page: number,\n        from: number,\n        last_page: number,\n        path: string,\n        per_page: number,\n        to: number,\n        total: number\n    }\n}\n\ninterface Timestampable {\n    readonly created_at: string,\n    readonly deleted_at: string | null,\n    readonly updated_at: string\n}\n\n\nexport interface Category extends Timestampable {\n    readonly id: string,\n    name: string,\n    description: string,\n    is_active: boolean\n}\n\nexport interface CastMember extends Timestampable {\n    readonly id: string,\n    name: string,\n    type: number\n}\n\nexport interface Genre extends Timestampable {\n    readonly id: string,\n    name: string,\n    categories: Category[],\n    is_active: boolean\n}\n\nexport const CastMemberTypeMap = {\n    1: 'Director',\n    2: 'Actor'\n};\n\ninterface GenreVideo extends Omit<Genre, 'categories'> {\n\n}\n\nexport const VideoFileFieldsMap = {\n    'thumb_file': 'Thumbnail',\n    'banner_file': 'Banner',\n    'trailer_file': 'Trailer',\n    'video_file': 'Principal',\n};\n\nexport interface Video extends Timestampable{\n    readonly id: string;\n    title: string;\n    description: string;\n    year_launched: number;\n    opened: boolean;\n    rating: string;\n    duration: number;\n    genres: GenreVideo[];\n    categories: Category[];\n    cast_members: CastMember[];\n    thumb_file_url: string;\n    banner_file_url: string;\n    trailer_file_url: string;\n    video_file_url: string;\n}","import HttpResource from \"./httpResource\";\nimport {httpVideo} from \"./index\";\n\nexport default new HttpResource(httpVideo, 'cast_members')\n","import * as React from 'react';\nimport {useCallback, useEffect, useMemo, useRef, useState} from 'react';\nimport format from 'date-fns/format'\nimport parseIso from 'date-fns/parseISO'\nimport {CastMember, CastMemberTypeMap, ListResponse} from \"../../util/models\";\nimport memberHttp from \"../../util/http/memberHttp\";\nimport DefaultTable, {makeActionStyles, TableColumn} from '../../components/Table'\nimport {useSnackbar} from \"notistack\";\nimport {MuiThemeProvider} from \"@material-ui/core/styles\";\nimport {IconButton} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport useFilter from \"../../hooks/useFilter\";\nimport * as yup from \"yup\";\nimport {invert} from 'lodash';\nimport {FilterResetButton} from \"../../components/Table/FilterResetButton\";\n\nconst castMemberNames = Object.values(CastMemberTypeMap);\nconst columnsDefinitions: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'Id',\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: 'name',\n        label: 'Name',\n        width: '40%',\n        options: {\n            filter: false,\n        }\n    },\n    {\n        name: 'type',\n        label: 'Type',\n        width: '7%',\n        options: {\n            filterOptions: {\n                names: castMemberNames\n            },\n            customBodyRender: (value: \"1\" | \"2\", tableMeta, updateValue) => {\n                return CastMemberTypeMap[value];\n\n            },\n        }\n    },\n    {\n        name: 'created_at',\n        label: 'Created at',\n        width: '10%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseIso(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: 'actions',\n        label: 'Actions',\n        width: '13%',\n        options: {\n            filter: false,\n            sort: false,\n            customBodyRender(value, tableMeta, updateValue): JSX.Element {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={'/members/' + tableMeta.rowData[0] + '/edit'}\n                    >\n                        <EditIcon fontSize={'inherit'}/>\n                    </IconButton>\n                )\n            }\n        }\n    },\n]\n\nconst debounceTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\nconst Table = () => {\n    const {enqueueSnackbar} = useSnackbar();\n    const [data, setData] = useState<CastMember[]>([])\n    const [loading, setLoading] = useState<boolean>(false)\n    const subscribed = useRef(true);\n    const extraFilter = useMemo(() => ({\n        createValidationSchema: () => {\n            return yup.object().shape({\n                type: yup.string()\n                    .nullable()\n                    .transform(value => {\n                        return !value || !castMemberNames.includes(value) ? undefined : value;\n                    })\n                    .default(null)\n            })\n        },\n        formatSearchParams: (debouncedState: any) => {\n            return debouncedState.extraFilter\n                ? {\n                    ...(\n                        debouncedState.extraFilter.type &&\n                        {type: debouncedState.extraFilter.type}\n                    ),\n                }\n                : undefined\n        },\n        getStateFromURL: (queryParams: any) => {\n            return {\n                type: queryParams.get('type')\n            }\n        }\n    }), [])\n\n    const {\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        cleanSearchText,\n        totalRecords,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinitions,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        extraFilter: extraFilter\n    });\n    //?type=Diretor\n    const indexColumnType = columnsDefinitions.findIndex(c => c.name === 'type');\n    const columnType = columnsDefinitions[indexColumnType];\n    const typeFilterValue = filterState.extraFilter && filterState.extraFilter.type as never;\n    (columnType.options as any).filterList = typeFilterValue ? [typeFilterValue] : [];\n\n    const serverSideFilterList = columnsDefinitions.map(column => []);\n    if (typeFilterValue) {\n        serverSideFilterList[indexColumnType] = [typeFilterValue];\n    }\n\n    const getData = useCallback(async () => {\n        setLoading(true);\n        try {\n            const {data} = await memberHttp.list<ListResponse<CastMember>>({\n                queryParams: {\n                    search: cleanSearchText(debouncedFilterState.search),\n                    page: debouncedFilterState.pagination.page,\n                    per_page: debouncedFilterState.pagination.per_page,\n                    sort: debouncedFilterState.order.name,\n                    dir: debouncedFilterState.order.direction,\n                    ...(\n                        debouncedFilterState.extraFilter &&\n                        debouncedFilterState.extraFilter.type &&\n                        {type: invert(CastMemberTypeMap)[debouncedFilterState.extraFilter.type]}\n                    )\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n            }\n        } catch (error) {\n            if (memberHttp.isCancelRequest(error)) {\n                return;\n            }\n            enqueueSnackbar(\n                'Cannot retrieve information',\n                {variant: 'error',}\n            )\n        } finally {\n            setLoading(false);\n        }\n    }, [cleanSearchText,\n        debouncedFilterState.extraFilter,\n        debouncedFilterState.order.direction,\n        debouncedFilterState.order.name,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.search,\n        enqueueSnackbar,\n        setTotalRecords])\n\n\n    useEffect(() => {\n        subscribed.current = true;\n        getData();\n        return () => {\n            subscribed.current = false;\n        }\n    }, [debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        getData]);\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinitions.length - 1)}>\n            <DefaultTable\n                title=\"\"\n                columns={columnsDefinitions}\n                data={data}\n                loading={loading}\n                debouncedTimeSearch={debounceTime}\n                options={{\n                    sortOrder: filterState.order,\n                    serverSide: true,\n                    searchText: filterState.search,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column, filterList, type) => {\n                        const columnIndex = columnsDefinitions.findIndex(c => c.name === column);\n                        //[ [], [], ['Diretor'], [], []  ]\n                        filterManager.changeExtraFilter({\n                            [column as any]: filterList[columnIndex].length ? filterList[columnIndex][0] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton\n                            handleClick={() => filterManager.resetFilter()}\n                        />\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction as any)\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Box, Fab} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport AddIcon from '@material-ui/icons/Add'\nimport Table from \"./Table\";\n\nconst PageList = () => {\n    return (\n        <Page title={'List CastMembers'}>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title={'Add Cast Member'}\n                    color={'secondary'}\n                    size={'small'}\n                    component={Link}\n                    to={'members/create'}\n                ><AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","import HttpResource from \"./httpResource\";\nimport {httpVideo} from \"./index\";\n\nexport default new HttpResource(httpVideo, 'videos')\n","import {useEffect, useState} from \"react\";\n\nconst useDeleteCollection = () => {\n    const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n    const [rowsToDelete, setRowsToDelete] = useState<{ data: Array<{ index:any, dataIndex:any }> }>({data: []});\n\n    useEffect(() => {\n        if (rowsToDelete.data.length) {\n            setOpenDeleteDialog(true);\n        }\n    }, [rowsToDelete]);\n\n    return {\n        openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete\n    }\n};\n\nexport default useDeleteCollection;","import * as React from 'react';\nimport {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from \"@material-ui/core\";\n\ninterface DeleteDialogProps {\n    open: boolean;\n    handleClose: (confirmed: boolean) => void;\n}\n\nconst DeleteDialog: React.FC<DeleteDialogProps> = (props) => {\n\n    const {open, handleClose} = props;\n\n    return (\n        <Dialog\n            open={open}\n            onClose={() => handleClose(false)}\n        >\n            <DialogTitle>\n                Delete register\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                   Do you really want to remove this registry(s)?\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => handleClose(false)} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button onClick={() => handleClose(true)} color=\"primary\" autoFocus>\n                    Delete\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default DeleteDialog;","import * as React from 'react';\nimport {useCallback, useContext, useEffect, useRef, useState} from 'react';\nimport format from \"date-fns/format\";\nimport parseISO from \"date-fns/parseISO\";\nimport videoHttp from \"../../util/http/videosHttp\";\nimport {ListResponse, Video} from \"../../util/models\";\nimport DefaultTable, {makeActionStyles, TableColumn} from '../../components/Table';\nimport {useSnackbar} from \"notistack\";\nimport {IconButton, MuiThemeProvider} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport {FilterResetButton} from \"../../components/Table/FilterResetButton\";\nimport useFilter from \"../../hooks/useFilter\";\nimport useDeleteCollection from \"../../hooks/useDeleteCollection\";\nimport DeleteDialog from \"../../components/DeleteDialog\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"title\",\n        label: \"Title\",\n        width: '20%',\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"genres\",\n        label: \"Genres\",\n        width: '13%',\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta, updateValue) => {\n                return value.map((value: any) => value.name).join(', ');\n            }\n        }\n    },\n    {\n        name: \"categories\",\n        label: \"Categories\",\n        width: '12%',\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta, updateValue) => {\n                return value.map((value: any) => value.name).join(', ');\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Created at\",\n        width: '10%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"actions\",\n        label: \"Actions\",\n        width: '13%',\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/videos/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                )\n            }\n        }\n    }\n];\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\nconst Table = () => {\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [data, setData] = useState<Video[]>([]);\n    const loading = useContext(LoadingContext);\n    const {openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete} = useDeleteCollection();\n//property, funcao - changePage changeRowsPerPage\n    const {\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        cleanSearchText,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n    });\n\n    const getData = useCallback(async () => {\n        try {\n            const {data} = await videoHttp.list<ListResponse<Video>>({\n                queryParams: {\n                    search: cleanSearchText(debouncedFilterState.search),\n                    page: debouncedFilterState.pagination.page,\n                    per_page: debouncedFilterState.pagination.per_page,\n                    sort: debouncedFilterState.order.name,\n                    dir: debouncedFilterState.order.direction,\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n                if (openDeleteDialog) {\n                    setOpenDeleteDialog(false);\n                }\n            }\n        } catch (error) {\n            console.error(error);\n            if (videoHttp.isCancelRequest(error)) {\n                return;\n            }\n            snackbar.enqueueSnackbar(\n                'Cannot loading informations',\n                {variant: 'error',}\n            )\n        }\n    }, [cleanSearchText,\n        debouncedFilterState.order.direction,\n        debouncedFilterState.order.name,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.search,\n        openDeleteDialog,\n        setOpenDeleteDialog,\n        setTotalRecords,\n        snackbar])\n\n    useEffect(() => {\n        subscribed.current = true;\n        getData();\n        return () => {\n            subscribed.current = false;\n        }\n    }, [debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        getData]);\n\n    function deleteRows(confirmed: boolean) {\n        if (!confirmed) {\n            setOpenDeleteDialog(false);\n            return;\n        }\n        const ids = rowsToDelete\n            .data\n            .map(value => data[value.index].id)\n            .join(',');\n        videoHttp\n            .deleteCollection({ids})\n            .then((response: any) => {\n                snackbar.enqueueSnackbar(\n                    'Registries removed',\n                    {variant: 'success'}\n                );\n                if (\n                    rowsToDelete.data.length === filterState.pagination.per_page\n                    && filterState.pagination.page > 1\n                ) {\n                    const page = filterState.pagination.page - 2;\n                    filterManager.changePage(page);\n                } else {\n                    getData();\n                }\n            })\n            .catch((error: any) => {\n                console.error(error);\n                snackbar.enqueueSnackbar(\n                    'Cannot remove registries',\n                    {variant: 'error',}\n                )\n            })\n    }\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows}/>\n            <DefaultTable\n                title=\"\"\n                columns={columnsDefinition}\n                data={data}\n                reset={filterState.reset}\n                loading={loading}\n                debouncedTimeSearch={debouncedSearchTime}\n                options={{\n                    serverSide: true,\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    customToolbar: () => (\n                        <FilterResetButton\n                            handleClick={() => filterManager.resetFilter()}\n                        />\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: 'asc' | 'desc') =>\n                        filterManager.changeColumnSort(changedColumn, direction),\n                    onRowsDelete: (rowsDeleted, newTableData) => {\n                        setRowsToDelete(rowsDeleted as any)\n                        return false\n                    },\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Box, Fab} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport AddIcon from '@material-ui/icons/Add'\nimport Table from \"./Table\";\n\nconst PageList = () => {\n    return (\n        <Page title={'List Videos'}>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title={'Add Video'}\n                    color={'secondary'}\n                    size={'small'}\n                    component={Link}\n                    to={'videos/create'}\n                ><AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","// @flow\nimport * as React from 'react';\nimport {Box, Button, ButtonProps} from \"@material-ui/core\";\nimport {makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    submit: {\n        margin: theme.spacing(1)\n    }\n}))\n\ninterface SubmitActionsProps {\n    disabledButtons?: boolean;\n    handleSave: () => void;\n}\n\nexport const SubmitActions: React.FC<SubmitActionsProps> = (props) => {\n        const classes = useStyles()\n        const buttonProps: ButtonProps = {\n            variant: 'contained',\n            color: 'secondary',\n            disabled: !!props.disabledButtons,\n            className: classes.submit\n        }\n        return (\n            <Box dir={'ltf'}>\n                <Button\n                    {...buttonProps}\n                    onClick={props.handleSave}\n                >Save</Button>\n                <Button\n                    type={\"submit\"}\n                    {...buttonProps}\n                >Save and continue editing</Button>\n            </Box>\n        );\n    }\n;","// @flow\nimport * as React from 'react';\nimport {Grid, GridProps} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\ninterface DefaultFormProps extends React.DetailedHTMLProps<React.FormHTMLAttributes<HTMLFormElement>, HTMLFormElement> {\n    GridContainerProps?: GridProps\n    GridItemProps?: GridProps\n}\n\nconst useStyles = makeStyles(theme => ({\n        gridItem: {\n            padding: theme.spacing(1, 0)\n        }\n    }\n))\n\nexport const DefaultForm: React.FC<DefaultFormProps> = (props) => {\n    const classes = useStyles()\n    const {GridContainerProps, GridItemProps, ...other} = props\n    return (\n        <form{...other}>\n            <Grid container {...GridContainerProps}>\n                <Grid item {...GridItemProps} className={classes.gridItem}>\n                    {props.children}\n                </Grid>\n            </Grid>\n        </form>\n    )\n};","// @flow\nimport * as React from 'react';\nimport {useContext, useEffect} from 'react';\nimport {Checkbox, FormControlLabel, TextField} from \"@material-ui/core\";\nimport {Controller, useForm} from \"react-hook-form\";\nimport categoryHttp from \"../../util/http/categoryHttp\";\nimport * as yup from 'yup';\nimport {yupResolver} from '@hookform/resolvers/yup'\nimport {useHistory, useParams} from \"react-router\";\nimport {useSnackbar} from \"notistack\";\nimport {SubmitActions} from \"../../components/SubmitActions\";\nimport {DefaultForm} from \"../../components/DefaultForm\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\n\n\nconst validationSchema = yup.object().shape({\n    name: yup\n        .string()\n        .label('Name')\n        .required()\n        .max(25)\n        .label('Name')\n})\n\nexport const Form = () => {\n    const {id} = useParams() as any\n    const {enqueueSnackbar} = useSnackbar();\n    const loading = useContext(LoadingContext);\n    const history = useHistory();\n\n    interface UseFormInputs {\n        name: string,\n        description: string,\n        is_active: boolean\n    }\n\n    const {\n        handleSubmit,\n        getValues,\n        control,\n        reset,\n        watch,\n        setValue,\n        trigger,\n        formState: {errors}\n    } = useForm<UseFormInputs>({\n        defaultValues: {name: '', description: '', is_active: true},\n        resolver: yupResolver(validationSchema)\n    })\n\n    useEffect(() => {\n        if (!id) {\n            return\n        }\n        categoryHttp.get(id).then(({data}) => {\n            reset(data.data)\n        }).catch(() => {\n            history.push('/categories')\n            enqueueSnackbar('Category not found', {variant: 'error'})\n        })\n    }, [id, reset, enqueueSnackbar, history])\n\n    function onSubmit(formData: any, event: any) {\n        const requestHttp = id ? categoryHttp.update(id, formData) : categoryHttp.create(formData)\n        requestHttp.then(({data}) => {\n            enqueueSnackbar('Category save successful', {variant: 'success'})\n            event ? (\n                    id ? history.replace(`/categories/${data.data.id}/edit`) : history.push(`/categories/${data.data.id}/edit`)\n                ) :\n                history.push('/categories')\n        }).catch((error) => {\n            enqueueSnackbar(error.message, {variant: 'success'})\n        })\n    }\n\n    return (\n        <DefaultForm GridItemProps={{xs: 12, md: 6}} onSubmit={handleSubmit(onSubmit)}>\n            <Controller control={control} render={({field: props}) => (\n                <TextField\n                    {...props}\n                    type={'text'}\n                    label={'Name'}\n                    fullWidth\n                    variant={'outlined'}\n                    margin={'normal'}\n                    disabled={loading}\n                    error={!!errors.name}\n                    helperText={errors.name && errors.name.message}\n                    InputLabelProps={{shrink: true}}\n                />\n            )} name={'name'}/>\n\n            <Controller control={control} render={({field: props}) => (\n                <TextField\n                    {...props}\n                    name={'description'}\n                    label={'Description'}\n                    variant={'outlined'}\n                    value={props.value || ''}\n                    disabled={loading}\n                    multiline\n                    fullWidth\n                    rows={4}\n                    InputLabelProps={{shrink: true}}\n                />\n            )} name={'description'}/>\n\n            <Controller\n                name=\"is_active\"\n                control={control}\n                render={({field: props}) => (\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                {...props}\n                                checked={watch('is_active')}\n                                disabled={loading}\n                                onChange={(e) => {\n                                    setValue('is_active', !getValues()['is_active'])\n                                }\n                                }\n                            />\n                        }\n                        label=\"Active?\"\n                    />\n                )}\n            />\n            <SubmitActions disabledButtons={loading} handleSave={async () => {\n                await trigger();\n                if (!errors.name) {\n                    onSubmit(getValues(), null)\n                }\n            }}/>\n        </DefaultForm>\n    );\n};","// @flow\nimport * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Form} from \"./Form\";\nimport {useParams} from 'react-router'\n\nconst PageForm = () => {\n    const {id} = useParams() as any\n    return (\n        <Page title={id ? 'Edit Category' : 'Create Category'}>\n            <Form/>\n        </Page>\n    );\n};\n\nexport default PageForm;","// @flow\nimport * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {Checkbox, FormControlLabel, MenuItem, TextField} from \"@material-ui/core\";\nimport {Controller, useForm} from \"react-hook-form\";\nimport genreHttp from \"../../util/http/genreHttp\";\nimport categoryHttp from \"../../util/http/categoryHttp\";\nimport {useHistory, useParams} from \"react-router\";\nimport {useSnackbar} from \"notistack\";\nimport {yupResolver} from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport {Category, ListResponse} from \"../../util/models\";\nimport {SubmitActions} from \"../../components/SubmitActions\";\n\nexport const Form = () => {\n    const {id} = useParams() as any\n    const {enqueueSnackbar} = useSnackbar();\n    const [loading, setLoading] = useState(false)\n    const [selectedCategory, setSelectedCategory] = useState([])\n    const [categories, setCategories] = useState<Category[]>([])\n    const history = useHistory();\n\n    interface UseFormInputs {\n        name: string,\n        categories_id: string[],\n        is_active: boolean\n    }\n\n    const validationSchema = yup.object().shape({\n        name: yup\n            .string()\n            .label('Name')\n            .required()\n            .max(25)\n            .label('Name'),\n        categories_id: yup.array().required()\n    })\n\n    const {\n        handleSubmit,\n        getValues,\n        control,\n        reset,\n        trigger,\n        watch,\n        setValue,\n        formState: {errors}\n    } = useForm<UseFormInputs>({\n        defaultValues: {name: '', is_active: true, categories_id: []},\n        resolver: yupResolver(validationSchema)\n    })\n\n\n    useEffect(() => {\n        categoryHttp.list<ListResponse<Category>>({queryParams: {all: ''}}).then(({data}) => {\n            setCategories(data.data)\n        }).catch(() => {\n            history.push('/genres')\n            enqueueSnackbar('Fail to retrieve list of categories', {variant: 'error'})\n        })\n    }, [enqueueSnackbar, history])\n\n    useEffect(() => {\n        if (!id) {\n            return\n        }\n        setLoading(true)\n        genreHttp.get(id).then(({data}) => {\n            setLoading(false)\n            let selCat = data.data.categories.map((element: any) => element.id)\n            let filterData = {name: data.data.name, is_active: data.data.is_active, categories_id: selCat}\n            setSelectedCategory(selCat)\n            reset(filterData)\n\n        }).catch((err) => {\n            setLoading(false)\n            history.push('/genres')\n            enqueueSnackbar('Genre not found', {variant: 'error'})\n        })\n    }, [enqueueSnackbar, history, id, reset, setValue])\n\n    function onSubmit(formData: any, event: any) {\n        setLoading(true)\n        const requestHttp = id ? genreHttp.update(id, formData) : genreHttp.create(formData)\n        requestHttp.then(({data}) => {\n            setLoading(false)\n            enqueueSnackbar('Genre save successful', {variant: 'success'})\n            event ? (\n                    id ? history.replace(`/genres/${data.data.id}/edit`) : history.push(`/genres/${data.data.id}/edit`)\n                ) :\n                history.push('/genres')\n        }).catch((error) => {\n            setLoading(false)\n            enqueueSnackbar(error.message, {variant: 'error'})\n        })\n    }\n\n    const handleFieldChange = (event: any) => {\n        event.persist();\n        setSelectedCategory(event.target.value)\n        setValue('categories_id', event.target.value)\n    };\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <Controller control={control} render={({field: props}) => (\n                <TextField\n                    {...props}\n                    type={'text'}\n                    label={'Name'}\n                    fullWidth\n                    variant={'outlined'}\n                    margin={'normal'}\n                    disabled={loading}\n                    error={!!errors.name}\n                    helperText={errors.name && errors.name.message}\n                    InputLabelProps={{shrink: true}}\n                />\n            )} name={'name'}/>\n\n            <Controller control={control} render={({field: props}) => (\n                <TextField\n                    {...props}\n                    select\n                    fullWidth\n                    label={'Categories'}\n                    variant=\"outlined\"\n                    SelectProps={{\n                        defaultValue: [],\n                        multiple: true,\n                        value: selectedCategory,\n                        onChange: handleFieldChange\n                    }}\n                >\n                    <MenuItem value='first' disabled>\n                        <em>Select Category</em>\n                    </MenuItem>\n                    {\n                        categories.map((category: any, key) => {\n                            return <MenuItem key={key} value={category.id}>{category.name}</MenuItem>\n                        })\n                    }\n                </TextField>\n            )} name={'categories_id'}/>\n\n\n            <Controller\n                name=\"is_active\"\n                control={control}\n                render={({field: props}) => (\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                {...props}\n                                checked={watch('is_active')}\n                                disabled={loading}\n                                onChange={(e) => {\n                                    setValue('is_active', !getValues()['is_active'])\n                                }\n                                }\n                            />\n                        }\n                        label=\"Active?\"\n                    />\n                )}\n            />\n\n            <SubmitActions disabledButtons={loading} handleSave={async () => {\n                await trigger();\n                if (!errors.name && !errors.categories_id) {\n                    onSubmit(getValues(), null)\n                }\n            }}/>\n        </form>\n    );\n};","// @flow\nimport * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Form} from \"./Form\";\nimport {useParams} from \"react-router\";\n\n\nconst PageForm = () => {\n    const {id} = useParams() as any\n    return (\n        <Page title={id ? 'Edit Genre' : 'Create Genre'}>\n            <Form/>\n        </Page>\n    );\n};\n\nexport default PageForm;","import * as React from 'react';\nimport {makeStyles, Typography} from \"@material-ui/core\";\n\nlet useStyles = makeStyles({\n    root: {\n        width: '36px',\n        height: '36px',\n        fontSize: '1.2em',\n        color: '#fff',\n        borderRadius: '#4px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    }\n})\n\nconst backgroundColors = {\n    'L': '#39B549',\n    '10': '#20A3D4',\n    '12': '#E79738',\n    '14': '#E35E00',\n    '16': '#d00003',\n    '18': '#000000'\n};\n\ninterface RatingProps {\n    rating: 'L' | '10' | '12' | '14' | '16' | '18'\n}\n\n\nconst Rating: React.FC<RatingProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Typography\n            className={classes.root}\n            style={{\n                backgroundColor: backgroundColors[props.rating]\n            }}\n        >\n            {props.rating}\n        </Typography>\n    );\n};\n\n\nexport default Rating;","// @flow\nimport * as React from 'react';\nimport {Box, FormControl, FormControlLabel, FormHelperText, FormLabel, Radio, RadioGroup} from \"@material-ui/core\";\nimport {FormControlLabelProps} from \"@material-ui/core/FormControlLabel\";\nimport Rating from \"../../../components/Rating\";\nimport {FormControlProps} from \"@material-ui/core/FormControl\";\n\ninterface RatingFieldProps {\n    value: string;\n    setValue: (value: any) => void\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n}\n\nconst ratings: FormControlLabelProps[] = [\n    {value: \"L\", control: <Radio color=\"primary\"/>, label: <Rating rating={'L'}/>, labelPlacement: \"top\"},\n    {value: \"10\", control: <Radio color=\"primary\"/>, label: <Rating rating={'10'}/>, labelPlacement: \"top\"},\n    {value: \"12\", control: <Radio color=\"primary\"/>, label: <Rating rating={'12'}/>, labelPlacement: \"top\"},\n    {value: \"14\", control: <Radio color=\"primary\"/>, label: <Rating rating={'14'}/>, labelPlacement: \"top\"},\n    {value: \"16\", control: <Radio color=\"primary\"/>, label: <Rating rating={'16'}/>, labelPlacement: \"top\"},\n    {value: \"18\", control: <Radio color=\"primary\"/>, label: <Rating rating={'18'}/>, labelPlacement: \"top\"},\n];\n\nconst RatingField: React.FC<RatingFieldProps> = (props) => {\n    const {value, setValue, error, disabled} = props;\n    return (\n        <FormControl\n            error={error !== undefined}\n            disabled={disabled === true}\n            {...props.FormControlProps}\n        >\n            <FormLabel component=\"legend\">Classification</FormLabel>\n            <Box paddingTop={1}>\n                <RadioGroup\n                    name=\"rating\"\n                    onChange={(e) => {\n                        setValue(e.target.value);\n                    }}\n                    value={value}\n                    row\n                >\n                    {\n                        ratings.map(\n                            (props, key) => <FormControlLabel key={key} {...props}/>\n                        )\n                    }\n                </RadioGroup>\n            </Box>\n            {\n                error && <FormHelperText>{error.message}</FormHelperText>\n            }\n        </FormControl>\n    );\n};\n\nexport default RatingField;","import * as React from 'react';\nimport {InputAdornment, TextField} from \"@material-ui/core\";\nimport {MutableRefObject, RefAttributes, useImperativeHandle, useRef, useState} from \"react\";\nimport {TextFieldProps} from \"@material-ui/core/TextField\";\n\nexport interface InputFileProps extends RefAttributes<InputFileComponent> {\n    ButtonFile: React.ReactNode;\n    InputFileProps?: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n    TextFieldProps?: TextFieldProps;\n}\n\nexport interface InputFileComponent {\n    openWindow: () => void\n    clear: () => void\n}\n\n\nconst InputFile = React.forwardRef<InputFileComponent, InputFileProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<HTMLInputElement>;\n    const [filename, setFilename] = useState(\"\");\n\n    const textFieldProps: TextFieldProps = {\n        variant: 'outlined',\n        ...props.TextFieldProps,\n        InputProps: {\n            ...(\n                props.TextFieldProps && props.TextFieldProps.InputProps &&\n                {...props.TextFieldProps.InputProps}\n            ),\n            readOnly: true,\n            endAdornment: (\n                <InputAdornment position={\"end\"}>\n                    {props.ButtonFile}\n                </InputAdornment>\n            )\n        },\n        value: filename\n    };\n\n    const inputFileProps = {\n        ...props.InputFileProps,\n        hidden: true,\n        ref: fileRef,\n        onChange(event: any) {\n            const files = event.target.files;\n            if (files.length) {\n                setFilename(\n                    Array.from(files).map((file: any) => file.name).join(', ')\n                );\n            }\n            if (props.InputFileProps && props.InputFileProps.onChange) {\n                props.InputFileProps.onChange(event)\n            }\n        }\n    };\n\n    useImperativeHandle(ref, () => ({\n        openWindow: () => fileRef.current.click(),\n        clear: () => setFilename(\"\")\n    }));\n\n    return (\n        <>\n            <input type=\"file\" {...inputFileProps}/>\n            <TextField {...textFieldProps}/>\n        </>\n    );\n});\n\nexport default InputFile","import * as React from 'react';\nimport {MutableRefObject, RefAttributes, useImperativeHandle, useRef} from 'react';\nimport {Button, FormControl} from \"@material-ui/core\";\nimport {FormControlProps} from \"@material-ui/core/FormControl\";\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\nimport InputFile, {InputFileComponent} from \"../../../components/InputFile\";\n\ninterface UploadFieldProps extends RefAttributes<UploadFieldComponent> {\n    accept: string,\n    label: string;\n    setValue: (value: any) => void\n    error?: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n}\n\nexport interface UploadFieldComponent {\n    clear: () => void\n}\n\nconst UploadField = React.forwardRef<UploadFieldComponent, UploadFieldProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<InputFileComponent>;\n    const {\n        accept,\n        label,\n        setValue,\n        error,\n        disabled\n    } = props;\n\n    useImperativeHandle(ref, () => ({\n        clear: () => fileRef.current.clear()\n    }));\n\n    return (\n        <FormControl\n            error={error !== undefined}\n            disabled={disabled === true}\n            fullWidth\n            margin={\"normal\"}\n            {...props.FormControlProps}\n        >\n            <InputFile\n                ref={fileRef}\n                TextFieldProps={{\n                    label: label,\n                    InputLabelProps: {shrink: true},\n                    style: {backgroundColor: '#ffffff'}\n                }}\n                InputFileProps={{\n                    accept,\n                    onChange(event) {\n                        const files = event.target.files as any;\n                        files.length && setValue(files[0])\n                    }\n                }}\n                ButtonFile={\n                    <Button\n                        endIcon={<CloudUploadIcon/>}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                        onClick={() => fileRef.current.openWindow()}\n                    >\n                        Add\n                    </Button>\n                }\n            />\n        </FormControl>\n    );\n});\n\nexport default UploadField;","import * as React from 'react';\nimport {Autocomplete, AutocompleteProps, UseAutocompleteProps} from \"@material-ui/lab\";\nimport {TextFieldProps} from \"@material-ui/core/TextField\";\nimport {CircularProgress, TextField} from \"@material-ui/core\";\nimport {useState, useEffect, useImperativeHandle} from \"react\";\nimport {useDebounce} from \"use-debounce\";\nimport {RefAttributes} from 'react';\n\ninterface AsyncAutocompleteProps extends RefAttributes<AsyncAutocompleteComponent> {\n    fetchOptions: (searchText: string) => Promise<any>;\n    debounceTime?: number;\n    TextFieldProps?: TextFieldProps;\n    AutocompleteProps?: Omit<AutocompleteProps<any, any, any, any>, 'renderInput'> & UseAutocompleteProps<any, any, any, any>;\n}\n\nexport interface AsyncAutocompleteComponent {\n    clear: () => void;\n}\n\nconst AsyncAutocomplete = React.forwardRef<AsyncAutocompleteComponent, AsyncAutocompleteProps>((props, ref) => {\n\n    const {AutocompleteProps, debounceTime = 300, fetchOptions} = props;\n    const {freeSolo = false, onOpen, onClose, onInputChange} = AutocompleteProps as any;\n    const [open, setOpen] = useState(false);\n    const [searchText, setSearchText] = useState(\"\");\n    const [debouncedSearchText] = useDebounce(searchText, debounceTime);\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState([]);\n\n    const textFieldProps: TextFieldProps = {\n        margin: 'normal',\n        variant: 'outlined',\n        fullWidth: true,\n        InputLabelProps: {shrink: true},\n        ...(props.TextFieldProps && {...props.TextFieldProps})\n    };\n\n    const autocompleteProps: AutocompleteProps<any, any, any, any> = {\n        loadingText: 'Loading...',\n        noOptionsText: 'No items found',\n        ...(AutocompleteProps && {...AutocompleteProps}),\n        open,\n        options,\n        loading: loading,\n        inputValue: searchText,\n        onOpen() {\n            setOpen(true);\n            onOpen && onOpen();\n        },\n        onClose() {\n            setOpen(false);\n            onClose && onClose();\n        },\n        onInputChange(event: any, value: any) {\n            setSearchText(value);\n            onInputChange && onInputChange();\n        },\n        renderInput: (params: any) => {\n            return <TextField\n                {...params}\n                {...textFieldProps}\n                InputProps={{\n                    ...params.InputProps,\n                    endAdornment: (\n                        <>\n                            {loading && <CircularProgress color={\"inherit\"} size={20}/>}\n                            {params.InputProps.endAdornment}\n                        </>\n                    )\n                }}\n            />\n        }\n    };\n\n    useImperativeHandle(ref, () => ({\n        clear: () => {\n            setSearchText(\"\");\n            setOptions([]);\n        }\n    }));\n\n    useEffect(() => {\n        if (!open && !freeSolo) {\n            setOptions([]);\n        }\n    }, [open, freeSolo]);\n\n    useEffect(() => {\n        if ((!open || debouncedSearchText === \"\") && freeSolo) {\n            return;\n        }\n        let isSubscribed = true;\n        (async () => {\n            setLoading(true);\n            try {\n                const data = await fetchOptions(debouncedSearchText);\n                if (isSubscribed) {\n                    setOptions(data);\n                }\n            } finally {\n                setLoading(false);\n            }\n        })();\n        return () => {\n            isSubscribed = false;\n        }\n    }, [freeSolo, debouncedSearchText, open, fetchOptions]);\n\n    return (\n        <Autocomplete {...autocompleteProps}/>\n    );\n});\n\nexport default AsyncAutocomplete;\n\n","import * as React from 'react';\nimport {createStyles, Grid, makeStyles, Theme} from \"@material-ui/core\";\nimport {GridProps} from \"@material-ui/core/Grid\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            backgroundColor: '#f1f1f1',\n            borderRadius: '4px',\n            padding: theme.spacing(1, 1),\n            color: theme.palette.secondary.main\n        },\n    }),\n);\n\ninterface GridSelectedProps extends GridProps {\n\n}\n\nexport const GridSelected: React.FC<GridSelectedProps> = (props) => {\n    const classes = useStyles();\n    return <Grid container wrap={\"wrap\"} className={classes.root} {...props}>\n    {props.children}\n    </Grid>\n};\n\nexport default GridSelected;","// @flow\nimport * as React from 'react';\nimport {Grid, IconButton} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport {GridProps} from \"@material-ui/core/Grid\";\n\ninterface GridSelectedItemProps extends GridProps {\n    onDelete: () => void\n}\n\nexport const GridSelectedItem: React.FC<GridSelectedItemProps> = (props) => {\n    const {onDelete, children, ...other} = props;\n    return <Grid item {...other}>\n        <Grid container alignItems={\"center\"} spacing={3}>\n            <Grid item xs={1}>\n                <IconButton size={\"small\"} color={\"inherit\"} onClick={onDelete}>\n                    <DeleteIcon/>\n                </IconButton>\n            </Grid>\n            <Grid item xs={10} md={11}>\n                {children}\n            </Grid>\n        </Grid>\n    </Grid>\n};\n\nexport default GridSelectedItem;","import {useSnackbar} from \"notistack\";\nimport axios from 'axios';\nimport {useCallback} from \"react\";\n\nconst useHttpHandled = () => {\n    const {enqueueSnackbar} = useSnackbar();\n    return useCallback(async (request: Promise<any>) => {\n        try {\n            const {data} = await request;\n            return data;\n        } catch (e) {\n            console.error(e);\n            if (!axios.isCancel(e)) {\n                enqueueSnackbar(\n                    'Cannot load information',\n                    {variant: 'error',}\n                );\n            }\n            throw e;\n        }\n    }, [enqueueSnackbar])\n};\n\nexport default useHttpHandled;","import {useSnackbar} from \"notistack\";\n\nconst useCollectionManager = (collection: any[], setCollection: (item: any) => void) => {\n    const snackbar = useSnackbar();\n    return {\n        addItem(item: any) {\n            if (!item || item === \"\") {\n                return;\n            }\n            const exists = collection.find(i => i.id === item.id);\n            if (exists) {\n                snackbar.enqueueSnackbar(\n                    'Item already Add', {variant: 'info'}\n                );\n                return;\n            }\n            collection.unshift(item);\n            setCollection(collection);\n        },\n        removeItem(item: any) {\n            const index = collection.findIndex(i => i.id === item.id);\n            if (index === -1) {\n                return;\n            }\n            collection.splice(index, 1);\n            setCollection(collection);\n        }\n    }\n};\n\nexport default useCollectionManager;","import {Category, Genre} from \"./models\";\n\n\nexport function getGenresFromCategory(genres: Genre[], category: Category) {\n    return genres.filter(\n        genre => genre.categories.filter(cat => cat.id === category.id).length !== 0\n    )\n}","// @flow\nimport * as React from 'react';\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from \"../../../components/AsyncAutoComplete\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport {FormControl, FormControlProps, FormHelperText, Typography, useTheme} from \"@material-ui/core\";\nimport useHttpHandled from \"../../../hooks/useHttpHandled\";\nimport genreHttp from \"../../../util/http/genreHttp\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport {getGenresFromCategory} from \"../../../util/model-filters\";\nimport {useCallback, useImperativeHandle} from \"react\";\nimport {useRef} from \"react\";\nimport {MutableRefObject} from \"react\";\n\ninterface GenreFieldProps {\n    genres: any[],\n    setGenres: (genres: any) => void\n    categories: any[],\n    setCategories: (categories: any) => void\n    error: any\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n}\n\nexport interface GenreFieldComponent {\n    clear: () => void\n}\n\nconst GenreField = React.forwardRef<GenreFieldComponent, GenreFieldProps>((props, ref) => {\n    const {\n        genres,\n        setGenres,\n        categories,\n        setCategories,\n        error,\n        disabled\n    } = props;\n    const autocompleteHttp = useHttpHandled();\n    const {addItem, removeItem} = useCollectionManager(genres, setGenres);\n    const {removeItem: removeCategory} = useCollectionManager(categories, setCategories);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n    const theme = useTheme();\n\n    const fetchOptions = useCallback((searchText: string) =>{\n        return autocompleteHttp(\n            genreHttp\n                .list({\n                    queryParams: {\n                        search: searchText, all: \"\"\n                    }\n                })\n        ).then(data => data.data)\n    },[autocompleteHttp])\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n\n    return (\n        <>\n            <AsyncAutocomplete\n                fetchOptions={fetchOptions}\n                ref={autocompleteRef}\n                AutocompleteProps={{\n                    //autoSelect: true,\n                    options: [],\n                    clearOnEscape: true,\n                    freeSolo: true,\n                    getOptionLabel: option => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (event, value) => addItem(value),\n                    disabled\n                }}\n                TextFieldProps={{\n                    label: 'Genres',\n                    error: error !== undefined\n                }}\n            />\n            <FormHelperText style={{height: theme.spacing(3)}}>\n                Choose video genres\n            </FormHelperText>\n            <FormControl\n                margin={\"normal\"}\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        genres.map((genre, key) => (\n                            <GridSelectedItem\n                                key={key}\n                                onDelete={() => {\n                                    const categoriesWithOneGenre = categories\n                                        .filter(category => {\n                                            const genresFromCategory = getGenresFromCategory(genres, category);\n                                            return genresFromCategory.length === 1 && genresFromCategory[0].id === genre.id\n                                        });\n                                    categoriesWithOneGenre.forEach(cat => removeCategory(cat));\n                                    removeItem(genre)\n                                }}\n                                xs={12}>\n                                <Typography noWrap={true}>\n                                    {genre.name}\n                                </Typography>\n                            </GridSelectedItem>\n                        ))\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default GenreField;","// @flow\nimport * as React from 'react';\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from \"../../../components/AsyncAutoComplete\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport {\n    FormControl,\n    FormControlProps,\n    FormHelperText,\n    makeStyles,\n    Theme,\n    Typography,\n    useTheme\n} from \"@material-ui/core\";\nimport useHttpHandled from \"../../../hooks/useHttpHandled\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport categoryHttp from \"../../../util/http/categoryHttp\";\nimport {getGenresFromCategory} from \"../../../util/model-filters\";\nimport {grey} from \"@material-ui/core/colors\";\nimport {RefAttributes, useCallback} from \"react\";\nimport {useImperativeHandle} from \"react\";\nimport {useRef} from \"react\";\nimport {MutableRefObject} from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    genresSubtitle: {\n        color: grey[\"800\"],\n        fontSize: '0.8rem'\n    }\n}));\n\ninterface CategoryFieldProps extends RefAttributes<CategoryFieldComponent> {\n    categories: any[],\n    setCategories: (categories: any) => void\n    genres: any\n    error: any\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n}\n\nexport interface CategoryFieldComponent {\n    clear: () => void\n}\n\nconst CategoryField = React.forwardRef<CategoryFieldComponent, CategoryFieldProps>((props, ref) => {\n    const {categories, setCategories, genres, error, disabled} = props;\n    const classes = useStyles();\n    const autocompleteHttp = useHttpHandled();\n    const {addItem, removeItem} = useCollectionManager(categories, setCategories);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n    const theme = useTheme();\n\n    const fetchOptions = useCallback((searchText: string) => {\n        // @ts-ignore\n        return autocompleteHttp(\n            categoryHttp\n                .list({\n                    queryParams: {\n                        // @ts-ignore\n                        genres: genres.map(genre => genre.id).join(','),\n                        all: \"\"\n                    }\n                })\n        ).then(data => data.data)\n    }, [autocompleteHttp, genres])\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n\n\n    return (\n        <>\n            <AsyncAutocomplete\n                fetchOptions={fetchOptions}\n                ref={autocompleteRef}\n                AutocompleteProps={{\n                    // @ts-ignore\n                    autoSelect: true,\n                    options: [],\n                    clearOnEscape: true,\n                    getOptionLabel: option => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (event, value) => addItem(value),\n                    disabled: disabled === true || !genres.length\n                }}\n                TextFieldProps={{\n                    label: 'Categories',\n                    error: error !== undefined\n                }}\n            />\n            <FormHelperText style={{height: theme.spacing(3)}}>\n                Choose at lease one category of each genre\n            </FormHelperText>\n            <FormControl\n                margin={\"normal\"}\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        categories.map((category, key) => {\n                            const genresFromCategory = getGenresFromCategory(genres, category)\n                                .map(genre => genre.name)\n                                .join(',');\n                            return (\n                                <GridSelectedItem\n                                    key={key}\n                                    onDelete={() => removeItem(category)} xs={12}\n                                >\n                                    <Typography noWrap={true}>\n                                        {category.name}\n                                    </Typography>\n                                    <Typography noWrap={true} className={classes.genresSubtitle}>\n                                        Genres: {genresFromCategory}\n                                    </Typography>\n                                </GridSelectedItem>\n                            )\n                        })\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default CategoryField;","// @flow\nimport * as React from 'react';\nimport {MutableRefObject, RefAttributes, useCallback, useImperativeHandle, useRef} from 'react';\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from \"../../../components/AsyncAutoComplete\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport {FormControl, FormControlProps, FormHelperText, Typography} from \"@material-ui/core\";\nimport useHttpHandled from \"../../../hooks/useHttpHandled\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport castMemberHttp from \"../../../util/http/memberHttp\";\n\ninterface CastMemberFieldProps extends RefAttributes<CastMemberFieldProps> {\n    castMembers: any[],\n    setCastMembers: (castMembers: any) => void\n    error: any\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n}\n\nexport interface CastMemberFieldComponent {\n    clear: () => void\n}\n\nconst CastMemberField = React.forwardRef<CastMemberFieldComponent, CastMemberFieldProps>((props, ref) => {\n    const {\n        castMembers,\n        setCastMembers,\n        error,\n        disabled\n    } = props;\n    const autocompleteHttp = useHttpHandled();\n    const {addItem, removeItem} = useCollectionManager(castMembers, setCastMembers);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n\n    const fetchOptions = useCallback((searchText: string) => {\n        return autocompleteHttp(\n            castMemberHttp\n                .list({\n                    queryParams: {\n                        search: searchText, all: \"\"\n                    }\n                })\n        ).then(data => data.data)\n    }, [autocompleteHttp])\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    //autoSelect: true,\n                    options: [],\n                    clearOnEscape: true,\n                    freeSolo: true,\n                    getOptionLabel: option => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (event, value) => addItem(value),\n                    disabled\n                }}\n                TextFieldProps={{\n                    label: 'Elenco',\n                    error: error !== undefined\n                }}\n            />\n            <FormControl\n                margin={\"normal\"}\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        castMembers.map((castMember, key) => (\n                            <GridSelectedItem\n                                key={key}\n                                onDelete={() => {\n                                    removeItem(castMember)\n                                }}\n                                xs={6}>\n                                <Typography noWrap={true}>\n                                    {castMember.name}\n                                </Typography>\n                            </GridSelectedItem>\n                        ))\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default CastMemberField;","import {useSnackbar} from \"notistack\";\nimport {useEffect} from \"react\";\n\nconst useSnackbarFormError = (submitCount: any, errors: any) => {\n    const {enqueueSnackbar} = useSnackbar();\n    useEffect(() => {\n        const hasError = Object.keys(errors).length !== 0;\n        if (submitCount > 0 && hasError) {\n            enqueueSnackbar(\n                'Invalid form. check the red fields.',\n                {variant: 'error'}\n            )\n        }\n    }, [submitCount, errors, enqueueSnackbar])\n};\n\nexport default useSnackbarFormError;","import {FileUpload, Upload} from \"./types\";\n\nexport function countInProgress(uploads: Upload[]) {\n    return uploads.filter(upload => !isFinished(upload)).length\n}\n\nexport function isFinished(obj: Upload | FileUpload): boolean {\n    return obj.progress === 1 || hasError(obj);\n}\n\nexport function hasError(obj: Upload | FileUpload): boolean {\n    if (isUploadType(obj)) {\n        const upload = obj as Upload;\n        return upload.files.some(file => file.error)\n    } else {\n        const file = obj as FileUpload;\n        return file.error !== undefined;\n    }\n}\n\nexport function isUploadType(obj: Upload | FileUpload) {\n    return 'video' in obj\n}","import React from \"react\";\nimport {CircularProgress, Fade, makeStyles} from \"@material-ui/core\";\nimport {grey} from \"@material-ui/core/colors\";\nimport {FileUpload, Upload} from \"../store/upload/types\";\nimport {hasError} from \"../store/upload/getters\";\n\nconst useStyles = makeStyles({\n    progressContainer: {\n        position: 'relative',\n    },\n    progress: {\n        position: 'absolute',\n        left: 0\n    },\n    progressBackground: {\n        color: grey[\"300\"]\n    },\n});\n\ninterface UploadProgressProps {\n    uploadOrFile: Upload | FileUpload;\n    size: number;\n}\n\nconst UploadProgress: React.FC<UploadProgressProps> = (props) => {\n    const {uploadOrFile, size} = props;\n    const classes = useStyles();\n    const error = hasError(uploadOrFile);\n    return (\n        <Fade in={uploadOrFile.progress < 1} timeout={{enter: 100, exit: 2000}}>\n            <div className={classes.progressContainer}>\n                <CircularProgress\n                    variant=\"determinate\"\n                    value={100}\n                    className={classes.progressBackground}\n                    size={size}\n                />\n                <CircularProgress\n                    className={classes.progress}\n                    variant=\"determinate\"\n                    value={error ? 0 : uploadOrFile.progress * 100}\n                    size={size}\n                />\n            </div>\n        </Fade>\n    )\n};\n\nexport default UploadProgress;","import * as Typings from \"./types\";\nimport {createActions, createReducer} from 'reduxsauce';\nimport update from 'immutability-helper';\n\nexport const {Types, Creators} = createActions<{\n    ADD_UPLOAD: string,\n    REMOVE_UPLOAD: string,\n    UPDATE_PROGRESS: string,\n    SET_UPLOAD_ERROR: string\n}, {\n    addUpload(payload: Typings.AddUploadAction['payload']): Typings.AddUploadAction\n    removeUpload(payload: Typings.RemoveUploadAction['payload']): Typings.RemoveUploadAction\n    updateProgress(payload: Typings.UpdateProgressAction['payload']): Typings.UpdateProgressAction\n    setUploadError(payload: Typings.SetUploadErrorAction['payload']): Typings.SetUploadErrorAction\n}>\n({\n    addUpload: ['payload'],\n    removeUpload: ['payload'],\n    updateProgress: ['payload'],\n    setUploadError: ['payload'],\n});\n\nexport const INITIAL_STATE: Typings.UploadState = {\n    uploads: []\n};\n\nconst reducer = createReducer<Typings.UploadState, Typings.Actions>(INITIAL_STATE, {\n    [Types.ADD_UPLOAD]: addUpload as any,\n    [Types.REMOVE_UPLOAD]: removeUpload as any,\n    [Types.UPDATE_PROGRESS]: updateProgress as any,\n    [Types.SET_UPLOAD_ERROR]: setUploadError as any\n});\n\nexport default reducer;\n\nfunction addUpload(state = INITIAL_STATE, action: Typings.AddUploadAction): Typings.UploadState {\n    if (!action.payload.files.length) {\n        return state;\n    }\n\n    const index = findIndexUpload(state, action.payload.video.id);\n\n    if (index !== -1 && state.uploads[index].progress < 1) {\n        return state;\n    }\n\n    const uploads = index === -1\n        ? state.uploads\n        : update(state.uploads, {\n            $splice: [[index, 1]]\n        });\n\n    return {\n        uploads: [\n            ...uploads,\n            {\n                video: action.payload.video,\n                progress: 0,\n                files: action.payload.files.map(file => ({\n                    fileField: file.fileField,\n                    filename: file.file.name,\n                    progress: 0\n                }))\n            }\n        ]\n    };\n}\n\nfunction removeUpload(state: Typings.UploadState = INITIAL_STATE, action: Typings.RemoveUploadAction): Typings.UploadState {\n    const uploads = state.uploads.filter(upload => upload.video.id !== action.payload.id);\n\n    if (uploads.length === state.uploads.length) {\n        return state;\n    }\n\n    return {\n        uploads\n    }\n}\n\nfunction updateProgress(state: Typings.UploadState = INITIAL_STATE, action: Typings.UpdateProgressAction): Typings.UploadState {\n    //indexUpload, indexFile\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField)\n\n    if (typeof indexUpload === \"undefined\") {\n        return state;\n    }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    if (file.progress === action.payload.progress) {\n        return state;\n    }\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            $apply(upload) {\n                const files = update(upload.files, {\n                    [indexFile]: {\n                        $set: {...file, progress: action.payload.progress}\n                    }\n                });\n                const progress = calculateGlobalProgress(files);\n                return {...upload, progress, files}\n            }\n        }\n    });\n\n    return {uploads};\n}\n\nfunction setUploadError(state: Typings.UploadState = INITIAL_STATE, action: Typings.SetUploadErrorAction): Typings.UploadState {\n    //indexUpload, indexFile\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField);\n\n    if (typeof indexUpload === \"undefined\") {\n        return state;\n    }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            files: {\n                [indexFile]: {\n                    $set: {...file, error: action.payload.error, progress: 1}\n                }\n            }\n        }\n    });\n\n    return {uploads};\n}\n\nfunction findIndexUploadAndFile(state: Typings.UploadState, videoId:any, fileField:any): { indexUpload?:any, indexFile?:any } {\n    const indexUpload = findIndexUpload(state, videoId);\n    if (indexUpload === -1) {\n        return {};\n    }\n\n    const upload = state.uploads[indexUpload];\n    const indexFile = findIndexFile(upload.files, fileField);\n    return indexFile === -1 ? {} : {indexUpload, indexFile}\n\n}\n\nfunction calculateGlobalProgress(files: Array<{ progress:any }>) {\n    const countFiles = files.length;\n    if (!countFiles) {\n        return 0;\n    }\n    const sumProgress = files.reduce((sum, file) => sum + file.progress, 0)\n    return sumProgress / countFiles;\n}\n\nfunction findIndexUpload(state: Typings.UploadState, id: string) {\n    return state.uploads.findIndex((upload) => upload.video.id === id);\n}\n\nfunction findIndexFile(files: Array<{ fileField:any }>, fileField: string) {\n    return files.findIndex(file => file.fileField === fileField);\n}\n\n//adicionar arquivos\n//video vento levou","import * as React from \"react\";\nimport {Fade, IconButton, ListItemSecondaryAction, makeStyles, Theme} from \"@material-ui/core\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport {Upload} from \"../../store/upload/types\";\nimport {useDispatch} from \"react-redux\";\nimport {Creators} from '../../store/upload';\nimport {hasError, isFinished} from \"../../store/upload/getters\";\nimport {useEffect, useState} from \"react\";\nimport {useDebounce} from \"use-debounce\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    successIcon: {\n        color: theme.palette.success.main\n    },\n    errorIcon: {\n        color: theme.palette.error.main\n    },\n}));\n\ninterface UploadActionProps {\n    upload: Upload;\n    hover: boolean;\n}\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n    const {upload, hover} = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const error = hasError(upload);\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 2500);\n\n    useEffect(() => {\n        setShow(isFinished(upload))\n    }, [upload]);\n\n    return (\n        debouncedShow\n            ? (<Fade in={show} timeout={{enter: 1000}}>\n                    <ListItemSecondaryAction>\n                <span hidden={hover}>\n                    {\n                        upload.progress === 1 && !error && (\n                            <IconButton className={classes.successIcon} edge={\"end\"}>\n                                <CheckCircleIcon/>\n                            </IconButton>\n                        )\n                    }\n                    {\n                        error && (\n                            <IconButton className={classes.errorIcon} edge={\"end\"}>\n                                <ErrorIcon/>\n                            </IconButton>\n                        )\n                    }\n                </span>\n                        <span hidden={!hover}>\n                    <IconButton\n                        color={'primary'}\n                        edge={\"end\"}\n                        onClick={() => dispatch(Creators.removeUpload({id: upload.video.id}))}\n                    >\n                        <DeleteIcon/>\n                    </IconButton>\n                </span>\n                    </ListItemSecondaryAction>\n                </Fade>\n            )\n            : null\n    )\n};\n\nexport default UploadAction;","import * as React from \"react\";\nimport {\n    Divider,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    makeStyles,\n    Theme, Tooltip,\n    Typography\n} from \"@material-ui/core\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport UploadProgress from \"../UploadProgress\";\nimport UploadAction from \"./UploadAction\";\nimport {Upload} from \"../../store/upload/types\";\nimport {hasError} from \"../../store/upload/getters\";\nimport {useState} from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    listItem: {\n        paddingTop: '7px',\n        paddingBottom: '7px',\n        height: '53px'\n    },\n    movieIcon: {\n        color: theme.palette.error.main,\n        minWidth: '40px'\n    },\n    listItemText: {\n        marginLeft: '6px',\n        marginRight: '24px',\n        color: theme.palette.text.secondary\n    },\n}));\n\ninterface UploadItemProps {\n    upload: Upload;\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const {upload} = props;\n    const classes = useStyles();\n    const error = hasError(upload);\n    const [itemHover, setItemHover] = useState(false);\n    return (\n        <>\n            <Tooltip\n                disableFocusListener\n                disableTouchListener\n                title={\n                    error ? \"Cannot upload, click for details\" : \"\"\n                }\n                placement={\"left\"}\n            >\n                <ListItem\n                    className={classes.listItem}\n                    button\n                    onMouseOver={() => setItemHover(true)}\n                    onMouseLeave={() => setItemHover(false)}\n                >\n                    <ListItemIcon className={classes.movieIcon}>\n                        <MovieIcon/>\n                    </ListItemIcon>\n                    <ListItemText\n                        className={classes.listItemText}\n                        primary={\n                            <Typography noWrap={true} variant={'subtitle2'} color={\"inherit\"}>\n                                {upload.video.title}\n                            </Typography>\n                        }\n                    />\n                    <UploadProgress size={30} uploadOrFile={upload}/>\n                    <UploadAction upload={upload} hover={itemHover}/>\n                </ListItem>\n            </Tooltip>\n            <Divider component=\"li\"/>\n        </>\n    )\n};\n\nexport default UploadItem;","import * as React from 'react';\nimport {\n    Card,\n    CardActions,\n    Collapse,\n    IconButton,\n    List, Theme,\n    Typography\n} from \"@material-ui/core\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {useSnackbar} from \"notistack\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {useState} from \"react\";\nimport classnames from \"classnames\";\nimport UploadItem from \"./UploadItem\";\nimport {useSelector} from \"react-redux\";\nimport {Upload, UploadModule} from \"../../store/upload/types\";\nimport {countInProgress} from \"../../store/upload/getters\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    card: {\n        width: 450,\n    },\n    cardActionRoot: {\n        padding: '8px 8px 8px 16px',\n        backgroundColor: theme.palette.primary.main,\n    },\n    title: {\n        fontWeight: 'bold',\n        color: theme.palette.primary.contrastText,\n    },\n    icons: {\n        marginLeft: 'auto !important',\n        color: theme.palette.primary.contrastText,\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    list: {\n        paddingTop: 0,\n        paddingBottom: 0\n    }\n}));\n\ninterface SnackbarUploadProps {\n    id: string | number;\n}\n\nconst SnackbarUpload = React.forwardRef<any, SnackbarUploadProps>((props, ref) => {\n\n    const {id} = props;\n    const classes = useStyles();\n    const {closeSnackbar} = useSnackbar();\n    const [expanded, setExpanded] = useState(true);\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state) => state.upload.uploads\n    );\n\n    const totalInProgress = countInProgress(uploads);\n\n    return (\n        <Card ref={ref} className={classes.card}>\n            <CardActions classes={{root: classes.cardActionRoot}}>\n                <Typography variant=\"subtitle2\" className={classes.title}>\n                    Fazendo upload de {totalInProgress} vdeo(s)\n                </Typography>\n                <div className={classes.icons}>\n                    <IconButton\n                        color={\"inherit\"}\n                        onClick={() => setExpanded(!expanded)}\n                        className={classnames(classes.expand, {[classes.expandOpen]: !expanded})}\n                    >\n                        <ExpandMoreIcon/>\n                    </IconButton>\n                    <IconButton\n                        color={\"inherit\"}\n                        onClick={() => closeSnackbar(id)}\n                    >\n                        <CloseIcon/>\n                    </IconButton>\n                </div>\n            </CardActions>\n            <Collapse in={expanded}>\n                <List className={classes.list}>\n                    {\n                        uploads.map((upload, key) => (\n                            <UploadItem key={key} upload={upload}/>\n                        ))\n                    }\n                </List>\n            </Collapse>\n        </Card>\n    );\n});\n\nexport default SnackbarUpload;","import * as React from 'react';\nimport {createRef, MutableRefObject, useCallback, useContext, useEffect, useRef, useState} from 'react';\nimport {\n    Card,\n    CardContent,\n    Checkbox,\n    FormControlLabel,\n    Grid,\n    makeStyles,\n    TextField,\n    Theme,\n    Typography,\n    useMediaQuery,\n    useTheme\n} from \"@material-ui/core\";\nimport {Controller, useForm} from \"react-hook-form\";\nimport * as yup from 'yup';\nimport {useHistory, useParams} from \"react-router\";\nimport {useSnackbar} from \"notistack\";\nimport {CastMember, Category, Genre, Video, VideoFileFieldsMap} from \"../../../util/models\";\nimport {DefaultForm} from \"../../../components/DefaultForm\";\nimport {yupResolver} from \"@hookform/resolvers/yup\";\nimport videoHttp from \"../../../util/http/videosHttp\";\nimport {SubmitActions} from \"../../../components/SubmitActions\";\nimport RatingField from \"./RatingField\";\nimport UploadField from \"./UploadField\";\nimport GenreField, {GenreFieldComponent} from \"./GenreField\";\nimport CategoryField, {CategoryFieldComponent} from \"./CategoryField\";\nimport CastMemberField, {CastMemberFieldComponent} from \"./CastMemberField\";\nimport {omit, zipObject} from 'lodash';\nimport {InputFileComponent} from \"../../../components/InputFile\";\nimport useSnackbarFormError from \"../../../hooks/useSnackbarFormError\";\nimport LoadingContext from \"../../../components/loading/LoadingContext\";\nimport SnackbarUpload from \"../../../components/SnackbarUpload\";\nimport {useDispatch} from \"react-redux\";\nimport {FileInfo} from \"../../../store/upload/types\";\nimport {Creators} from '../../../store/upload';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    cardUpload: {\n        borderRadius: \"4px\",\n        backgroundColor: \"#f5f5f5\",\n        margin: theme.spacing(2, 0)\n    },\n    cardOpened: {\n        borderRadius: \"4px\",\n        backgroundColor: \"#f5f5f5\",\n    },\n    cardContentOpened: {\n        paddingBottom: theme.spacing(2) + 'px !important'\n    },\n}));\n\nconst validationSchema = yup.object().shape({\n    title: yup.string()\n        .label('Title')\n        .required()\n        .max(255),\n    description: yup.string()\n        .label('Synopsis')\n        .required(),\n    year_launched: yup.number()\n        .label('Year Launched')\n        .required()\n        .min(1980),\n    duration: yup.number()\n        .label('Duration')\n        .required()\n        .min(1),\n    cast_members: yup.array()\n        .label('Casts')\n        .required(),\n    genres: yup.array()\n        .label('Genres')\n        .required().test({\n            message: 'Each Genre Must be chosen at least by one selected category',\n            test(value: any) { //array genres [{name, categories: []}]\n                return value.every(\n                    (v: any) => v.categories.filter(\n                        (cat: any) => this.parent.categories.map((c: any) => c.id).includes(cat.id)\n                    ).length !== 0\n                );\n            }\n        }),\n    categories: yup.array()\n        .label('Categories')\n        .required(),\n    rating: yup.string()\n        .label('Classification')\n        .required()\n});\n\n\nexport const Index = () => {\n    const {\n        handleSubmit,\n        getValues,\n        control,\n        watch,\n        trigger,\n        reset,\n        setError,\n        setValue,\n        formState: {errors, submitCount}\n    } = useForm({\n        defaultValues: {\n            title: '',\n            description: '',\n            rating: '',\n            thumb_file: '',\n            banner_file: '',\n            trailer_file: '',\n            video_file: '',\n            year_launched: 0,\n            duration: 0,\n            opened: false,\n            genres: [],\n            cast_members: [],\n            categories: []\n        },\n        resolver: yupResolver(validationSchema)\n\n    });\n    useSnackbarFormError(submitCount, errors);\n    const fileFields = Object.keys(VideoFileFieldsMap);\n    const {id} = useParams() as any\n    const {enqueueSnackbar} = useSnackbar();\n    const history = useHistory();\n    const classes = useStyles();\n    const [video, setVideo] = useState<Video | null>(null);\n    const loading = useContext(LoadingContext);\n    const theme = useTheme();\n    const isGreaterMd = useMediaQuery(theme.breakpoints.up('md'));\n    const castMemberRef = useRef() as MutableRefObject<CastMemberFieldComponent>;\n    const genreRef = useRef() as MutableRefObject<GenreFieldComponent>;\n    const categoryRef = useRef() as MutableRefObject<CategoryFieldComponent>;\n    const uploadsRef = useRef(\n        zipObject(fileFields, fileFields.map(() => createRef()))\n    ) as MutableRefObject<{ [key: string]: MutableRefObject<InputFileComponent> }>;\n    const dispatch = useDispatch();\n\n    const resetForm = useCallback((data: any) => {\n        Object.keys(uploadsRef.current).forEach(\n            field => uploadsRef.current[field].current.clear()\n        );\n        castMemberRef.current.clear();\n        genreRef.current.clear();\n        categoryRef.current.clear();\n        reset(data);\n    }, [reset])\n\n    useEffect(() => {\n        if (!id) {\n            return\n        }\n\n        videoHttp.get(id).then(({data}) => {\n            setVideo(data.data)\n            resetForm(data.data)\n        }).catch(() => {\n            history.push('/videos')\n            enqueueSnackbar('Video not found', {variant: 'error'})\n        })\n    }, [resetForm, id, reset, enqueueSnackbar, history])\n\n\n    function onSubmit(formData: any, event: any) {\n        const sendData: any = omit(\n            formData,\n            [...fileFields, 'cast_members', 'genres', 'categories']\n        );\n        sendData['cast_members_id'] = formData['cast_members'].map((cast_member: CastMember) => cast_member.id);\n        sendData['categories_id'] = formData['categories'].map((category: Category) => category.id);\n        sendData['genres_id'] = formData['genres'].map((genre: Genre) => genre.id);\n\n        const http = !video\n            ? videoHttp.create(sendData)\n            : videoHttp.update(video.id, sendData);\n        http.then(({data}) => {\n            enqueueSnackbar('Video save successful', {variant: 'success'})\n            uploadFiles(data.data);\n            event\n                ? (\n                    id\n                        ? history.replace(`/videos/${data.data.id}/edit`)\n                        : history.push(`/videos/${data.data.id}/edit`)\n                ) :\n                history.push('/videos')\n        }).catch((error) => {\n            enqueueSnackbar(error.message, {variant: 'success'})\n        })\n    }\n\n    function uploadFiles(video: any) {\n        // @ts-ignore\n        const files: FileInfo[] = fileFields\n            // @ts-ignore\n            .filter((fileField) => getValues()[fileField])\n            // @ts-ignore\n            .map(fileField => ({fileField, file: getValues()[fileField] as File}));\n\n        if (!files.length) {\n            return;\n        }\n\n        dispatch(Creators.addUpload({video, files}));\n\n        enqueueSnackbar('', {\n            key: 'snackbar-upload',\n            persist: true,\n            anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right'\n            },\n            content: (key, message) => {\n                const id = key as any;\n                return <SnackbarUpload id={id}/>\n            }\n        });\n    }\n\n    return (\n        <DefaultForm\n            GridItemProps={{xs: 12}}\n            onSubmit={handleSubmit(onSubmit)}\n        >\n            <Grid container spacing={5}>\n                <Grid item xs={12} md={6}>\n                    <Controller control={control} render={({field: props}) => (\n                        <TextField\n                            {...props}\n                            type={'text'}\n                            label={'Title'}\n                            fullWidth\n                            variant={'outlined'}\n                            margin={'normal'}\n                            disabled={loading}\n                            error={!!errors.title}\n                            helperText={errors.title && errors.title.message}\n                            InputLabelProps={{shrink: true}}\n                        />\n                    )} name={'title'}/>\n\n                    <Controller control={control} render={({field: props}) => (\n                        <TextField\n                            {...props}\n                            label={'Synopsis'}\n                            variant={'outlined'}\n                            value={props.value || ''}\n                            disabled={loading}\n                            multiline\n                            fullWidth\n                            rows={4}\n                            error={!!errors.description}\n                            helperText={errors.description && errors.description.message}\n                            InputLabelProps={{shrink: true}}\n                        />\n                    )} name={'description'}/>\n                    <Grid container spacing={1}>\n                        <Grid item xs={6}>\n                            <Controller control={control} render={({field: props}) => (\n                                <TextField\n                                    {...props}\n                                    type={'number'}\n                                    label={'Year Launched'}\n                                    fullWidth\n                                    variant={'outlined'}\n                                    margin={'normal'}\n                                    disabled={loading}\n                                    error={!!errors.year_launched}\n                                    helperText={errors.year_launched && errors.year_launched.message}\n                                    InputLabelProps={{shrink: true}}\n                                />\n                            )} name={'year_launched'}/>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Controller control={control} render={({field: props}) => (\n                                <TextField\n                                    {...props}\n                                    type={'number'}\n                                    label={'Duration'}\n                                    fullWidth\n                                    variant={'outlined'}\n                                    margin={'normal'}\n                                    disabled={loading}\n                                    error={!!errors.duration}\n                                    helperText={errors.duration && errors.duration.message}\n                                    InputLabelProps={{shrink: true}}\n                                />\n                            )} name={'duration'}/>\n                        </Grid>\n                    </Grid>\n                    <CastMemberField\n                        ref={castMemberRef}\n                        castMembers={watch('cast_members')}\n                        setCastMembers={(value) => setValue('cast_members', value)}\n                        error={errors.cast_members}\n                        disabled={loading}\n                    />\n                    <br/>\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} md={6}>\n                            <GenreField\n                                ref={genreRef}\n                                genres={watch('genres')}\n                                setGenres={(value) => setValue('genres', value)}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value)}\n                                error={errors.genres}\n                                disabled={loading}\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <CategoryField\n                                ref={categoryRef}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value)}\n                                genres={watch('genres')}\n                                error={errors.categories}\n                                disabled={loading}\n                            />\n                        </Grid>\n                    </Grid>\n\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <RatingField\n                        value={watch('rating')}\n                        setValue={(value) => {\n                            setValue('rating', value)\n                        }}\n                        error={errors.rating}\n                        FormControlProps={{margin: isGreaterMd ? 'none' : 'normal'}}\n                        disabled={loading}/>\n                    <br/>\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                                Images\n                            </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['thumb_file']}\n                                accept={'image/*'}\n                                label={'Thumb'}\n                                setValue={(value) => setValue('thumb_file', value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['banner_file']}\n                                accept={'image/*'}\n                                label={'Banner'}\n                                setValue={(value) => setValue('banner_file', value)}\n                            />\n                        </CardContent>\n                    </Card>\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                                Videos\n                            </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['trailer_file']}\n                                accept={'video/mp4'}\n                                label={'Trailer'}\n                                setValue={(value) => setValue('trailer_file', value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['video_file']}\n                                accept={'video/mp4'}\n                                label={'Principal'}\n                                setValue={(value) => {\n                                    setValue('video_file', value)\n                                }}\n                            />\n                        </CardContent>\n                    </Card>\n                    <br/>\n                    <Card className={classes.cardOpened}>\n                        <CardContent className={classes.cardContentOpened}>\n                            <FormControlLabel\n                                control={\n                                    <Checkbox\n                                        name=\"opened\"\n                                        color={'primary'}\n                                        onChange={\n                                            () => setValue('opened', !getValues()['opened'])\n                                        }\n                                        checked={watch('opened')}\n                                        disabled={loading}\n                                    />\n                                }\n                                label={\n                                    <Typography color=\"primary\" variant={\"subtitle2\"}>\n                                        show this video on launch section.\n                                    </Typography>\n                                }\n                                labelPlacement=\"end\"\n                            />\n                        </CardContent>\n                    </Card>\n                </Grid>\n            </Grid>\n            <SubmitActions disabledButtons={loading} handleSave={async () => {\n                await trigger();\n                if (!getValues().cast_members.length) {\n                    setError('cast_members', {type: 'required', message: 'Field Required'})\n                }\n                if (!getValues()?.categories.length) {\n                    setError('categories', {type: 'required', message: 'Field Required'})\n                }\n                if (!getValues()?.genres.length) {\n                    setError('genres', {type: 'required', message: 'Field Required'})\n                }\n\n                if (!errors.title) {\n                    onSubmit(getValues(), null)\n                }\n            }}/>\n\n        </DefaultForm>\n    );\n};","// @flow\nimport * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Index} from \"./Form\";\nimport {useParams} from \"react-router\";\n\nexport const PageForm = () => {\n    const {id} = useParams() as any\n    return (\n        <Page title={id ? 'Edit Video' : 'Create Video'}>\n            <Index/>\n        </Page>\n    );\n};\n\nexport default PageForm;","// @flow\nimport * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {FormControlLabel, Radio, RadioGroup, TextField} from \"@material-ui/core\";\nimport {Controller, useForm} from \"react-hook-form\";\nimport memberHttp from \"../../util/http/memberHttp\";\nimport {useHistory, useParams} from \"react-router\";\nimport {useSnackbar} from \"notistack\";\nimport * as yup from \"yup\";\nimport {yupResolver} from \"@hookform/resolvers/yup\";\nimport {SubmitActions} from \"../../components/SubmitActions\";\n\nexport const Form = () => {\n    const {id} = useParams() as any\n    const {enqueueSnackbar} = useSnackbar();\n    const [loading, setLoading] = useState(false)\n    const [type, setType] = useState(\"1\")\n    const history = useHistory();\n\n    interface UseFormInputs {\n        name: string,\n        type: number\n    }\n\n    const validationSchema = yup.object().shape({\n        name: yup\n            .string()\n            .label('Name')\n            .required()\n            .max(25)\n            .label('Name'),\n    })\n\n\n    const {\n        handleSubmit,\n        getValues,\n        control,\n        trigger,\n        reset,\n        setValue,\n        formState: {errors}\n\n    } = useForm<UseFormInputs>({\n        defaultValues: {name: '', type: 1},\n        resolver: yupResolver(validationSchema)\n    })\n\n    useEffect(() => {\n        if (!id) {\n            return\n        }\n        setLoading(true)\n        memberHttp.get(id).then(({data}) => {\n            setLoading(false)\n            let filterData = {name: data.data.name, type: data.data.type}\n            setType(filterData.type.toString())\n            reset(filterData)\n        }).catch((err) => {\n            setLoading(false)\n            history.push('/genres')\n            enqueueSnackbar('Genre not found', {variant: 'error'})\n        })\n    }, [enqueueSnackbar, history, id, reset, setValue])\n\n    function onSubmit(formData: any, event: any) {\n        setLoading(true)\n        const requestHttp = id ? memberHttp.update(id, formData) : memberHttp.create(formData)\n        requestHttp.then(({data}) => {\n            setLoading(false)\n            enqueueSnackbar('Member save successful', {variant: 'success'})\n            event ? (\n                    id ? history.replace(`/members/${data.data.id}/edit`) : history.push(`/members/${data.data.id}/edit`)\n                ) :\n                history.push('/members')\n        }).catch((error) => {\n            setLoading(false)\n            enqueueSnackbar(error.message, {variant: 'error'})\n        })\n    }\n\n    const handleFieldChange = (event: any) => {\n        event.persist();\n        setValue('type', event.target.value)\n        setType(event.target.value as any)\n    };\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <Controller control={control} render={({field: props}) => (\n                <TextField\n                    {...props}\n                    type={'text'}\n                    label={'Name'}\n                    fullWidth\n                    variant={'outlined'}\n                    margin={'normal'}\n                    disabled={loading}\n                    error={!!errors.name}\n                    helperText={errors.name && errors.name.message}\n                    InputLabelProps={{shrink: true}}\n                />\n            )} name={'name'}/>\n            <Controller\n                name=\"type\"\n                control={control}\n                render={({field: props}) => (\n                    <RadioGroup\n                        {...props}\n                        value={type.toString()}\n                        defaultValue={type.toString()}\n                        row\n                        aria-label=\"type\"\n                        onChange={handleFieldChange}\n                    >\n                        <FormControlLabel\n                            value={\"1\"}\n                            disabled={loading}\n                            control={<Radio/>}\n                            label=\"Director\"\n                        />\n                        <FormControlLabel\n                            value={\"2\"}\n                            disabled={loading}\n                            control={<Radio/>}\n                            label=\"Actor\"\n                        />\n                    </RadioGroup>\n                )}\n            />\n\n            <SubmitActions disabledButtons={loading} handleSave={async () => {\n                await trigger();\n                if (!errors.name) {\n                    onSubmit(getValues(), null)\n                }\n            }}/>\n        </form>\n    );\n};","// @flow\nimport * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Form} from \"./Form\";\nimport {useParams} from \"react-router\";\n\nexport const PageForm = () => {\n    const {id} = useParams() as any\n    return (\n        <Page title={id ? 'Edit Member' : 'Create Member'}>\n            <Form/>\n        </Page>\n    );\n};\n\nexport default PageForm;","// @flow\nimport * as React from 'react';\nimport {Page} from \"../components/Page\";\n\ninterface DashboardProps {\n\n}\n\nconst Dashboard = (props: DashboardProps) => {\n    return (\n        <Page title={'Dashboard'}>\n        </Page>\n    );\n};\n\nexport default Dashboard","import React, {useEffect, useState} from \"react\";\nimport {Divider, Fade, IconButton, makeStyles, Theme} from \"@material-ui/core\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport {Link} from \"react-router-dom\";\nimport {FileUpload, Upload} from \"../../store/upload/types\";\nimport {Creators} from '../../store/upload';\nimport {useDispatch} from \"react-redux\";\nimport {hasError, isFinished, isUploadType} from \"../../store/upload/getters\";\nimport {useDebounce} from \"use-debounce\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        successIcon: {\n            color: theme.palette.success.main,\n            marginLeft: theme.spacing(1)\n        },\n        errorIcon: {\n            color: theme.palette.error.main,\n            marginLeft: theme.spacing(1)\n        },\n        divider: {\n            height: '20px',\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1)\n        }\n    })\n});\n\ninterface UploadActionProps {\n    uploadOrFile: Upload | FileUpload\n}\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n    const {uploadOrFile} = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 2500);\n    const error = hasError(uploadOrFile);\n    const videoId = (uploadOrFile as any).video ? (uploadOrFile as any).video.id : \"\";\n    const activeActions = isUploadType(uploadOrFile);\n\n    useEffect(() => {\n        setShow(isFinished(uploadOrFile))\n    }, [uploadOrFile]);\n\n    return (\n        debouncedShow\n            ? (<Fade in={true} timeout={{enter: 1000}}>\n                <>\n                    {\n                        uploadOrFile.progress === 1 &&\n                        !error &&\n                        <CheckCircleIcon className={classes.successIcon}/>\n                    }\n\n                    {error && <ErrorIcon className={classes.errorIcon}/>}\n\n                    {\n                        activeActions && (\n                            <>\n                                <Divider className={classes.divider} orientation={'vertical'}/>\n                                <IconButton\n                                    onClick={() => dispatch(Creators.removeUpload({id: videoId}))}\n                                >\n                                    <DeleteIcon color={'primary'}/>\n                                </IconButton>\n                                <IconButton\n                                    component={Link}\n                                    to={`/videos/${videoId}/edit`}\n                                >\n                                    <EditIcon color={'primary'}/>\n                                </IconButton>\n                            </>\n                        )}\n                </>\n            </Fade>)\n            : null\n    )\n};\n\nexport default UploadAction;","import {Grid, ListItem, makeStyles, Theme, Typography} from \"@material-ui/core\";\nimport React from \"react\";\nimport UploadProgress from \"../../components/UploadProgress\";\nimport UploadAction from \"./UploadAction\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport ImageIcon from '@material-ui/icons/Image';\nimport {FileUpload, Upload} from \"../../store/upload/types\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        gridTitle: {\n            display: 'flex',\n            color: '#999999'\n        },\n        icon: {\n            color: theme.palette.error.main,\n            minWidth: '40px'\n        },\n    })\n});\n\ninterface UploadItemProps {\n    uploadOrFile: Upload | FileUpload\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const {uploadOrFile} = props;\n    const classes = useStyles();\n\n    function makeIcon() {\n        if (true) {\n            return <MovieIcon className={classes.icon}/>\n        }\n\n        return <ImageIcon className={classes.icon}/>\n    }\n\n    return (\n        <ListItem>\n            <Grid container alignItems={'center'}>\n                <Grid\n                    className={classes.gridTitle}\n                    item\n                    xs={12}\n                    md={9}\n                >\n                    {makeIcon()}\n                    <Typography color={\"inherit\"}>\n                        {props.children}\n                    </Typography>\n                </Grid>\n                <Grid item xs={12} md={3}>\n                    <Grid\n                        container\n                        direction={\"row\"}\n                        alignItems={'center'}\n                        justify={\"flex-end\"}\n                    >\n                        <UploadProgress size={48} uploadOrFile={uploadOrFile}/>\n                        <UploadAction uploadOrFile={uploadOrFile}/>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </ListItem>\n    )\n};\n\nexport default UploadItem;","import React from \"react\";\nimport {\n    Card,\n    CardContent,\n    Divider,\n    ExpansionPanel,\n    ExpansionPanelDetails,\n    ExpansionPanelSummary,\n    Grid,\n    List,\n    makeStyles,\n    Theme,\n    Typography,\n} from \"@material-ui/core\";\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport UploadItem from \"./UploadItem\";\nimport {Page} from \"../../components/Page\";\nimport {useSelector} from \"react-redux\";\nimport {Upload, UploadModule} from \"../../store/upload/types\";\nimport {VideoFileFieldsMap} from \"../../util/models\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        panelSummary: {\n            backgroundColor: theme.palette.primary.main,\n            color: theme.palette.primary.contrastText\n        },\n        expandedIcon: {\n            color: theme.palette.primary.contrastText\n        }\n    })\n});\n\nconst Uploads = () => {\n    const classes = useStyles();\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state) => state.upload.uploads\n    );\n\n\n    return (\n        <Page title={'Uploads'}>\n            {\n                uploads.map((upload, key) => (\n                    <Card elevation={5} key={key}>\n                        <CardContent>\n                            <UploadItem uploadOrFile={upload}>\n                                {upload.video.title}\n                            </UploadItem>\n                            <ExpansionPanel style={{margin: 0}}>\n                                <ExpansionPanelSummary\n                                    className={classes.panelSummary}\n                                    expandIcon={<ExpandMoreIcon className={classes.expandedIcon}/>}\n                                >\n                                    <Typography>Ver detalhes</Typography>\n                                </ExpansionPanelSummary>\n                                <ExpansionPanelDetails style={{padding: '0px'}}>\n                                    <Grid item xs={12}>\n                                        <List dense={true} style={{padding: '0px'}}>\n                                            {\n                                                upload.files.map((file, key) => (\n                                                    <React.Fragment key={key}>\n                                                        <Divider/>\n                                                        <UploadItem uploadOrFile={file}>\n                                                            {\n                                                                // @ts-ignore\n                                                                `${VideoFileFieldsMap[file.fileField]} - ${file.filename}`\n                                                            }\n                                                        </UploadItem>\n                                                    </React.Fragment>\n                                                ))\n                                            }\n                                        </List>\n                                    </Grid>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        </CardContent>\n                    </Card>\n                ))\n            }\n        </Page>\n    );\n};\n\nexport default Uploads;","import {RouteProps} from 'react-router-dom';\n\nimport categoryList from \"../pages/category/PageList\";\nimport genreList from \"../pages/genre/PageList\";\nimport membersList from \"../pages/member/PageList\";\nimport videoList from \"../pages/video/PageList\";\nimport categoryForm from \"../pages/category/PageForm\";\nimport genreForm from \"../pages/genre/PageForm\";\nimport videoForm from \"../pages/video/PageForm\";\nimport membersForm from \"../pages/member/PageForm\";\nimport Dashboard from '../pages/Dashboard';\nimport UploadPage from \"../pages/uploads\";\n\nexport interface MyRouteProps extends RouteProps {\n    name: string\n    label: string\n}\n\nconst routes: MyRouteProps[] = [\n    {\n        name: 'dashboard',\n        label: 'Dashboard',\n        path: '/',\n        component: Dashboard,\n        exact: true\n    },\n    {\n        name: 'categories.list',\n        label: 'List categories',\n        path: '/categories',\n        component: categoryList,\n        exact: true\n    },\n    {\n        name: 'categories.create',\n        label: 'Create categories',\n        path: '/categories/create',\n        component: categoryForm,\n        exact: true\n    },\n    {\n        name: 'categories.edit',\n        label: 'Edit categories',\n        path: '/categories/:id/edit',\n        component: categoryForm,\n        exact: true\n    },\n    {\n        name: 'members.list',\n        label: 'List Members',\n        path: '/members',\n        component: membersList,\n        exact: true\n    },\n    {\n        name: 'members.create',\n        label: 'List Members',\n        path: '/members/create',\n        component: membersForm,\n        exact: true\n    },\n    {\n        name: 'members.edit',\n        label: 'Edit Members',\n        path: '/members/:id/edit',\n        component: membersForm,\n        exact: true\n    },\n    {\n        name: 'genres.list',\n        label: 'List Genres',\n        path: '/genres',\n        component: genreList,\n        exact: true\n    },\n    {\n        name: 'genres.create',\n        label: 'List Genres',\n        path: '/genres/create',\n        component: genreForm,\n        exact: true\n    },\n    {\n        name: 'genres.edit',\n        label: 'Edit Genres',\n        path: '/genres/:id/edit',\n        component: genreForm,\n        exact: true\n    },\n    {\n        name: 'videos.list',\n        label: 'List Videos',\n        path: '/videos',\n        component: videoList,\n        exact: true\n    },\n    {\n        name: 'videos.create',\n        label: 'List Videos',\n        path: '/videos/create',\n        component: videoForm,\n        exact: true\n    },\n    {\n        name: 'videos.edit',\n        label: 'Edit Videos',\n        path: '/videos/:id/edit',\n        component: videoForm,\n        exact: true\n    },\n    {\n        name: 'uploads',\n        label: 'Uploads',\n        path: '/uploads',\n        component: UploadPage,\n        exact: true\n    }\n]\n\nexport default routes","// @flow\nimport * as React from 'react';\nimport {useState} from 'react';\nimport {IconButton, Menu as MuiMenu, MenuItem} from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport routes, {MyRouteProps} from \"../../routes\";\nimport {Link} from \"react-router-dom\";\n\nconst listRoutes:any = {\n    'dashboard': 'Dashboard',\n    'categories.list': 'Categories',\n    'genres.list': 'Genres',\n    'members.list': 'Cast Members',\n    'videos.list': 'Videos',\n    'uploads': 'Uploads',\n}\nconst menuRoutes = routes.filter((route) => Object.keys(listRoutes).includes(route.name))\n\nexport const Menu = () => {\n    const [anchorEl, setAnchorEl] = useState(null)\n    const handleOpen = (event: any) => setAnchorEl(event.currentTarget);\n    const handleClose = () => setAnchorEl(null);\n    return (\n        <React.Fragment>\n            <IconButton\n                edge={'start'}\n                color={'inherit'}\n                aria-label={'Open drawer'}\n                aria-controls={'menu-appbar'}\n                aria-haspopup={true}\n                onClick={handleOpen}\n            >\n                <MenuIcon/>\n            </IconButton>\n            <MuiMenu\n                open={!!anchorEl}\n                getContentAnchorEl={null}\n                anchorOrigin={{vertical: \"bottom\", horizontal: \"center\"}}\n                transformOrigin={{vertical: \"top\", horizontal: \"center\"}}\n                onClose={handleClose}\n                anchorEl={anchorEl}\n                id={'menu-appbar'}\n            >\n                {Object.keys(listRoutes).map((routeName, key) => {\n                    const route = menuRoutes.find(route => route.name === routeName) as MyRouteProps\n                    return (<MenuItem key={key} component={Link} to={route.path as string} onClick={handleClose}>\n                        {listRoutes[routeName]}\n                    </MenuItem>)\n                })}\n            </MuiMenu>\n        </React.Fragment>\n    );\n};","import * as React from 'react';\nimport {AppBar, Button, makeStyles, Theme, Toolbar, Typography} from \"@material-ui/core\";\nimport logo from '../../assets/images/logo.png'\nimport {Menu} from \"./Menu\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    toolbar: {\n        backgroundColor: 'black'\n    }\n    ,\n    title: {\n        flexGrow: 1,\n        textAlign: 'center'\n    }\n    ,\n    logo: {\n        width: 100,\n        [theme.breakpoints.up('sm')]: {\n            width: 170\n        }\n    }\n}));\n\nexport const Navbar: React.FC = () => {\n    const classes = useStyles();\n    return (\n        <AppBar>\n            <Toolbar className={classes.toolbar}>\n                <Menu/>\n                <Typography className={classes.title}>\n                    <img\n                        alt={'Codeflix'}\n                        src={logo}\n                        className={classes.logo}/>\n                </Typography>\n                <Button color={'inherit'}> Login </Button>\n            </Toolbar>\n        </AppBar>\n    );\n};","export default \"data:image/png;base64,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\"","// @flow\nimport * as React from 'react';\nimport {Route, Switch} from \"react-router-dom\";\nimport routes from './index'\n\nexport const AppRouter: React.FC = (props) => {\n    return (\n        <Switch>\n            {\n                routes.map(\n                    (route, key) => {\n                        return <Route\n                            key={key}\n                            path={route.path}\n                            component={route.component}\n                            exact={route.exact === true}\n                        />\n                    })\n            }\n        </Switch>\n    );\n};\n\nexport default AppRouter","import React from 'react';\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\nimport Link, {LinkProps} from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport {Route} from 'react-router';\nimport {Link as RouterLink} from 'react-router-dom';\nimport {Location} from 'history'\nimport routes from \"../routes\";\nimport RouteParser from 'route-parser'\nimport {Box, Container} from \"@material-ui/core\";\n\nconst breadcrumbNameMap: { [key: string]: string } = {};\n\nroutes.forEach(route => breadcrumbNameMap[route.path as string] = route.label)\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {},\n        linkRouter: {\n            color: theme.palette.secondary.main,\n            '&:focus, &:active': {\n                color: theme.palette.secondary.main,\n            },\n            '&:hover': {\n                color: theme.palette.secondary.dark,\n            }\n        }\n    }),\n);\n\ninterface LinkRouterProps extends LinkProps {\n    to: string;\n    replace?: boolean;\n}\n\nconst LinkRouter = (props: LinkRouterProps) => <Link {...props} component={RouterLink as any}/>;\n\nexport default function Breadcrumb() {\n    const classes = useStyles();\n\n    function makeBreadcrumb(location: Location) {\n        const pathNames = location.pathname.split('/').filter((x) => x);\n        pathNames.unshift('/');\n        return (\n            <Breadcrumbs aria-label=\"breadcrumb\">\n                {pathNames.map((value, index) => {\n                    const last = index === pathNames.length - 1;\n                    const to = `${pathNames.slice(0, index + 1).join('/').replace('//', '/')}`;\n                    const route = Object.keys(breadcrumbNameMap).find(path => new RouteParser(path).match(to))\n                    if (route === undefined) {\n                        return false\n                    }\n                    return last ? (\n                        <Typography color=\"textPrimary\" key={to}>\n                            {breadcrumbNameMap[route]}\n                        </Typography>\n                    ) : (\n                        <LinkRouter color=\"inherit\" to={to} key={to} className={classes.linkRouter}>\n                            {breadcrumbNameMap[to]}\n                        </LinkRouter>\n                    );\n                })}\n            </Breadcrumbs>\n        );\n    }\n\n    return (\n        <Container className={classes.root}>\n            <Box paddingTop={2} paddingBottom={1}>\n                <Route>\n                    {\n                        ({location}) => makeBreadcrumb(location)\n                    }\n                </Route>\n            </Box>\n\n        </Container>\n    );\n}","// @flow\nimport * as React from 'react';\nimport {SnackbarProvider as NotificationStackProvider, SnackbarProviderProps, WithSnackbarProps} from \"notistack\";\nimport {IconButton} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\n\nexport const SnackbarProvider: React.FC<SnackbarProviderProps> = (props) => {\n    let snackbarProviderRef: WithSnackbarProps;\n    const defaultProps: SnackbarProviderProps = {\n\n        children: props.children,\n        autoHideDuration: 3000,\n        maxSnack: 3,\n        anchorOrigin: {\n            horizontal: 'right',\n            vertical: 'top'\n        },\n        preventDuplicate: true,\n        ref: (el) => snackbarProviderRef = el as WithSnackbarProps,\n        action: (key) => (\n            <IconButton\n                color={'inherit'}\n                style={{fontSize: 20}}\n                onClick={() => snackbarProviderRef.closeSnackbar(key)}\n            >\n                <CloseIcon/>\n            </IconButton>\n        )\n    }\n    const newProps = {...defaultProps, ...props}\n    return (\n        <NotificationStackProvider {...newProps}>\n            {props.children}\n        </NotificationStackProvider>\n    );\n};","// @flow\nimport * as React from 'react';\nimport LoadingContext from \"./LoadingContext\";\nimport {useEffect, useMemo, useState} from \"react\";\nimport {\n    addGlobalRequestInterceptor,\n    addGlobalResponseInterceptor,\n    removeGlobalRequestInterceptor, removeGlobalResponseInterceptor\n} from \"../../util/http\";\n\nexport const LoadingProvider = (props:any) => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const [countRequest, setCountRequest] = useState(0);\n\n    //useMemo vs useCallback\n    useMemo(() => {\n        let isSubscribed = true;\n        //axios.interceptors.request.use();\n        const requestIds = addGlobalRequestInterceptor((config:any) => {\n            if (isSubscribed && !config.headers.hasOwnProperty('x-ignore-loading')) {\n                setLoading(true);\n                setCountRequest((prevCountRequest) => prevCountRequest + 1);\n            }\n            return config;\n        });\n        //axios.interceptors.response.use();\n        const responseIds = addGlobalResponseInterceptor(\n            (response:any) => {\n                if (isSubscribed && !response.headers.hasOwnProperty('x-ignore-loading')) {\n                    decrementCountRequest();\n                }\n                return response;\n            },\n            (error:any) => {\n                console.log(error)\n                if (isSubscribed && !error?.headers?.hasOwnProperty('x-ignore-loading')) {\n                    decrementCountRequest();\n                }\n                return Promise.reject(error);\n            }\n        );\n        return () => {\n            isSubscribed = false;\n            removeGlobalRequestInterceptor(requestIds);\n            removeGlobalResponseInterceptor(responseIds);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (!countRequest) {\n            setLoading(false);\n        }\n    }, [countRequest]);\n\n    function decrementCountRequest() {\n        setCountRequest((prevCountRequest) => prevCountRequest - 1);\n    }\n\n    return (\n        <LoadingContext.Provider value={loading}>\n            {props.children}\n        </LoadingContext.Provider>\n    );\n};","import * as React from 'react';\nimport {Fade, LinearProgress, MuiThemeProvider, Theme} from \"@material-ui/core\";\nimport {useContext} from \"react\";\nimport LoadingContext from \"./loading/LoadingContext\";\n\nfunction makeLocalTheme(theme: Theme): Theme {\n    return {\n        ...theme,\n        palette: {\n            ...theme.palette,\n            primary: theme.palette.error,\n            type: 'dark'\n        }\n    }\n}\n\n\nconst Spinner = () => {\n    const loading = useContext(LoadingContext);\n    return (\n        <MuiThemeProvider theme={makeLocalTheme}>\n            <Fade in={loading}>\n                <LinearProgress\n                    color={'primary'}\n                    style={{\n                        position: 'fixed',\n                        width: '100%',\n                        zIndex: 9999\n                    }}\n                />\n            </Fade>\n        </MuiThemeProvider>\n    );\n};\n\nexport default Spinner;","import {Box, CssBaseline, MuiThemeProvider} from '@material-ui/core';\nimport React from 'react';\nimport {Navbar} from \"./components/Navbar\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport AppRouter from \"./routes/AppRouter\";\nimport Breadcrumb from \"./components/Breadcrumb\";\nimport theme from './theme';\nimport {SnackbarProvider} from \"./components/SnackbarProvider\";\nimport {LoadingProvider} from \"./components/loading/LoadingProvider\";\nimport Spinner from \"./components/Spinner\";\n\nconst App: React.FC = () => {\n    return (\n        <React.Fragment>\n            <LoadingProvider>\n                <MuiThemeProvider theme={theme}>\n                    <SnackbarProvider>\n                        <CssBaseline/>\n                        <BrowserRouter basename={'/admin'}>\n                            <Spinner/>\n                            <Navbar/>\n                            <Box paddingTop={'70px'}>\n                                <Breadcrumb/>\n                                <AppRouter/>\n                            </Box>\n                        </BrowserRouter>\n                    </SnackbarProvider>\n                </MuiThemeProvider>\n            </LoadingProvider>\n        </React.Fragment>\n    );\n}\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {Types, Creators} from './index';\nimport {eventChannel, END} from \"redux-saga\";\nimport {actionChannel, take, call, put, select} from 'redux-saga/effects';\nimport {AddUploadAction, FileInfo} from \"./types\";\nimport {Video} from \"../../util/models\";\nimport videoHttp from \"../../util/http/videosHttp\";\n\nexport function* uploadWatcherSaga() {\n\n    // @ts-ignore\n    const newFilesChannel = yield actionChannel(Types.ADD_UPLOAD);\n\n    while (true) {\n        const {payload}: AddUploadAction = yield take(newFilesChannel); //[ [], [] ]\n        // @ts-ignore\n        console.log(yield select((state: any) => state));\n        for (const fileInfo of payload.files) {\n            try {\n                // @ts-ignore\n                const response = yield call(uploadFile, {video: payload.video, fileInfo});\n                console.log(response);\n            } catch (e) {\n                console.log(e);\n            }\n        }\n        console.log(payload);\n    }\n}\n\n//criando um novo video\n//1 - POST e criar\n//2 - PUT com upload\n\n//editar um novo video\n//1 - PUT e editar\n//2 - PUT com upload\nfunction* uploadFile({video, fileInfo}: { video: Video, fileInfo: FileInfo }) {\n    // @ts-ignore\n    const channel = yield call(sendUpload, {id: video.id, fileInfo});\n    while (true) {\n        try {\n            const {progress, response} = yield take(channel);\n            if (response) {\n                return response;\n            }\n            yield put(Creators.updateProgress({\n                video,\n                fileField: fileInfo.fileField,\n                progress\n            }));\n        } catch (e) {\n            yield put(Creators.setUploadError({\n                video,\n                fileField: fileInfo.fileField,\n                error: e\n            }));\n            throw e;\n        }\n    }\n    //saber termino\n    //error\n    //progress\n\n\n}\n\nfunction sendUpload({id, fileInfo}: { id: string, fileInfo: FileInfo }) {\n    return eventChannel(emitter => {\n        videoHttp.partialUpdate(\n            id,\n            {\n                _method: 'PATCH',\n                [fileInfo.fileField]: fileInfo.file\n            },\n            {\n                http: {\n                    usePost: true\n                },\n                config: {\n                    headers: {\n                        'x-ignore-loading': true\n                    },\n                    onUploadProgress(progressEvent: ProgressEvent) {\n                        if (progressEvent.lengthComputable) {\n                            const progress = progressEvent.loaded / progressEvent.total;\n                            console.log(progress);\n                            emitter({progress});\n                        }\n                    }\n                }\n            }\n        )\n            .then((response: any) => emitter({response}))\n            .catch((error: any) => emitter(error))\n            .finally(() => emitter(END));\n\n        const unsubscribe = () => {\n        };\n        return unsubscribe;\n    })\n\n    //termino upload\n    //erro do upload\n    //progress multiplo\n}","import {all} from 'redux-saga/effects';\nimport {uploadWatcherSaga} from \"./upload/sagas\";\n\nexport default function* rootSaga() {\n    yield all([\n        uploadWatcherSaga()\n    ]);\n}","import {createStore, applyMiddleware, combineReducers} from \"redux\";\nimport createSagaMiddleware from 'redux-saga';\nimport upload from \"./upload\";\nimport rootSaga from \"./root-saga\";\n\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(\n    combineReducers({\n        upload\n    }),\n    applyMiddleware(sagaMiddleware)\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux';\nimport store from \"./store\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}